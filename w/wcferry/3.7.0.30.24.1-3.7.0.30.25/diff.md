# Comparing `tmp/wcferry-3.7.0.30.24.1.tar.gz` & `tmp/wcferry-3.7.0.30.25.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "dist/wcferry-3.7.0.30.24.1.tar", last modified: Thu May  4 09:41:52 2023, max compression
+gzip compressed data, was "dist\wcferry-3.7.0.30.25.tar", last modified: Fri May  5 08:43:40 2023, max compression
```

## Comparing `wcferry-3.7.0.30.24.1.tar` & `wcferry-3.7.0.30.25.tar`

### file list

```diff
@@ -1,15 +1,19 @@
-drwxr-xr-x   0 chuck      (501) staff       (20)        0 2023-05-04 09:41:52.000000 wcferry-3.7.0.30.24.1/
--rw-r--r--   0 chuck      (501) staff       (20)       44 2023-03-04 07:36:00.000000 wcferry-3.7.0.30.24.1/MANIFEST.in
--rw-r--r--   0 chuck      (501) staff       (20)     6494 2023-05-04 09:41:52.000000 wcferry-3.7.0.30.24.1/PKG-INFO
--rw-r--r--   0 chuck      (501) staff       (20)       38 2023-05-04 09:41:52.000000 wcferry-3.7.0.30.24.1/setup.cfg
--rw-r--r--   0 chuck      (501) staff       (20)     1217 2023-05-04 09:37:22.000000 wcferry-3.7.0.30.24.1/setup.py
-drwxr-xr-x   0 chuck      (501) staff       (20)        0 2023-05-04 09:41:52.000000 wcferry-3.7.0.30.24.1/wcferry/
--rw-r--r--   0 chuck      (501) staff       (20)       81 2023-03-04 07:29:32.000000 wcferry-3.7.0.30.24.1/wcferry/__init__.py
--rw-r--r--   0 chuck      (501) staff       (20)    16112 2023-05-04 09:37:34.000000 wcferry-3.7.0.30.24.1/wcferry/client.py
--rw-r--r--   0 chuck      (501) staff       (20)     7210 2023-05-04 09:40:58.000000 wcferry-3.7.0.30.24.1/wcferry/wcf_pb2.py
-drwxr-xr-x   0 chuck      (501) staff       (20)        0 2023-05-04 09:41:52.000000 wcferry-3.7.0.30.24.1/wcferry.egg-info/
--rw-r--r--   0 chuck      (501) staff       (20)     6494 2023-05-04 09:41:52.000000 wcferry-3.7.0.30.24.1/wcferry.egg-info/PKG-INFO
--rw-r--r--   0 chuck      (501) staff       (20)      231 2023-05-04 09:41:52.000000 wcferry-3.7.0.30.24.1/wcferry.egg-info/SOURCES.txt
--rw-r--r--   0 chuck      (501) staff       (20)        1 2023-05-04 09:41:52.000000 wcferry-3.7.0.30.24.1/wcferry.egg-info/dependency_links.txt
--rw-r--r--   0 chuck      (501) staff       (20)       30 2023-05-04 09:41:52.000000 wcferry-3.7.0.30.24.1/wcferry.egg-info/requires.txt
--rw-r--r--   0 chuck      (501) staff       (20)        8 2023-05-04 09:41:52.000000 wcferry-3.7.0.30.24.1/wcferry.egg-info/top_level.txt
+drwxrwxrwx   0        0        0        0 2023-05-05 08:43:40.000000 wcferry-3.7.0.30.25/
+-rw-rw-rw-   0        0        0       46 2023-03-10 16:21:28.000000 wcferry-3.7.0.30.25/MANIFEST.in
+-rw-rw-rw-   0        0        0     7068 2023-05-05 08:43:40.000000 wcferry-3.7.0.30.25/PKG-INFO
+-rw-rw-rw-   0        0        0       42 2023-05-05 08:43:40.000000 wcferry-3.7.0.30.25/setup.cfg
+-rw-rw-rw-   0        0        0     1290 2023-05-05 05:19:28.000000 wcferry-3.7.0.30.25/setup.py
+drwxrwxrwx   0        0        0        0 2023-05-05 08:43:40.000000 wcferry-3.7.0.30.25/wcferry/
+-rw-rw-rw-   0        0        0      105 2023-05-04 13:34:55.000000 wcferry-3.7.0.30.25/wcferry/__init__.py
+-rw-rw-rw-   0        0        0    19047 2023-05-05 08:40:02.000000 wcferry-3.7.0.30.25/wcferry/client.py
+-rw-rw-rw-   0        0        0   629760 2023-05-05 06:24:17.000000 wcferry-3.7.0.30.25/wcferry/spy.dll
+-rw-rw-rw-   0        0        0  1150976 2023-05-05 06:20:24.000000 wcferry-3.7.0.30.25/wcferry/spy_debug.dll
+-rwxrwxrwx   0        0        0   370688 2023-05-05 06:24:34.000000 wcferry-3.7.0.30.25/wcferry/wcf.exe
+-rw-rw-rw-   0        0        0     7175 2023-04-19 11:01:25.000000 wcferry-3.7.0.30.25/wcferry/wcf_pb2.py
+-rw-rw-rw-   0        0        0     1866 2023-05-05 01:49:37.000000 wcferry-3.7.0.30.25/wcferry/wxmsg.py
+drwxrwxrwx   0        0        0        0 2023-05-05 08:43:40.000000 wcferry-3.7.0.30.25/wcferry.egg-info/
+-rw-rw-rw-   0        0        0     7068 2023-05-05 08:43:40.000000 wcferry-3.7.0.30.25/wcferry.egg-info/PKG-INFO
+-rw-rw-rw-   0        0        0      302 2023-05-05 08:43:40.000000 wcferry-3.7.0.30.25/wcferry.egg-info/SOURCES.txt
+-rw-rw-rw-   0        0        0        1 2023-05-05 08:43:40.000000 wcferry-3.7.0.30.25/wcferry.egg-info/dependency_links.txt
+-rw-rw-rw-   0        0        0       39 2023-05-05 08:43:40.000000 wcferry-3.7.0.30.25/wcferry.egg-info/requires.txt
+-rw-rw-rw-   0        0        0        8 2023-05-05 08:43:40.000000 wcferry-3.7.0.30.25/wcferry.egg-info/top_level.txt
```

### Comparing `wcferry-3.7.0.30.24.1/PKG-INFO` & `wcferry-3.7.0.30.25/PKG-INFO`

 * *Files 26% similar despite different names*

```diff
@@ -1,406 +1,442 @@
 00000000: 4d65 7461 6461 7461 2d56 6572 7369 6f6e  Metadata-Version
-00000010: 3a20 322e 310a 4e61 6d65 3a20 7763 6665  : 2.1.Name: wcfe
-00000020: 7272 790a 5665 7273 696f 6e3a 2033 2e37  rry.Version: 3.7
-00000030: 2e30 2e33 302e 3234 2e31 0a53 756d 6d61  .0.30.24.1.Summa
-00000040: 7279 3a20 e4b8 80e4 b8aa e78e a9e5 beae  ry: ............
-00000050: e4bf a1e7 9a84 e5b7 a5e5 85b7 0a48 6f6d  .............Hom
-00000060: 652d 7061 6765 3a20 6874 7470 733a 2f2f  e-page: https://
-00000070: 6769 7468 7562 2e63 6f6d 2f6c 6963 6830  github.com/lich0
-00000080: 3832 312f 5765 4368 6174 4665 7272 790a  821/WeChatFerry.
-00000090: 4175 7468 6f72 3a20 4368 616e 6768 7561  Author: Changhua
-000000a0: 0a41 7574 686f 722d 656d 6169 6c3a 206c  .Author-email: l
-000000b0: 6963 6861 6e67 6875 6130 3832 3140 676d  ichanghua0821@gm
-000000c0: 6169 6c2e 636f 6d0a 4c69 6365 6e73 653a  ail.com.License:
-000000d0: 204d 4954 0a50 726f 6a65 6374 2d55 524c   MIT.Project-URL
-000000e0: 3a20 446f 6375 6d65 6e74 6174 696f 6e2c  : Documentation,
-000000f0: 2068 7474 7073 3a2f 2f73 7068 696e 782d   https://sphinx-
-00000100: 6175 746f 6170 692e 7265 6164 7468 6564  autoapi.readthed
-00000110: 6f63 732e 696f 2f65 6e2f 6c61 7465 7374  ocs.io/en/latest
-00000120: 2f0a 5072 6f6a 6563 742d 5552 4c3a 2047  /.Project-URL: G
-00000130: 6974 4875 622c 2068 7474 7073 3a2f 2f67  itHub, https://g
-00000140: 6974 6875 622e 636f 6d2f 6c69 6368 3038  ithub.com/lich08
-00000150: 3231 2f57 6543 6861 7446 6572 7279 2f0a  21/WeChatFerry/.
-00000160: 436c 6173 7369 6669 6572 3a20 456e 7669  Classifier: Envi
-00000170: 726f 6e6d 656e 7420 3a3a 2057 696e 3332  ronment :: Win32
-00000180: 2028 4d53 2057 696e 646f 7773 290a 436c   (MS Windows).Cl
-00000190: 6173 7369 6669 6572 3a20 496e 7465 6e64  assifier: Intend
-000001a0: 6564 2041 7564 6965 6e63 6520 3a3a 2044  ed Audience :: D
-000001b0: 6576 656c 6f70 6572 730a 436c 6173 7369  evelopers.Classi
-000001c0: 6669 6572 3a20 496e 7465 6e64 6564 2041  fier: Intended A
-000001d0: 7564 6965 6e63 6520 3a3a 2043 7573 746f  udience :: Custo
-000001e0: 6d65 7220 5365 7276 6963 650a 436c 6173  mer Service.Clas
-000001f0: 7369 6669 6572 3a20 546f 7069 6320 3a3a  sifier: Topic ::
-00000200: 2043 6f6d 6d75 6e69 6361 7469 6f6e 7320   Communications 
-00000210: 3a3a 2043 6861 740a 436c 6173 7369 6669  :: Chat.Classifi
-00000220: 6572 3a20 4f70 6572 6174 696e 6720 5379  er: Operating Sy
-00000230: 7374 656d 203a 3a20 4d69 6372 6f73 6f66  stem :: Microsof
-00000240: 7420 3a3a 2057 696e 646f 7773 0a43 6c61  t :: Windows.Cla
-00000250: 7373 6966 6965 723a 2050 726f 6772 616d  ssifier: Program
-00000260: 6d69 6e67 204c 616e 6775 6167 6520 3a3a  ming Language ::
-00000270: 2050 7974 686f 6e0a 5265 7175 6972 6573   Python.Requires
-00000280: 2d50 7974 686f 6e3a 203e 3d33 2e37 0a44  -Python: >=3.7.D
-00000290: 6573 6372 6970 7469 6f6e 2d43 6f6e 7465  escription-Conte
-000002a0: 6e74 2d54 7970 653a 2074 6578 742f 6d61  nt-Type: text/ma
-000002b0: 726b 646f 776e 0a0a 2320 5765 4368 6174  rkdown..# WeChat
-000002c0: 4665 7272 7920 5079 7468 6f6e 20e5 aea2  Ferry Python ...
-000002d0: e688 b7e7 abaf 0ae2 9aa0 efb8 8f20 2a2a  ............. **
-000002e0: e58f aae6 94af e68c 8120 5769 6e64 6f77  ......... Window
-000002f0: 732a 2a20 e29a a0ef b88f 0a0a f09f a496  s** ............
-00000300: e7a4 bae4 be8b e69c bae5 99a8 e4ba bae6  ................
-00000310: a186 e69e b6ef bc9a 5b57 6543 6861 7452  ........[WeChatR
-00000320: 6f62 6f74 5d28 6874 7470 733a 2f2f 6769  obot](https://gi
-00000330: 7468 7562 2e63 6f6d 2f6c 6963 6830 3832  thub.com/lich082
-00000340: 312f 5765 4368 6174 526f 626f 7429 e380  1/WeChatRobot)..
-00000350: 820a 0a23 2320 e5bf abe9 809f e5bc 80e5  ...## ..........
-00000360: a78b 0a60 6060 7368 0a70 6970 2069 6e73  ...```sh.pip ins
-00000370: 7461 6c6c 202d 2d75 7067 7261 6465 2077  tall --upgrade w
-00000380: 6366 6572 7279 0a60 6060 0a0a 2323 2320  cferry.```..### 
-00000390: e68e a5e5 8fa3 e6b8 85e5 8d95 0a2a 20e6  .............* .
-000003a0: a380 e69f a5e7 99bb e5bd 95e7 8ab6 e680  ................
-000003b0: 81ef bc9a 6069 735f 6c6f 6769 6e60 0a2a  ....`is_login`.*
-000003c0: 20e8 8eb7 e58f 96e7 99bb e5bd 95e8 b4a6   ...............
-000003d0: e58f b7e7 9a84 2077 7869 64ef bc9a 6067  ...... wxid...`g
-000003e0: 6574 5f73 656c 665f 7778 6964 600a 2a20  et_self_wxid`.* 
-000003f0: e88e b7e5 8f96 e6b6 88e6 81af e7b1 bbe5  ................
-00000400: 9e8b efbc 9a60 6765 745f 6d73 675f 7479  .....`get_msg_ty
-00000410: 7065 7360 0a2a 20e8 8eb7 e58f 96e6 8980  pes`.* .........
-00000420: e69c 89e8 8194 e7b3 bbe4 baba efbc 9a60  ...............`
-00000430: 6765 745f 636f 6e74 6163 7473 600a 2a20  get_contacts`.* 
-00000440: e88e b7e5 8f96 e689 80e6 9c89 e5a5 bde5  ................
-00000450: 8f8b efbc 9a60 6765 745f 6672 6965 6e64  .....`get_friend
-00000460: 7360 0a2a 20e8 8eb7 e58f 96e6 95b0 e68d  s`.* ...........
-00000470: aee5 ba93 efbc 9a60 6765 745f 6462 7360  .......`get_dbs`
-00000480: 0a2a 20e8 8eb7 e58f 96e6 9f90 e695 b0e6  .* .............
-00000490: 8dae e5ba 93e4 b88b e79a 84e8 a1a8 efbc  ................
-000004a0: 9a60 6765 745f 7461 626c 6573 600a 2a20  .`get_tables`.* 
-000004b0: e88e b7e5 8f96 e794 a8e6 88b7 e4bf a1e6  ................
-000004c0: 81af efbc 9a60 6765 745f 7573 6572 5f69  .....`get_user_i
-000004d0: 6e66 6f60 0a2a 20e5 8f91 e980 81e6 9687  nfo`.* .........
-000004e0: e69c ace6 b688 e681 afef bc88 e58f af20  ............... 
-000004f0: 40ef bc89 efbc 9a60 7365 6e64 5f74 6578  @......`send_tex
-00000500: 7460 0a2a 20e5 8f91 e980 81e5 9bbe e789  t`.* ...........
-00000510: 87ef bc9a 6073 656e 645f 696d 6167 6560  ....`send_image`
-00000520: 0a2a 20e5 8f91 e980 81e6 9687 e4bb b6ef  .* .............
-00000530: bc9a 6073 656e 645f 6669 6c65 600a 2a20  ..`send_file`.* 
-00000540: e58f 91e9 8081 2058 4d4c efbc 9a60 7365  ...... XML...`se
-00000550: 6e64 5f78 6d6c 600a 2a20 e58f 91e9 8081  nd_xml`.* ......
-00000560: e8a1 a8e6 8385 efbc 9a60 7365 6e64 5f65  .........`send_e
-00000570: 6d6f 7469 6f6e 600a 2a20 e585 81e8 aeb8  motion`.* ......
-00000580: e68e a5e6 94b6 e6b6 88e6 81af efbc 9a60  ...............`
-00000590: 656e 6162 6c65 5f72 6563 6569 7669 6e67  enable_receiving
-000005a0: 5f6d 7367 6020 e592 8c20 6065 6e61 626c  _msg` ... `enabl
-000005b0: 655f 7265 6376 5f6d 7367 efbc 88e6 97a7  e_recv_msg......
-000005c0: e68e a5e5 8fa3 efbc 8960 0a2a 20e5 819c  .........`.* ...
-000005d0: e6ad a2e6 8ea5 e694 b6e6 b688 e681 afef  ................
-000005e0: bc9a 6064 6973 6162 6c65 5f72 6563 765f  ..`disable_recv_
-000005f0: 6d73 6760 0a2a 20e6 89a7 e8a1 8c20 5351  msg`.* ...... SQ
-00000600: 4c20 e69f a5e8 afa2 efbc 9a60 7175 6572  L .........`quer
-00000610: 795f 7371 6c60 0a2a 20e6 8ea5 e58f 97e5  y_sql`.* .......
-00000620: a5bd e58f 8be7 94b3 e8af b7ef bc9a 6061  ..............`a
-00000630: 6363 6570 745f 6e65 775f 6672 6965 6e64  ccept_new_friend
-00000640: 600a 2a20 e6b7 bbe5 8aa0 e7be a4e6 8890  `.* ............
-00000650: e591 98ef bc9a 6061 6464 5f63 6861 7472  ......`add_chatr
-00000660: 6f6f 6d5f 6d65 6d62 6572 7360 0a2a 20e8  oom_members`.* .
-00000670: a7a3 e5af 86e5 9bbe e789 87ef bc9a 6064  ..............`d
-00000680: 6563 7279 7074 5f69 6d61 6765 600a 0ae8  ecrypt_image`...
-00000690: afa6 e683 85e6 9fa5 e79c 8b20 5b63 6c69  ........... [cli
-000006a0: 656e 742e 7079 5d28 7763 6665 7272 792f  ent.py](wcferry/
-000006b0: 636c 6965 6e74 2e70 7929 e380 820a 0a23  client.py).....#
-000006c0: 2323 2044 656d 6fef bc9a 0a60 6060 7079  ## Demo....```py
-000006d0: 0a23 2120 2f75 7372 2f62 696e 2f65 6e76  .#! /usr/bin/env
-000006e0: 2070 7974 686f 6e33 0a23 202d 2a2d 2063   python3.# -*- c
-000006f0: 6f64 696e 673a 2075 7466 2d38 202d 2a2d  oding: utf-8 -*-
-00000700: 0a0a 696d 706f 7274 206c 6f67 6769 6e67  ..import logging
-00000710: 0a66 726f 6d20 7468 7265 6164 696e 6720  .from threading 
-00000720: 696d 706f 7274 2054 6872 6561 640a 6672  import Thread.fr
-00000730: 6f6d 2074 696d 6520 696d 706f 7274 2073  om time import s
-00000740: 6c65 6570 0a0a 6672 6f6d 2077 6366 6572  leep..from wcfer
-00000750: 7279 2069 6d70 6f72 7420 5763 660a 0a6c  ry import Wcf..l
-00000760: 6f67 6769 6e67 2e62 6173 6963 436f 6e66  ogging.basicConf
-00000770: 6967 286c 6576 656c 3d27 4445 4255 4727  ig(level='DEBUG'
-00000780: 2c20 666f 726d 6174 3d22 2528 6173 6374  , format="%(asct
-00000790: 696d 6529 7320 2528 6d65 7373 6167 6529  ime)s %(message)
-000007a0: 7322 290a 4c4f 4720 3d20 6c6f 6767 696e  s").LOG = loggin
-000007b0: 672e 6765 744c 6f67 6765 7228 2244 656d  g.getLogger("Dem
-000007c0: 6f22 290a 0a0a 6465 6620 7072 6f63 6573  o")...def proces
-000007d0: 735f 6d73 6728 7763 663a 2057 6366 293a  s_msg(wcf: Wcf):
-000007e0: 0a20 2020 2022 2222 e5a4 84e7 9086 e68e  .    """........
-000007f0: a5e6 94b6 e588 b0e7 9a84 e6b6 88e6 81af  ................
-00000800: 2222 220a 2020 2020 7768 696c 6520 7763  """.    while wc
-00000810: 662e 6973 5f72 6563 6569 7669 6e67 5f6d  f.is_receiving_m
-00000820: 7367 2829 3a0a 2020 2020 2020 2020 7472  sg():.        tr
-00000830: 793a 0a20 2020 2020 2020 2020 2020 206d  y:.            m
-00000840: 7367 203d 2077 6366 2e67 6574 5f6d 7367  sg = wcf.get_msg
-00000850: 2829 0a20 2020 2020 2020 2065 7863 6570  ().        excep
-00000860: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
-00000870: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
-00000880: 6e74 696e 7565 0a0a 2020 2020 2020 2020  ntinue..        
-00000890: 4c4f 472e 696e 666f 286d 7367 2920 2023  LOG.info(msg)  #
-000008a0: 20e7 ae80 e58d 95e6 8993 e58d b00a 0a0a   ...............
-000008b0: 6465 6620 6d61 696e 2829 3a0a 2020 2020  def main():.    
-000008c0: 4c4f 472e 696e 666f 2822 5374 6172 7420  LOG.info("Start 
-000008d0: 6465 6d6f 2e2e 2e22 290a 2020 2020 7763  demo...").    wc
-000008e0: 6620 3d20 5763 6628 6465 6275 673d 5472  f = Wcf(debug=Tr
-000008f0: 7565 2920 2020 2020 2020 2020 2020 2020  ue)             
-00000900: 2320 e9bb 98e8 aea4 e8bf 9ee6 8ea5 e69c  # ..............
-00000910: ace5 9cb0 e69c 8de5 8aa1 0a20 2020 2023  ...........    #
-00000920: 2077 6366 203d 2057 6366 2822 7463 703a   wcf = Wcf("tcp:
-00000930: 2f2f 3132 372e 302e 302e 313a 3130 3038  //127.0.0.1:1008
-00000940: 3622 2920 2320 e8bf 9ee6 8ea5 e8bf 9ce7  6") # ..........
-00000950: abaf e69c 8de5 8aa1 0a0a 2020 2020 736c  ..........    sl
-00000960: 6565 7028 3529 2020 2320 e7ad 89e5 beae  eep(5)  # ......
-00000970: e4bf a1e5 8aa0 e8bd bde5 a5bd efbc 8ce4  ................
-00000980: bba5 e585 8de4 bfa1 e681 afe6 98be e7a4  ................
-00000990: bae5 bc82 e5b8 b80a 2020 2020 4c4f 472e  ........    LOG.
-000009a0: 696e 666f 2866 22e5 b7b2 e7bb 8fe7 99bb  info(f".........
-000009b0: e5bd 953a 207b 5472 7565 2069 6620 7763  ...: {True if wc
-000009c0: 662e 6973 5f6c 6f67 696e 2829 2065 6c73  f.is_login() els
-000009d0: 6520 4661 6c73 657d 2229 0a20 2020 204c  e False}").    L
-000009e0: 4f47 2e69 6e66 6f28 6622 7778 6964 3a20  OG.info(f"wxid: 
-000009f0: 7b77 6366 2e67 6574 5f73 656c 665f 7778  {wcf.get_self_wx
-00000a00: 6964 2829 7d22 290a 0a20 2020 2023 20e5  id()}")..    # .
-00000a10: 8581 e8ae b8e6 8ea5 e694 b6e6 b688 e681  ................
-00000a20: af0a 2020 2020 2320 7763 662e 656e 6162  ..    # wcf.enab
-00000a30: 6c65 5f72 6563 765f 6d73 6728 4c4f 472e  le_recv_msg(LOG.
-00000a40: 696e 666f 2920 2320 6465 7072 6563 6174  info) # deprecat
-00000a50: 6564 0a0a 2020 2020 2320 e585 81e8 aeb8  ed..    # ......
-00000a60: e68e a5e6 94b6 e6b6 88e6 81af 0a20 2020  .............   
-00000a70: 2077 6366 2e65 6e61 626c 655f 7265 6365   wcf.enable_rece
-00000a80: 6976 696e 675f 6d73 6728 290a 2020 2020  iving_msg().    
-00000a90: 5468 7265 6164 2874 6172 6765 743d 7072  Thread(target=pr
-00000aa0: 6f63 6573 735f 6d73 672c 206e 616d 653d  ocess_msg, name=
-00000ab0: 2247 6574 4d65 7373 6167 6522 2c20 6172  "GetMessage", ar
-00000ac0: 6773 3d28 7763 662c 292c 2064 6165 6d6f  gs=(wcf,), daemo
-00000ad0: 6e3d 5472 7565 292e 7374 6172 7428 290a  n=True).start().
-00000ae0: 0a20 2020 2023 2077 6366 2e64 6973 6162  .    # wcf.disab
-00000af0: 6c65 5f72 6563 765f 6d73 6728 2920 2320  le_recv_msg() # 
-00000b00: e5bd 93e9 9c80 e8a6 81e5 819c e6ad a2e6  ................
-00000b10: 8ea5 e694 b6e6 b688 e681 afe6 97b6 e8b0  ................
-00000b20: 83e7 94a8 0a0a 2020 2020 7265 7420 3d20  ......    ret = 
-00000b30: 7763 662e 7365 6e64 5f74 6578 7428 2248  wcf.send_text("H
-00000b40: 656c 6c6f 2077 6f72 6c64 2e22 2c20 2266  ello world.", "f
-00000b50: 696c 6568 656c 7065 7222 290a 2020 2020  ilehelper").    
-00000b60: 4c4f 472e 696e 666f 2866 2273 656e 645f  LOG.info(f"send_
-00000b70: 7465 7874 3a20 7b72 6574 7d22 290a 0a20  text: {ret}").. 
-00000b80: 2020 2072 6574 203d 2077 6366 2e73 656e     ret = wcf.sen
-00000b90: 645f 696d 6167 6528 2254 4551 7561 6e74  d_image("TEQuant
-00000ba0: 2e6a 7065 6722 2c20 2266 696c 6568 656c  .jpeg", "filehel
-00000bb0: 7065 7222 2920 2023 20e9 9c80 e8a6 81e7  per")  # .......
-00000bc0: a1ae e4bf 9de5 9bbe e789 87e8 b7af e5be  ................
-00000bd0: 84e6 ada3 e7a1 ae0a 2020 2020 4c4f 472e  ........    LOG.
-00000be0: 696e 666f 2866 2273 656e 645f 696d 6167  info(f"send_imag
-00000bf0: 653a 207b 7265 747d 2229 0a0a 2020 2020  e: {ret}")..    
-00000c00: 7265 7420 3d20 7763 662e 7365 6e64 5f66  ret = wcf.send_f
-00000c10: 696c 6528 2252 4541 444d 452e 4d44 222c  ile("README.MD",
-00000c20: 2022 6669 6c65 6865 6c70 6572 2229 2020   "filehelper")  
-00000c30: 2320 e99c 80e8 a681 e7a1 aee4 bf9d e696  # ..............
-00000c40: 87e4 bbb6 e8b7 afe5 be84 e6ad a3e7 a1ae  ................
-00000c50: 0a20 2020 204c 4f47 2e69 6e66 6f28 6622  .    LOG.info(f"
-00000c60: 7365 6e64 5f66 696c 653a 207b 7265 747d  send_file: {ret}
-00000c70: 2229 0a0a 2020 2020 4c4f 472e 696e 666f  ")..    LOG.info
-00000c80: 2866 224d 6573 7361 6765 2074 7970 6573  (f"Message types
-00000c90: 3a5c 6e7b 7763 662e 6765 745f 6d73 675f  :\n{wcf.get_msg_
-00000ca0: 7479 7065 7328 297d 2229 0a20 2020 204c  types()}").    L
-00000cb0: 4f47 2e69 6e66 6f28 6622 436f 6e74 6163  OG.info(f"Contac
-00000cc0: 7473 3a5c 6e7b 7763 662e 6765 745f 636f  ts:\n{wcf.get_co
-00000cd0: 6e74 6163 7473 2829 7d22 290a 0a20 2020  ntacts()}")..   
-00000ce0: 204c 4f47 2e69 6e66 6f28 6622 4442 733a   LOG.info(f"DBs:
-00000cf0: 5c6e 7b77 6366 2e67 6574 5f64 6273 2829  \n{wcf.get_dbs()
-00000d00: 7d22 290a 2020 2020 4c4f 472e 696e 666f  }").    LOG.info
-00000d10: 2866 2254 6162 6c65 733a 5c6e 7b77 6366  (f"Tables:\n{wcf
-00000d20: 2e67 6574 5f74 6162 6c65 7328 2764 6227  .get_tables('db'
-00000d30: 297d 2229 0a20 2020 204c 4f47 2e69 6e66  )}").    LOG.inf
-00000d40: 6f28 6622 5265 7375 6c74 733a 5c6e 7b77  o(f"Results:\n{w
-00000d50: 6366 2e71 7565 7279 5f73 716c 2827 4d69  cf.query_sql('Mi
-00000d60: 6372 6f4d 7367 2e64 6227 2c20 2753 454c  croMsg.db', 'SEL
-00000d70: 4543 5420 2a20 4652 4f4d 2043 6f6e 7461  ECT * FROM Conta
-00000d80: 6374 204c 494d 4954 2031 3b27 297d 2229  ct LIMIT 1;')}")
-00000d90: 0a0a 2020 2020 2320 e99c 80e8 a681 e79c  ..    # ........
-00000da0: 9fe6 ada3 e79a 8420 5633 e380 8156 3420  ....... V3...V4 
-00000db0: e4bf a1e6 81af 0a20 2020 2023 2077 6366  .......    # wcf
-00000dc0: 2e61 6363 6570 745f 6e65 775f 6672 6965  .accept_new_frie
-00000dd0: 6e64 2822 7633 222c 2022 7634 2229 0a0a  nd("v3", "v4")..
-00000de0: 2020 2020 2320 e5a1 abe5 8699 e6ad a3e7      # ..........
-00000df0: a1ae e79a 84e7 bea4 2049 4420 e592 8ce6  ........ ID ....
-00000e00: 8890 e591 9820 7778 6964 0a20 2020 2023  ..... wxid.    #
-00000e10: 2072 6574 203d 2077 6366 2e61 6464 5f63   ret = wcf.add_c
-00000e20: 6861 7472 6f6f 6d5f 6d65 6d62 6572 7328  hatroom_members(
-00000e30: 2263 6861 7472 6f6f 6d20 6964 222c 2022  "chatroom id", "
-00000e40: 7778 6964 312c 7778 6964 322c 7778 6964  wxid1,wxid2,wxid
-00000e50: 332c 2e2e 2e22 290a 2020 2020 2320 4c4f  3,...").    # LO
-00000e60: 472e 696e 666f 2866 2261 6464 5f63 6861  G.info(f"add_cha
-00000e70: 7472 6f6f 6d5f 6d65 6d62 6572 733a 207b  troom_members: {
-00000e80: 7265 747d 2229 0a0a 2020 2020 786d 6c20  ret}")..    xml 
-00000e90: 3d20 273c 3f78 6d6c 2076 6572 7369 6f6e  = '<?xml version
-00000ea0: 3d22 312e 3022 3f3e 3c6d 7367 3e3c 6170  ="1.0"?><msg><ap
-00000eb0: 706d 7367 2061 7070 6964 3d22 2220 7364  pmsg appid="" sd
-00000ec0: 6b76 6572 3d22 3022 3e3c 7469 746c 653e  kver="0"><title>
-00000ed0: e58f aee5 bd93 e88d afe6 88bf efbc 8c32  ...............2
-00000ee0: 34e5 b08f e697 b6e6 9c8d e58a a1ef bc8c  4...............
-00000ef0: 3238 e588 86e9 929f e980 81e8 8daf e588  28..............
-00000f00: b0e5 aeb6 efbc 813c 2f74 6974 6c65 3e3c  .......</title><
-00000f10: 6465 733e e58f aee5 bd93 e5bf abe8 8daf  des>............
-00000f20: e9a6 96e5 aeb6 e689 bfe8 afba e88c 83e5  ................
-00000f30: 9bb4 e586 8532 38e5 8886 e992 9fe9 8081  .....28.........
-00000f40: e88d afe5 88b0 e5ae b6ef bc81 e58f aee5  ................
-00000f50: bd93 e5bf abe8 8daf e6a0 b8e5 bf83 e58c  ................
-00000f60: bae5 9f9f e586 8537 2a32 34e5 b08f e697  .......7*24.....
-00000f70: b6e5 85a8 e5a4 a9e5 8099 e69c 8de5 8aa1  ................
-00000f80: efbc 8ce9 8081 e88d afe4 b88a e997 a8ef  ................
-00000f90: bc81 e58f aee5 bd93 e5bf abe8 8daf e5ae  ................
-00000fa0: 98e7 bd91 e4b8 bae6 82a8 e68f 90e4 be9b  ................
-00000fb0: e5bf abe6 8db7 e4be bfe5 88a9 efbc 8ce6  ................
-00000fc0: ada3 e593 81e4 bd8e e4bb b7ef bc8c e5ae  ................
-00000fd0: 89e5 85a8 e694 bee5 bf83 e79a 84e8 b4ad  ................
-00000fe0: e88d afe3 8081 e980 81e8 8daf e69c 8de5  ................
-00000ff0: 8aa1 e4bd 93e9 aa8c e380 823c 2f64 6573  ...........</des
-00001000: 3e3c 6163 7469 6f6e 3e76 6965 773c 2f61  ><action>view</a
-00001010: 6374 696f 6e3e 3c74 7970 653e 3333 3c2f  ction><type>33</
-00001020: 7479 7065 3e3c 7368 6f77 7479 7065 3e30  type><showtype>0
-00001030: 3c2f 7368 6f77 7479 7065 3e3c 636f 6e74  </showtype><cont
-00001040: 656e 7420 2f3e 3c75 726c 3e68 7474 7073  ent /><url>https
-00001050: 3a2f 2f6d 702e 7765 6978 696e 2e71 712e  ://mp.weixin.qq.
-00001060: 636f 6d2f 6d70 2f77 6165 7272 7061 6765  com/mp/waerrpage
-00001070: 3f61 7070 6964 3d77 7863 3265 6461 6463  ?appid=wxc2edadc
-00001080: 3837 3037 3766 6132 6126 616d 703b 7479  87077fa2a&amp;ty
-00001090: 7065 3d75 7067 7261 6465 2661 6d70 3b75  pe=upgrade&amp;u
-000010a0: 7067 7261 6465 7479 7065 3d33 2377 6563  pgradetype=3#wec
-000010b0: 6861 745f 7265 6469 7265 6374 3c2f 7572  hat_redirect</ur
-000010c0: 6c3e 3c64 6174 6175 726c 202f 3e3c 6c6f  l><dataurl /><lo
-000010d0: 7775 726c 202f 3e3c 6c6f 7764 6174 6175  wurl /><lowdatau
-000010e0: 726c 202f 3e3c 7265 636f 7264 6974 656d  rl /><recorditem
-000010f0: 202f 3e3c 7468 756d 6275 726c 202f 3e3c   /><thumburl /><
-00001100: 6d65 7373 6167 6561 6374 696f 6e20 2f3e  messageaction />
-00001110: 3c6d 6435 3e37 6636 6634 3964 3330 3165  <md5>7f6f49d301e
-00001120: 6266 3437 3130 3031 3939 6238 6134 6663  bf47100199b8a4fc
-00001130: 6634 6465 343c 2f6d 6435 3e3c 6578 7469  f4de4</md5><exti
-00001140: 6e66 6f20 2f3e 3c73 6f75 7263 6575 7365  nfo /><sourceuse
-00001150: 726e 616d 653e 6768 5f63 3262 3838 6133  rname>gh_c2b88a3
-00001160: 3863 3432 3440 6170 703c 2f73 6f75 7263  8c424@app</sourc
-00001170: 6575 7365 726e 616d 653e 3c73 6f75 7263  eusername><sourc
-00001180: 6564 6973 706c 6179 6e61 6d65 3ee5 8fae  edisplayname>...
-00001190: e5bd 93e5 bfab e88d af20 e88d afe5 ba97  ......... ......
-000011a0: e980 81e8 8daf e588 b0e5 aeb6 e5a4 9ce9  ................
-000011b0: 97b4 e4b9 b0e8 8daf 3c2f 736f 7572 6365  ........</source
-000011c0: 6469 7370 6c61 796e 616d 653e 3c63 6f6d  displayname><com
-000011d0: 6d65 6e74 7572 6c20 2f3e 3c61 7070 6174  menturl /><appat
-000011e0: 7461 6368 3e3c 746f 7461 6c6c 656e 3e30  tach><totallen>0
-000011f0: 3c2f 746f 7461 6c6c 656e 3e3c 6174 7461  </totallen><atta
-00001200: 6368 6964 202f 3e3c 656d 6f74 6963 6f6e  chid /><emoticon
-00001210: 6d64 353e 3c2f 656d 6f74 6963 6f6e 6d64  md5></emoticonmd
-00001220: 353e 3c66 696c 6565 7874 3e6a 7067 3c2f  5><fileext>jpg</
-00001230: 6669 6c65 6578 743e 3c66 696c 656b 6579  fileext><filekey
-00001240: 3e64 6130 6530 3866 3563 3732 3539 6430  >da0e08f5c7259d0
-00001250: 3364 6131 3530 6435 6537 6361 3664 3935  3da150d5e7ca6d95
-00001260: 303c 2f66 696c 656b 6579 3e3c 6364 6e74  0</filekey><cdnt
-00001270: 6875 6d62 7572 6c3e 3330 3537 3032 3031  humburl>30570201
-00001280: 3030 3034 3462 3330 3439 3032 3031 3030  00044b3049020100
-00001290: 3032 3034 6534 6330 3233 3237 3032 3033  0204e4c023270203
-000012a0: 3266 3465 6632 3032 3034 6136 6261 6365  2f4ef20204a6bace
-000012b0: 3666 3032 3034 3634 3031 6636 3264 3034  6f02046401f62d04
-000012c0: 3234 3330 3332 3633 3337 3330 3334 3330  2430326337303430
-000012d0: 3335 3264 3333 3337 3334 3333 3264 3334  352d333734332d34
-000012e0: 3333 3632 3635 3264 3632 3333 3335 3332  3362652d62333532
-000012f0: 3264 3632 3333 3333 3335 3636 3632 3332  2d62333335666232
-00001300: 3636 3337 3633 3334 3632 3032 3034 3031  6637633462020401
-00001310: 3234 3030 3033 3032 3031 3030 3034 3035  2400030201000405
-00001320: 3030 3463 3533 3736 3030 3c2f 6364 6e74  004c537600</cdnt
-00001330: 6875 6d62 7572 6c3e 3c61 6573 6b65 793e  humburl><aeskey>
-00001340: 3064 6232 3634 3536 6361 6632 3433 6662  0db26456caf243fb
-00001350: 6434 6566 6239 3930 3538 6130 3164 3636  d4efb99058a01d66
-00001360: 3c2f 6165 736b 6579 3e3c 6364 6e74 6875  </aeskey><cdnthu
-00001370: 6d62 6165 736b 6579 3e30 6462 3236 3435  mbaeskey>0db2645
-00001380: 3663 6166 3234 3366 6264 3465 6662 3939  6caf243fbd4efb99
-00001390: 3035 3861 3031 6436 363c 2f63 646e 7468  058a01d66</cdnth
-000013a0: 756d 6261 6573 6b65 793e 3c65 6e63 7279  umbaeskey><encry
-000013b0: 7665 723e 313c 2f65 6e63 7279 7665 723e  ver>1</encryver>
-000013c0: 3c63 646e 7468 756d 626c 656e 6774 683e  <cdnthumblength>
-000013d0: 3631 3535 383c 2f63 646e 7468 756d 626c  61558</cdnthumbl
-000013e0: 656e 6774 683e 3c63 646e 7468 756d 6268  ength><cdnthumbh
-000013f0: 6569 6768 743e 3130 303c 2f63 646e 7468  eight>100</cdnth
-00001400: 756d 6268 6569 6768 743e 3c63 646e 7468  umbheight><cdnth
-00001410: 756d 6277 6964 7468 3e31 3030 3c2f 6364  umbwidth>100</cd
-00001420: 6e74 6875 6d62 7769 6474 683e 3c2f 6170  nthumbwidth></ap
-00001430: 7061 7474 6163 683e 3c77 6561 7070 696e  pattach><weappin
-00001440: 666f 3e3c 7061 6765 7061 7468 3e70 6167  fo><pagepath>pag
-00001450: 6573 2f69 6e64 6578 2f69 6e64 6578 2e68  es/index/index.h
-00001460: 746d 6c3c 2f70 6167 6570 6174 683e 3c75  tml</pagepath><u
-00001470: 7365 726e 616d 653e 6768 5f63 3262 3838  sername>gh_c2b88
-00001480: 6133 3863 3432 3440 6170 703c 2f75 7365  a38c424@app</use
-00001490: 726e 616d 653e 3c61 7070 6964 3e77 7863  rname><appid>wxc
-000014a0: 3265 6461 6463 3837 3037 3766 6132 613c  2edadc87077fa2a<
-000014b0: 2f61 7070 6964 3e3c 7665 7273 696f 6e3e  /appid><version>
-000014c0: 3139 373c 2f76 6572 7369 6f6e 3e3c 7479  197</version><ty
-000014d0: 7065 3e32 3c2f 7479 7065 3e3c 7765 6170  pe>2</type><weap
-000014e0: 7069 636f 6e75 726c 3e68 7474 703a 2f2f  piconurl>http://
-000014f0: 7778 2e71 6c6f 676f 2e63 6e2f 6d6d 6865  wx.qlogo.cn/mmhe
-00001500: 6164 2f51 3361 7548 677a 777a 4d34 3732  ad/Q3auHgzwzM472
-00001510: 376e 304e 5130 5a49 5051 506c 6670 3135  7n0NQ0ZIPQPlfp15
-00001520: 6d31 574c 736e 7258 626f 316b 4c68 4647  m1WLsnrXbo1kLhFG
-00001530: 636f 6c67 4c79 6330 412f 3936 3c2f 7765  colgLyc0A/96</we
-00001540: 6170 7069 636f 6e75 726c 3e3c 6170 7073  appiconurl><apps
-00001550: 6572 7669 6365 7479 7065 3e30 3c2f 6170  ervicetype>0</ap
-00001560: 7073 6572 7669 6365 7479 7065 3e3c 7368  pservicetype><sh
-00001570: 6172 6549 643e 315f 7778 6332 6564 6164  areId>1_wxc2edad
-00001580: 6338 3730 3737 6661 3261 5f32 3931 3737  c87077fa2a_29177
-00001590: 6539 6139 6239 3138 6362 3965 3735 3936  e9a9b918cb9e7596
-000015a0: 3466 3830 6262 3866 3332 655f 3136 3737  4f80bb8f32e_1677
-000015b0: 3834 3934 3736 5f30 3c2f 7368 6172 6549  849476_0</shareI
-000015c0: 643e 3c2f 7765 6170 7069 6e66 6f3e 3c77  d></weappinfo><w
-000015d0: 6562 7365 6172 6368 202f 3e3c 2f61 7070  ebsearch /></app
-000015e0: 6d73 673e 3c66 726f 6d75 7365 726e 616d  msg><fromusernam
-000015f0: 653e 7778 6964 5f78 7878 7878 7878 7878  e>wxid_xxxxxxxxx
-00001600: 7878 7878 783c 2f66 726f 6d75 7365 726e  xxxxx</fromusern
-00001610: 616d 653e 3c73 6365 6e65 3e30 3c2f 7363  ame><scene>0</sc
-00001620: 656e 653e 3c61 7070 696e 666f 3e3c 7665  ene><appinfo><ve
-00001630: 7273 696f 6e3e 313c 2f76 6572 7369 6f6e  rsion>1</version
-00001640: 3e3c 6170 706e 616d 6520 2f3e 3c2f 6170  ><appname /></ap
-00001650: 7069 6e66 6f3e 3c63 6f6d 6d65 6e74 7572  pinfo><commentur
-00001660: 6c20 2f3e 3c2f 6d73 673e 270a 2020 2020  l /></msg>'.    
-00001670: 7265 7420 3d20 7763 662e 7365 6e64 5f78  ret = wcf.send_x
-00001680: 6d6c 2822 6669 6c65 6865 6c70 6572 222c  ml("filehelper",
-00001690: 2078 6d6c 2c20 3078 3231 290a 2020 2020   xml, 0x21).    
-000016a0: 4c4f 472e 696e 666f 2866 2273 656e 645f  LOG.info(f"send_
-000016b0: 786d 6c3a 207b 7265 747d 2229 0a0a 2020  xml: {ret}")..  
-000016c0: 2020 7265 7420 3d20 7763 662e 7365 6e64    ret = wcf.send
-000016d0: 5f65 6d6f 7469 6f6e 2822 656d 6f2e 6769  _emotion("emo.gi
-000016e0: 6622 2c20 2266 696c 6568 656c 7065 7222  f", "filehelper"
-000016f0: 2920 2023 20e9 9c80 e8a6 81e7 a1ae e4bf  )  # ...........
-00001700: 9d20 6769 6620 e8b7 afe5 be84 e6ad a3e7  . gif ..........
-00001710: a1ae 0a20 2020 204c 4f47 2e69 6e66 6f28  ...    LOG.info(
-00001720: 6622 7365 6e64 5f65 6d6f 7469 6f6e 3a20  f"send_emotion: 
-00001730: 7b72 6574 7d22 290a 0a20 2020 2023 20e4  {ret}")..    # .
-00001740: b880 e79b b4e8 bf90 e8a1 8c0a 2020 2020  ............    
-00001750: 7763 662e 6b65 6570 5f72 756e 6e69 6e67  wcf.keep_running
-00001760: 2829 0a0a 0a69 6620 5f5f 6e61 6d65 5f5f  ()...if __name__
-00001770: 203d 3d20 225f 5f6d 6169 6e5f 5f22 3a0a   == "__main__":.
-00001780: 2020 2020 6d61 696e 2829 0a0a 6060 600a      main()..```.
-00001790: 0a23 2320 e4b8 80e8 b5b7 e5bc 80e5 8f91  .## ............
-000017a0: 0a23 2323 20e9 858d e7bd aee7 8eaf e5a2  .### ...........
-000017b0: 830a 6060 6073 680a 2320 e588 9be5 bbba  ..```sh.# ......
-000017c0: e899 9ae6 8b9f e78e afe5 a283 0a70 7974  .............pyt
-000017d0: 686f 6e20 2d6d 2076 656e 7620 2e65 6e76  hon -m venv .env
-000017e0: 0a23 20e6 bf80 e6b4 bbe8 999a e68b 9fe7  .# .............
-000017f0: 8eaf e5a2 830a 736f 7572 6365 202e 656e  ......source .en
-00001800: 762f 5363 7269 7074 732f 6163 7469 7661  v/Scripts/activa
-00001810: 7465 0a23 20e5 8d87 e7ba a720 7069 700a  te.# ...... pip.
-00001820: 7069 7020 696e 7374 616c 6c20 2d2d 7570  pip install --up
-00001830: 6772 6164 6520 7069 700a 2320 e5ae 89e8  grade pip.# ....
-00001840: a385 e4be 9de8 b596 e58c 850a 7069 7020  ............pip 
-00001850: 696e 7374 616c 6c20 6772 7063 696f 2d74  install grpcio-t
-00001860: 6f6f 6c73 2070 796e 6e67 0a60 6060 0a0a  ools pynng.```..
-00001870: 2323 2320 e987 8de6 96b0 e794 9fe6 8890  ### ............
-00001880: 2050 4220 e696 87e4 bbb6 0a60 6060 7368   PB .......```sh
-00001890: 0a63 6420 7079 7468 6f6e 5c77 6366 6572  .cd python\wcfer
-000018a0: 7279 0a23 2043 4d44 0a70 7974 686f 6e20  ry.# CMD.python 
-000018b0: 2d6d 2067 7270 635f 746f 6f6c 732e 7072  -m grpc_tools.pr
-000018c0: 6f74 6f63 202d 2d70 7974 686f 6e5f 6f75  otoc --python_ou
-000018d0: 743d 2e20 2d2d 7072 6f74 6f5f 7061 7468  t=. --proto_path
-000018e0: 3d2e 2e5c 2e2e 5c72 7063 5c70 726f 746f  =..\..\rpc\proto
-000018f0: 5c20 7763 662e 7072 6f74 6f0a 0a23 2047  \ wcf.proto..# G
-00001900: 6974 4261 7368 0a70 7974 686f 6e20 2d6d  itBash.python -m
-00001910: 2067 7270 635f 746f 6f6c 732e 7072 6f74   grpc_tools.prot
-00001920: 6f63 202d 2d70 7974 686f 6e5f 6f75 743d  oc --python_out=
-00001930: 2e20 2d2d 7072 6f74 6f5f 7061 7468 3d2e  . --proto_path=.
-00001940: 2e2f 2e2e 2f72 7063 2f70 726f 746f 2f20  ./../rpc/proto/ 
-00001950: 7763 662e 7072 6f74 6f0a 6060 600a       wcf.proto.```.
+00000010: 3a20 322e 310d 0a4e 616d 653a 2077 6366  : 2.1..Name: wcf
+00000020: 6572 7279 0d0a 5665 7273 696f 6e3a 2033  erry..Version: 3
+00000030: 2e37 2e30 2e33 302e 3235 0d0a 5375 6d6d  .7.0.30.25..Summ
+00000040: 6172 793a 20e4 b880 e4b8 aae7 8ea9 e5be  ary: ...........
+00000050: aee4 bfa1 e79a 84e5 b7a5 e585 b70d 0a48  ...............H
+00000060: 6f6d 652d 7061 6765 3a20 6874 7470 733a  ome-page: https:
+00000070: 2f2f 6769 7468 7562 2e63 6f6d 2f6c 6963  //github.com/lic
+00000080: 6830 3832 312f 5765 4368 6174 4665 7272  h0821/WeChatFerr
+00000090: 790d 0a41 7574 686f 723a 2043 6861 6e67  y..Author: Chang
+000000a0: 6875 610d 0a41 7574 686f 722d 656d 6169  hua..Author-emai
+000000b0: 6c3a 206c 6963 6861 6e67 6875 6130 3832  l: lichanghua082
+000000c0: 3140 676d 6169 6c2e 636f 6d0d 0a4c 6963  1@gmail.com..Lic
+000000d0: 656e 7365 3a20 4d49 540d 0a50 726f 6a65  ense: MIT..Proje
+000000e0: 6374 2d55 524c 3a20 446f 6375 6d65 6e74  ct-URL: Document
+000000f0: 6174 696f 6e2c 2068 7474 7073 3a2f 2f77  ation, https://w
+00000100: 6563 6861 7466 6572 7279 2e72 6561 6474  echatferry.readt
+00000110: 6865 646f 6373 2e69 6f2f 7a68 2f6c 6174  hedocs.io/zh/lat
+00000120: 6573 742f 696e 6465 782e 6874 6d6c 0d0a  est/index.html..
+00000130: 5072 6f6a 6563 742d 5552 4c3a 2047 6974  Project-URL: Git
+00000140: 4875 622c 2068 7474 7073 3a2f 2f67 6974  Hub, https://git
+00000150: 6875 622e 636f 6d2f 6c69 6368 3038 3231  hub.com/lich0821
+00000160: 2f57 6543 6861 7446 6572 7279 2f0d 0a44  /WeChatFerry/..D
+00000170: 6573 6372 6970 7469 6f6e 3a20 2320 5765  escription: # We
+00000180: 4368 6174 4665 7272 7920 5079 7468 6f6e  ChatFerry Python
+00000190: 20e5 aea2 e688 b7e7 abaf 0d0a 2020 2020   ...........    
+000001a0: 2020 2020 5b21 5b50 7950 695d 2868 7474      [![PyPi](htt
+000001b0: 7073 3a2f 2f69 6d67 2e73 6869 656c 6473  ps://img.shields
+000001c0: 2e69 6f2f 7079 7069 2f76 2f77 6366 6572  .io/pypi/v/wcfer
+000001d0: 7279 2e73 7667 295d 2868 7474 7073 3a2f  ry.svg)](https:/
+000001e0: 2f70 7970 692e 7079 7468 6f6e 2e6f 7267  /pypi.python.org
+000001f0: 2f70 7970 692f 7763 6665 7272 7929 205b  /pypi/wcferry) [
+00000200: 215b 446f 776e 6c6f 6164 735d 2868 7474  ![Downloads](htt
+00000210: 7073 3a2f 2f73 7461 7469 632e 7065 7079  ps://static.pepy
+00000220: 2e74 6563 682f 6261 6467 652f 7763 6665  .tech/badge/wcfe
+00000230: 7272 7929 5d28 6874 7470 733a 2f2f 7079  rry)](https://py
+00000240: 7069 2e70 7974 686f 6e2e 6f72 672f 7079  pi.python.org/py
+00000250: 7069 2f77 6366 6572 7279 2920 5b21 5b44  pi/wcferry) [![D
+00000260: 6f63 756d 656e 7461 7469 6f6e 2053 7461  ocumentation Sta
+00000270: 7475 735d 2868 7474 7073 3a2f 2f72 6561  tus](https://rea
+00000280: 6474 6865 646f 6373 2e6f 7267 2f70 726f  dthedocs.org/pro
+00000290: 6a65 6374 732f 7765 6368 6174 6665 7272  jects/wechatferr
+000002a0: 792f 6261 6467 652f 3f76 6572 7369 6f6e  y/badge/?version
+000002b0: 3d6c 6174 6573 7429 5d28 6874 7470 733a  =latest)](https:
+000002c0: 2f2f 7765 6368 6174 6665 7272 792e 7265  //wechatferry.re
+000002d0: 6164 7468 6564 6f63 732e 696f 2f7a 682f  adthedocs.io/zh/
+000002e0: 6c61 7465 7374 2f3f 6261 6467 653d 6c61  latest/?badge=la
+000002f0: 7465 7374 290d 0a20 2020 2020 2020 200d  test)..        .
+00000300: 0a20 2020 2020 2020 20f0 9fa4 96e7 a4ba  .        .......
+00000310: e4be 8be6 9cba e599 a8e4 baba e6a1 86e6  ................
+00000320: 9eb6 efbc 9a5b 5765 4368 6174 526f 626f  .....[WeChatRobo
+00000330: 745d 2868 7474 7073 3a2f 2f67 6974 6875  t](https://githu
+00000340: 622e 636f 6d2f 6c69 6368 3038 3231 2f57  b.com/lich0821/W
+00000350: 6543 6861 7452 6f62 6f74 29e3 8082 0d0a  eChatRobot).....
+00000360: 2020 2020 2020 2020 0d0a 2020 2020 2020          ..      
+00000370: 2020 2323 20e5 bfab e980 9fe5 bc80 e5a7    ## ...........
+00000380: 8b0d 0a20 2020 2020 2020 2060 6060 7368  ...        ```sh
+00000390: 0d0a 2020 2020 2020 2020 7069 7020 696e  ..        pip in
+000003a0: 7374 616c 6c20 2d2d 7570 6772 6164 6520  stall --upgrade 
+000003b0: 7763 6665 7272 790d 0a20 2020 2020 2020  wcferry..       
+000003c0: 2060 6060 0d0a 2020 2020 2020 2020 0d0a   ```..        ..
+000003d0: 2020 2020 2020 2020 2323 2320 4465 6d6f          ### Demo
+000003e0: efbc 9a0d 0a20 2020 2020 2020 2060 6060  .....        ```
+000003f0: 7079 0d0a 2020 2020 2020 2020 2321 202f  py..        #! /
+00000400: 7573 722f 6269 6e2f 656e 7620 7079 7468  usr/bin/env pyth
+00000410: 6f6e 330d 0a20 2020 2020 2020 2023 202d  on3..        # -
+00000420: 2a2d 2063 6f64 696e 673a 2075 7466 2d38  *- coding: utf-8
+00000430: 202d 2a2d 0d0a 2020 2020 2020 2020 0d0a   -*-..        ..
+00000440: 2020 2020 2020 2020 696d 706f 7274 206c          import l
+00000450: 6f67 6769 6e67 0d0a 2020 2020 2020 2020  ogging..        
+00000460: 6672 6f6d 2074 6872 6561 6469 6e67 2069  from threading i
+00000470: 6d70 6f72 7420 5468 7265 6164 0d0a 2020  mport Thread..  
+00000480: 2020 2020 2020 6672 6f6d 2074 696d 6520        from time 
+00000490: 696d 706f 7274 2073 6c65 6570 0d0a 2020  import sleep..  
+000004a0: 2020 2020 2020 0d0a 2020 2020 2020 2020        ..        
+000004b0: 6672 6f6d 2077 6366 6572 7279 2069 6d70  from wcferry imp
+000004c0: 6f72 7420 5763 660d 0a20 2020 2020 2020  ort Wcf..       
+000004d0: 200d 0a20 2020 2020 2020 206c 6f67 6769   ..        loggi
+000004e0: 6e67 2e62 6173 6963 436f 6e66 6967 286c  ng.basicConfig(l
+000004f0: 6576 656c 3d27 4445 4255 4727 2c20 666f  evel='DEBUG', fo
+00000500: 726d 6174 3d22 2528 6173 6374 696d 6529  rmat="%(asctime)
+00000510: 7320 2528 6d65 7373 6167 6529 7322 290d  s %(message)s").
+00000520: 0a20 2020 2020 2020 204c 4f47 203d 206c  .        LOG = l
+00000530: 6f67 6769 6e67 2e67 6574 4c6f 6767 6572  ogging.getLogger
+00000540: 2822 4465 6d6f 2229 0d0a 2020 2020 2020  ("Demo")..      
+00000550: 2020 0d0a 2020 2020 2020 2020 0d0a 2020    ..        ..  
+00000560: 2020 2020 2020 6465 6620 7072 6f63 6573        def proces
+00000570: 735f 6d73 6728 7763 663a 2057 6366 293a  s_msg(wcf: Wcf):
+00000580: 0d0a 2020 2020 2020 2020 2020 2020 2222  ..            ""
+00000590: 22e5 a484 e790 86e6 8ea5 e694 b6e5 88b0  "...............
+000005a0: e79a 84e6 b688 e681 af22 2222 0d0a 2020  ........."""..  
+000005b0: 2020 2020 2020 2020 2020 7768 696c 6520            while 
+000005c0: 7763 662e 6973 5f72 6563 6569 7669 6e67  wcf.is_receiving
+000005d0: 5f6d 7367 2829 3a0d 0a20 2020 2020 2020  _msg():..       
+000005e0: 2020 2020 2020 2020 2074 7279 3a0d 0a20           try:.. 
+000005f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000600: 2020 206d 7367 203d 2077 6366 2e67 6574     msg = wcf.get
+00000610: 5f6d 7367 2829 0d0a 2020 2020 2020 2020  _msg()..        
+00000620: 2020 2020 2020 2020 6578 6365 7074 2045          except E
+00000630: 7863 6570 7469 6f6e 2061 7320 653a 0d0a  xception as e:..
+00000640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000650: 2020 2020 636f 6e74 696e 7565 0d0a 2020      continue..  
+00000660: 2020 2020 2020 0d0a 2020 2020 2020 2020        ..        
+00000670: 2020 2020 2020 2020 4c4f 472e 696e 666f          LOG.info
+00000680: 286d 7367 2920 2023 20e7 ae80 e58d 95e6  (msg)  # .......
+00000690: 8993 e58d b00d 0a20 2020 2020 2020 200d  .......        .
+000006a0: 0a20 2020 2020 2020 200d 0a20 2020 2020  .        ..     
+000006b0: 2020 2064 6566 206d 6169 6e28 293a 0d0a     def main():..
+000006c0: 2020 2020 2020 2020 2020 2020 4c4f 472e              LOG.
+000006d0: 696e 666f 2822 5374 6172 7420 6465 6d6f  info("Start demo
+000006e0: 2e2e 2e22 290d 0a20 2020 2020 2020 2020  ...")..         
+000006f0: 2020 2077 6366 203d 2057 6366 2864 6562     wcf = Wcf(deb
+00000700: 7567 3d54 7275 6529 2020 2020 2020 2020  ug=True)        
+00000710: 2020 2020 2023 20e9 bb98 e8ae a4e8 bf9e       # .........
+00000720: e68e a5e6 9cac e59c b0e6 9c8d e58a a10d  ................
+00000730: 0a20 2020 2020 2020 2020 2020 2023 2077  .            # w
+00000740: 6366 203d 2057 6366 2822 7463 703a 2f2f  cf = Wcf("tcp://
+00000750: 3132 372e 302e 302e 313a 3130 3038 3622  127.0.0.1:10086"
+00000760: 2920 2320 e8bf 9ee6 8ea5 e8bf 9ce7 abaf  ) # ............
+00000770: e69c 8de5 8aa1 0d0a 2020 2020 2020 2020  ........        
+00000780: 0d0a 2020 2020 2020 2020 2020 2020 736c  ..            sl
+00000790: 6565 7028 3529 2020 2320 e7ad 89e5 beae  eep(5)  # ......
+000007a0: e4bf a1e5 8aa0 e8bd bde5 a5bd efbc 8ce4  ................
+000007b0: bba5 e585 8de4 bfa1 e681 afe6 98be e7a4  ................
+000007c0: bae5 bc82 e5b8 b80d 0a20 2020 2020 2020  .........       
+000007d0: 2020 2020 204c 4f47 2e69 6e66 6f28 6622       LOG.info(f"
+000007e0: e5b7 b2e7 bb8f e799 bbe5 bd95 3a20 7b54  ............: {T
+000007f0: 7275 6520 6966 2077 6366 2e69 735f 6c6f  rue if wcf.is_lo
+00000800: 6769 6e28 2920 656c 7365 2046 616c 7365  gin() else False
+00000810: 7d22 290d 0a20 2020 2020 2020 2020 2020  }")..           
+00000820: 204c 4f47 2e69 6e66 6f28 6622 7778 6964   LOG.info(f"wxid
+00000830: 3a20 7b77 6366 2e67 6574 5f73 656c 665f  : {wcf.get_self_
+00000840: 7778 6964 2829 7d22 290d 0a20 2020 2020  wxid()}")..     
+00000850: 2020 200d 0a20 2020 2020 2020 2020 2020     ..           
+00000860: 2023 20e5 8581 e8ae b8e6 8ea5 e694 b6e6   # .............
+00000870: b688 e681 af0d 0a20 2020 2020 2020 2020  .......         
+00000880: 2020 2023 2077 6366 2e65 6e61 626c 655f     # wcf.enable_
+00000890: 7265 6376 5f6d 7367 284c 4f47 2e69 6e66  recv_msg(LOG.inf
+000008a0: 6f29 2023 2064 6570 7265 6361 7465 640d  o) # deprecated.
+000008b0: 0a20 2020 2020 2020 200d 0a20 2020 2020  .        ..     
+000008c0: 2020 2020 2020 2023 20e5 8581 e8ae b8e6         # .......
+000008d0: 8ea5 e694 b6e6 b688 e681 af0d 0a20 2020  .............   
+000008e0: 2020 2020 2020 2020 2077 6366 2e65 6e61           wcf.ena
+000008f0: 626c 655f 7265 6365 6976 696e 675f 6d73  ble_receiving_ms
+00000900: 6728 290d 0a20 2020 2020 2020 2020 2020  g()..           
+00000910: 2054 6872 6561 6428 7461 7267 6574 3d70   Thread(target=p
+00000920: 726f 6365 7373 5f6d 7367 2c20 6e61 6d65  rocess_msg, name
+00000930: 3d22 4765 744d 6573 7361 6765 222c 2061  ="GetMessage", a
+00000940: 7267 733d 2877 6366 2c29 2c20 6461 656d  rgs=(wcf,), daem
+00000950: 6f6e 3d54 7275 6529 2e73 7461 7274 2829  on=True).start()
+00000960: 0d0a 2020 2020 2020 2020 0d0a 2020 2020  ..        ..    
+00000970: 2020 2020 2020 2020 2320 7763 662e 6469          # wcf.di
+00000980: 7361 626c 655f 7265 6376 5f6d 7367 2829  sable_recv_msg()
+00000990: 2023 20e5 bd93 e99c 80e8 a681 e581 9ce6   # .............
+000009a0: ada2 e68e a5e6 94b6 e6b6 88e6 81af e697  ................
+000009b0: b6e8 b083 e794 a80d 0a20 2020 2020 2020  .........       
+000009c0: 200d 0a20 2020 2020 2020 2020 2020 2072   ..            r
+000009d0: 6574 203d 2077 6366 2e73 656e 645f 7465  et = wcf.send_te
+000009e0: 7874 2822 4865 6c6c 6f20 776f 726c 642e  xt("Hello world.
+000009f0: 222c 2022 6669 6c65 6865 6c70 6572 2229  ", "filehelper")
+00000a00: 0d0a 2020 2020 2020 2020 2020 2020 4c4f  ..            LO
+00000a10: 472e 696e 666f 2866 2273 656e 645f 7465  G.info(f"send_te
+00000a20: 7874 3a20 7b72 6574 7d22 290d 0a20 2020  xt: {ret}")..   
+00000a30: 2020 2020 200d 0a20 2020 2020 2020 2020       ..         
+00000a40: 2020 2072 6574 203d 2077 6366 2e73 656e     ret = wcf.sen
+00000a50: 645f 696d 6167 6528 2254 4551 7561 6e74  d_image("TEQuant
+00000a60: 2e6a 7065 6722 2c20 2266 696c 6568 656c  .jpeg", "filehel
+00000a70: 7065 7222 2920 2023 20e9 9c80 e8a6 81e7  per")  # .......
+00000a80: a1ae e4bf 9de5 9bbe e789 87e8 b7af e5be  ................
+00000a90: 84e6 ada3 e7a1 ae0d 0a20 2020 2020 2020  .........       
+00000aa0: 2020 2020 204c 4f47 2e69 6e66 6f28 6622       LOG.info(f"
+00000ab0: 7365 6e64 5f69 6d61 6765 3a20 7b72 6574  send_image: {ret
+00000ac0: 7d22 290d 0a20 2020 2020 2020 200d 0a20  }")..        .. 
+00000ad0: 2020 2020 2020 2020 2020 2072 6574 203d             ret =
+00000ae0: 2077 6366 2e73 656e 645f 6669 6c65 2822   wcf.send_file("
+00000af0: 5245 4144 4d45 2e4d 4422 2c20 2266 696c  README.MD", "fil
+00000b00: 6568 656c 7065 7222 2920 2023 20e9 9c80  ehelper")  # ...
+00000b10: e8a6 81e7 a1ae e4bf 9de6 9687 e4bb b6e8  ................
+00000b20: b7af e5be 84e6 ada3 e7a1 ae0d 0a20 2020  .............   
+00000b30: 2020 2020 2020 2020 204c 4f47 2e69 6e66           LOG.inf
+00000b40: 6f28 6622 7365 6e64 5f66 696c 653a 207b  o(f"send_file: {
+00000b50: 7265 747d 2229 0d0a 2020 2020 2020 2020  ret}")..        
+00000b60: 0d0a 2020 2020 2020 2020 2020 2020 4c4f  ..            LO
+00000b70: 472e 696e 666f 2866 224d 6573 7361 6765  G.info(f"Message
+00000b80: 2074 7970 6573 3a5c 6e7b 7763 662e 6765   types:\n{wcf.ge
+00000b90: 745f 6d73 675f 7479 7065 7328 297d 2229  t_msg_types()}")
+00000ba0: 0d0a 2020 2020 2020 2020 2020 2020 4c4f  ..            LO
+00000bb0: 472e 696e 666f 2866 2243 6f6e 7461 6374  G.info(f"Contact
+00000bc0: 733a 5c6e 7b77 6366 2e67 6574 5f63 6f6e  s:\n{wcf.get_con
+00000bd0: 7461 6374 7328 297d 2229 0d0a 2020 2020  tacts()}")..    
+00000be0: 2020 2020 0d0a 2020 2020 2020 2020 2020      ..          
+00000bf0: 2020 4c4f 472e 696e 666f 2866 2244 4273    LOG.info(f"DBs
+00000c00: 3a5c 6e7b 7763 662e 6765 745f 6462 7328  :\n{wcf.get_dbs(
+00000c10: 297d 2229 0d0a 2020 2020 2020 2020 2020  )}")..          
+00000c20: 2020 4c4f 472e 696e 666f 2866 2254 6162    LOG.info(f"Tab
+00000c30: 6c65 733a 5c6e 7b77 6366 2e67 6574 5f74  les:\n{wcf.get_t
+00000c40: 6162 6c65 7328 2764 6227 297d 2229 0d0a  ables('db')}")..
+00000c50: 2020 2020 2020 2020 2020 2020 4c4f 472e              LOG.
+00000c60: 696e 666f 2866 2252 6573 756c 7473 3a5c  info(f"Results:\
+00000c70: 6e7b 7763 662e 7175 6572 795f 7371 6c28  n{wcf.query_sql(
+00000c80: 274d 6963 726f 4d73 672e 6462 272c 2027  'MicroMsg.db', '
+00000c90: 5345 4c45 4354 202a 2046 524f 4d20 436f  SELECT * FROM Co
+00000ca0: 6e74 6163 7420 4c49 4d49 5420 313b 2729  ntact LIMIT 1;')
+00000cb0: 7d22 290d 0a20 2020 2020 2020 200d 0a20  }")..        .. 
+00000cc0: 2020 2020 2020 2020 2020 2023 20e9 9c80             # ...
+00000cd0: e8a6 81e7 9c9f e6ad a3e7 9a84 2056 33e3  ............ V3.
+00000ce0: 8081 5634 20e4 bfa1 e681 af0d 0a20 2020  ..V4 ........   
+00000cf0: 2020 2020 2020 2020 2023 2077 6366 2e61           # wcf.a
+00000d00: 6363 6570 745f 6e65 775f 6672 6965 6e64  ccept_new_friend
+00000d10: 2822 7633 222c 2022 7634 2229 0d0a 2020  ("v3", "v4")..  
+00000d20: 2020 2020 2020 0d0a 2020 2020 2020 2020        ..        
+00000d30: 2020 2020 2320 e5a1 abe5 8699 e6ad a3e7      # ..........
+00000d40: a1ae e79a 84e7 bea4 2049 4420 e592 8ce6  ........ ID ....
+00000d50: 8890 e591 9820 7778 6964 0d0a 2020 2020  ..... wxid..    
+00000d60: 2020 2020 2020 2020 2320 7265 7420 3d20          # ret = 
+00000d70: 7763 662e 6164 645f 6368 6174 726f 6f6d  wcf.add_chatroom
+00000d80: 5f6d 656d 6265 7273 2822 6368 6174 726f  _members("chatro
+00000d90: 6f6d 2069 6422 2c20 2277 7869 6431 2c77  om id", "wxid1,w
+00000da0: 7869 6432 2c77 7869 6433 2c2e 2e2e 2229  xid2,wxid3,...")
+00000db0: 0d0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
+00000dc0: 4c4f 472e 696e 666f 2866 2261 6464 5f63  LOG.info(f"add_c
+00000dd0: 6861 7472 6f6f 6d5f 6d65 6d62 6572 733a  hatroom_members:
+00000de0: 207b 7265 747d 2229 0d0a 2020 2020 2020   {ret}")..      
+00000df0: 2020 0d0a 2020 2020 2020 2020 2020 2020    ..            
+00000e00: 786d 6c20 3d20 273c 3f78 6d6c 2076 6572  xml = '<?xml ver
+00000e10: 7369 6f6e 3d22 312e 3022 3f3e 3c6d 7367  sion="1.0"?><msg
+00000e20: 3e3c 6170 706d 7367 2061 7070 6964 3d22  ><appmsg appid="
+00000e30: 2220 7364 6b76 6572 3d22 3022 3e3c 7469  " sdkver="0"><ti
+00000e40: 746c 653e e58f aee5 bd93 e88d afe6 88bf  tle>............
+00000e50: efbc 8c32 34e5 b08f e697 b6e6 9c8d e58a  ...24...........
+00000e60: a1ef bc8c 3238 e588 86e9 929f e980 81e8  ....28..........
+00000e70: 8daf e588 b0e5 aeb6 efbc 813c 2f74 6974  ...........</tit
+00000e80: 6c65 3e3c 6465 733e e58f aee5 bd93 e5bf  le><des>........
+00000e90: abe8 8daf e9a6 96e5 aeb6 e689 bfe8 afba  ................
+00000ea0: e88c 83e5 9bb4 e586 8532 38e5 8886 e992  .........28.....
+00000eb0: 9fe9 8081 e88d afe5 88b0 e5ae b6ef bc81  ................
+00000ec0: e58f aee5 bd93 e5bf abe8 8daf e6a0 b8e5  ................
+00000ed0: bf83 e58c bae5 9f9f e586 8537 2a32 34e5  ...........7*24.
+00000ee0: b08f e697 b6e5 85a8 e5a4 a9e5 8099 e69c  ................
+00000ef0: 8de5 8aa1 efbc 8ce9 8081 e88d afe4 b88a  ................
+00000f00: e997 a8ef bc81 e58f aee5 bd93 e5bf abe8  ................
+00000f10: 8daf e5ae 98e7 bd91 e4b8 bae6 82a8 e68f  ................
+00000f20: 90e4 be9b e5bf abe6 8db7 e4be bfe5 88a9  ................
+00000f30: efbc 8ce6 ada3 e593 81e4 bd8e e4bb b7ef  ................
+00000f40: bc8c e5ae 89e5 85a8 e694 bee5 bf83 e79a  ................
+00000f50: 84e8 b4ad e88d afe3 8081 e980 81e8 8daf  ................
+00000f60: e69c 8de5 8aa1 e4bd 93e9 aa8c e380 823c  ...............<
+00000f70: 2f64 6573 3e3c 6163 7469 6f6e 3e76 6965  /des><action>vie
+00000f80: 773c 2f61 6374 696f 6e3e 3c74 7970 653e  w</action><type>
+00000f90: 3333 3c2f 7479 7065 3e3c 7368 6f77 7479  33</type><showty
+00000fa0: 7065 3e30 3c2f 7368 6f77 7479 7065 3e3c  pe>0</showtype><
+00000fb0: 636f 6e74 656e 7420 2f3e 3c75 726c 3e68  content /><url>h
+00000fc0: 7474 7073 3a2f 2f6d 702e 7765 6978 696e  ttps://mp.weixin
+00000fd0: 2e71 712e 636f 6d2f 6d70 2f77 6165 7272  .qq.com/mp/waerr
+00000fe0: 7061 6765 3f61 7070 6964 3d77 7863 3265  page?appid=wxc2e
+00000ff0: 6461 6463 3837 3037 3766 6132 6126 616d  dadc87077fa2a&am
+00001000: 703b 7479 7065 3d75 7067 7261 6465 2661  p;type=upgrade&a
+00001010: 6d70 3b75 7067 7261 6465 7479 7065 3d33  mp;upgradetype=3
+00001020: 2377 6563 6861 745f 7265 6469 7265 6374  #wechat_redirect
+00001030: 3c2f 7572 6c3e 3c64 6174 6175 726c 202f  </url><dataurl /
+00001040: 3e3c 6c6f 7775 726c 202f 3e3c 6c6f 7764  ><lowurl /><lowd
+00001050: 6174 6175 726c 202f 3e3c 7265 636f 7264  ataurl /><record
+00001060: 6974 656d 202f 3e3c 7468 756d 6275 726c  item /><thumburl
+00001070: 202f 3e3c 6d65 7373 6167 6561 6374 696f   /><messageactio
+00001080: 6e20 2f3e 3c6d 6435 3e37 6636 6634 3964  n /><md5>7f6f49d
+00001090: 3330 3165 6266 3437 3130 3031 3939 6238  301ebf47100199b8
+000010a0: 6134 6663 6634 6465 343c 2f6d 6435 3e3c  a4fcf4de4</md5><
+000010b0: 6578 7469 6e66 6f20 2f3e 3c73 6f75 7263  extinfo /><sourc
+000010c0: 6575 7365 726e 616d 653e 6768 5f63 3262  eusername>gh_c2b
+000010d0: 3838 6133 3863 3432 3440 6170 703c 2f73  88a38c424@app</s
+000010e0: 6f75 7263 6575 7365 726e 616d 653e 3c73  ourceusername><s
+000010f0: 6f75 7263 6564 6973 706c 6179 6e61 6d65  ourcedisplayname
+00001100: 3ee5 8fae e5bd 93e5 bfab e88d af20 e88d  >............ ..
+00001110: afe5 ba97 e980 81e8 8daf e588 b0e5 aeb6  ................
+00001120: e5a4 9ce9 97b4 e4b9 b0e8 8daf 3c2f 736f  ............</so
+00001130: 7572 6365 6469 7370 6c61 796e 616d 653e  urcedisplayname>
+00001140: 3c63 6f6d 6d65 6e74 7572 6c20 2f3e 3c61  <commenturl /><a
+00001150: 7070 6174 7461 6368 3e3c 746f 7461 6c6c  ppattach><totall
+00001160: 656e 3e30 3c2f 746f 7461 6c6c 656e 3e3c  en>0</totallen><
+00001170: 6174 7461 6368 6964 202f 3e3c 656d 6f74  attachid /><emot
+00001180: 6963 6f6e 6d64 353e 3c2f 656d 6f74 6963  iconmd5></emotic
+00001190: 6f6e 6d64 353e 3c66 696c 6565 7874 3e6a  onmd5><fileext>j
+000011a0: 7067 3c2f 6669 6c65 6578 743e 3c66 696c  pg</fileext><fil
+000011b0: 656b 6579 3e64 6130 6530 3866 3563 3732  ekey>da0e08f5c72
+000011c0: 3539 6430 3364 6131 3530 6435 6537 6361  59d03da150d5e7ca
+000011d0: 3664 3935 303c 2f66 696c 656b 6579 3e3c  6d950</filekey><
+000011e0: 6364 6e74 6875 6d62 7572 6c3e 3330 3537  cdnthumburl>3057
+000011f0: 3032 3031 3030 3034 3462 3330 3439 3032  020100044b304902
+00001200: 3031 3030 3032 3034 6534 6330 3233 3237  01000204e4c02327
+00001210: 3032 3033 3266 3465 6632 3032 3034 6136  02032f4ef20204a6
+00001220: 6261 6365 3666 3032 3034 3634 3031 6636  bace6f02046401f6
+00001230: 3264 3034 3234 3330 3332 3633 3337 3330  2d04243032633730
+00001240: 3334 3330 3335 3264 3333 3337 3334 3333  3430352d33373433
+00001250: 3264 3334 3333 3632 3635 3264 3632 3333  2d343362652d6233
+00001260: 3335 3332 3264 3632 3333 3333 3335 3636  35322d6233333566
+00001270: 3632 3332 3636 3337 3633 3334 3632 3032  6232663763346202
+00001280: 3034 3031 3234 3030 3033 3032 3031 3030  0401240003020100
+00001290: 3034 3035 3030 3463 3533 3736 3030 3c2f  0405004c537600</
+000012a0: 6364 6e74 6875 6d62 7572 6c3e 3c61 6573  cdnthumburl><aes
+000012b0: 6b65 793e 3064 6232 3634 3536 6361 6632  key>0db26456caf2
+000012c0: 3433 6662 6434 6566 6239 3930 3538 6130  43fbd4efb99058a0
+000012d0: 3164 3636 3c2f 6165 736b 6579 3e3c 6364  1d66</aeskey><cd
+000012e0: 6e74 6875 6d62 6165 736b 6579 3e30 6462  nthumbaeskey>0db
+000012f0: 3236 3435 3663 6166 3234 3366 6264 3465  26456caf243fbd4e
+00001300: 6662 3939 3035 3861 3031 6436 363c 2f63  fb99058a01d66</c
+00001310: 646e 7468 756d 6261 6573 6b65 793e 3c65  dnthumbaeskey><e
+00001320: 6e63 7279 7665 723e 313c 2f65 6e63 7279  ncryver>1</encry
+00001330: 7665 723e 3c63 646e 7468 756d 626c 656e  ver><cdnthumblen
+00001340: 6774 683e 3631 3535 383c 2f63 646e 7468  gth>61558</cdnth
+00001350: 756d 626c 656e 6774 683e 3c63 646e 7468  umblength><cdnth
+00001360: 756d 6268 6569 6768 743e 3130 303c 2f63  umbheight>100</c
+00001370: 646e 7468 756d 6268 6569 6768 743e 3c63  dnthumbheight><c
+00001380: 646e 7468 756d 6277 6964 7468 3e31 3030  dnthumbwidth>100
+00001390: 3c2f 6364 6e74 6875 6d62 7769 6474 683e  </cdnthumbwidth>
+000013a0: 3c2f 6170 7061 7474 6163 683e 3c77 6561  </appattach><wea
+000013b0: 7070 696e 666f 3e3c 7061 6765 7061 7468  ppinfo><pagepath
+000013c0: 3e70 6167 6573 2f69 6e64 6578 2f69 6e64  >pages/index/ind
+000013d0: 6578 2e68 746d 6c3c 2f70 6167 6570 6174  ex.html</pagepat
+000013e0: 683e 3c75 7365 726e 616d 653e 6768 5f63  h><username>gh_c
+000013f0: 3262 3838 6133 3863 3432 3440 6170 703c  2b88a38c424@app<
+00001400: 2f75 7365 726e 616d 653e 3c61 7070 6964  /username><appid
+00001410: 3e77 7863 3265 6461 6463 3837 3037 3766  >wxc2edadc87077f
+00001420: 6132 613c 2f61 7070 6964 3e3c 7665 7273  a2a</appid><vers
+00001430: 696f 6e3e 3139 373c 2f76 6572 7369 6f6e  ion>197</version
+00001440: 3e3c 7479 7065 3e32 3c2f 7479 7065 3e3c  ><type>2</type><
+00001450: 7765 6170 7069 636f 6e75 726c 3e68 7474  weappiconurl>htt
+00001460: 703a 2f2f 7778 2e71 6c6f 676f 2e63 6e2f  p://wx.qlogo.cn/
+00001470: 6d6d 6865 6164 2f51 3361 7548 677a 777a  mmhead/Q3auHgzwz
+00001480: 4d34 3732 376e 304e 5130 5a49 5051 506c  M4727n0NQ0ZIPQPl
+00001490: 6670 3135 6d31 574c 736e 7258 626f 316b  fp15m1WLsnrXbo1k
+000014a0: 4c68 4647 636f 6c67 4c79 6330 412f 3936  LhFGcolgLyc0A/96
+000014b0: 3c2f 7765 6170 7069 636f 6e75 726c 3e3c  </weappiconurl><
+000014c0: 6170 7073 6572 7669 6365 7479 7065 3e30  appservicetype>0
+000014d0: 3c2f 6170 7073 6572 7669 6365 7479 7065  </appservicetype
+000014e0: 3e3c 7368 6172 6549 643e 315f 7778 6332  ><shareId>1_wxc2
+000014f0: 6564 6164 6338 3730 3737 6661 3261 5f32  edadc87077fa2a_2
+00001500: 3931 3737 6539 6139 6239 3138 6362 3965  9177e9a9b918cb9e
+00001510: 3735 3936 3466 3830 6262 3866 3332 655f  75964f80bb8f32e_
+00001520: 3136 3737 3834 3934 3736 5f30 3c2f 7368  1677849476_0</sh
+00001530: 6172 6549 643e 3c2f 7765 6170 7069 6e66  areId></weappinf
+00001540: 6f3e 3c77 6562 7365 6172 6368 202f 3e3c  o><websearch /><
+00001550: 2f61 7070 6d73 673e 3c66 726f 6d75 7365  /appmsg><fromuse
+00001560: 726e 616d 653e 7778 6964 5f78 7878 7878  rname>wxid_xxxxx
+00001570: 7878 7878 7878 7878 783c 2f66 726f 6d75  xxxxxxxxx</fromu
+00001580: 7365 726e 616d 653e 3c73 6365 6e65 3e30  sername><scene>0
+00001590: 3c2f 7363 656e 653e 3c61 7070 696e 666f  </scene><appinfo
+000015a0: 3e3c 7665 7273 696f 6e3e 313c 2f76 6572  ><version>1</ver
+000015b0: 7369 6f6e 3e3c 6170 706e 616d 6520 2f3e  sion><appname />
+000015c0: 3c2f 6170 7069 6e66 6f3e 3c63 6f6d 6d65  </appinfo><comme
+000015d0: 6e74 7572 6c20 2f3e 3c2f 6d73 673e 270d  nturl /></msg>'.
+000015e0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+000015f0: 203d 2077 6366 2e73 656e 645f 786d 6c28   = wcf.send_xml(
+00001600: 2266 696c 6568 656c 7065 7222 2c20 786d  "filehelper", xm
+00001610: 6c2c 2030 7832 3129 0d0a 2020 2020 2020  l, 0x21)..      
+00001620: 2020 2020 2020 4c4f 472e 696e 666f 2866        LOG.info(f
+00001630: 2273 656e 645f 786d 6c3a 207b 7265 747d  "send_xml: {ret}
+00001640: 2229 0d0a 2020 2020 2020 2020 0d0a 2020  ")..        ..  
+00001650: 2020 2020 2020 2020 2020 7265 7420 3d20            ret = 
+00001660: 7763 662e 7365 6e64 5f65 6d6f 7469 6f6e  wcf.send_emotion
+00001670: 2822 656d 6f2e 6769 6622 2c20 2266 696c  ("emo.gif", "fil
+00001680: 6568 656c 7065 7222 2920 2023 20e9 9c80  ehelper")  # ...
+00001690: e8a6 81e7 a1ae e4bf 9d20 6769 6620 e8b7  ......... gif ..
+000016a0: afe5 be84 e6ad a3e7 a1ae 0d0a 2020 2020  ............    
+000016b0: 2020 2020 2020 2020 4c4f 472e 696e 666f          LOG.info
+000016c0: 2866 2273 656e 645f 656d 6f74 696f 6e3a  (f"send_emotion:
+000016d0: 207b 7265 747d 2229 0d0a 2020 2020 2020   {ret}")..      
+000016e0: 2020 0d0a 2020 2020 2020 2020 2020 2020    ..            
+000016f0: 2320 e4b8 80e7 9bb4 e8bf 90e8 a18c 0d0a  # ..............
+00001700: 2020 2020 2020 2020 2020 2020 7763 662e              wcf.
+00001710: 6b65 6570 5f72 756e 6e69 6e67 2829 0d0a  keep_running()..
+00001720: 2020 2020 2020 2020 0d0a 2020 2020 2020          ..      
+00001730: 2020 0d0a 2020 2020 2020 2020 6966 205f    ..        if _
+00001740: 5f6e 616d 655f 5f20 3d3d 2022 5f5f 6d61  _name__ == "__ma
+00001750: 696e 5f5f 223a 0d0a 2020 2020 2020 2020  in__":..        
+00001760: 2020 2020 6d61 696e 2829 0d0a 2020 2020      main()..    
+00001770: 2020 2020 0d0a 2020 2020 2020 2020 6060      ..        ``
+00001780: 600d 0a20 2020 2020 2020 200d 0a20 2020  `..        ..   
+00001790: 2020 2020 2023 2320 e4b8 80e8 b5b7 e5bc       ## ........
+000017a0: 80e5 8f91 0d0a 2020 2020 2020 2020 2323  ......        ##
+000017b0: 2320 e985 8de7 bdae e78e afe5 a283 0d0a  # ..............
+000017c0: 2020 2020 2020 2020 6060 6073 680d 0a20          ```sh.. 
+000017d0: 2020 2020 2020 2023 20e5 889b e5bb bae8         # .......
+000017e0: 999a e68b 9fe7 8eaf e5a2 830d 0a20 2020  .............   
+000017f0: 2020 2020 2070 7974 686f 6e20 2d6d 2076       python -m v
+00001800: 656e 7620 2e65 6e76 0d0a 2020 2020 2020  env .env..      
+00001810: 2020 2320 e6bf 80e6 b4bb e899 9ae6 8b9f    # ............
+00001820: e78e afe5 a283 0d0a 2020 2020 2020 2020  ........        
+00001830: 736f 7572 6365 202e 656e 762f 5363 7269  source .env/Scri
+00001840: 7074 732f 6163 7469 7661 7465 0d0a 2020  pts/activate..  
+00001850: 2020 2020 2020 2320 e58d 87e7 baa7 2070        # ...... p
+00001860: 6970 0d0a 2020 2020 2020 2020 7069 7020  ip..        pip 
+00001870: 696e 7374 616c 6c20 2d2d 7570 6772 6164  install --upgrad
+00001880: 6520 7069 700d 0a20 2020 2020 2020 2023  e pip..        #
+00001890: 20e5 ae89 e8a3 85e4 be9d e8b5 96e5 8c85   ...............
+000018a0: 0d0a 2020 2020 2020 2020 7069 7020 696e  ..        pip in
+000018b0: 7374 616c 6c20 6772 7063 696f 2d74 6f6f  stall grpcio-too
+000018c0: 6c73 2070 796e 6e67 0d0a 2020 2020 2020  ls pynng..      
+000018d0: 2020 6060 600d 0a20 2020 2020 2020 200d    ```..        .
+000018e0: 0a20 2020 2020 2020 2023 2323 20e9 878d  .        ### ...
+000018f0: e696 b0e7 949f e688 9020 5042 20e6 9687  ......... PB ...
+00001900: e4bb b60d 0a20 2020 2020 2020 2060 6060  .....        ```
+00001910: 7368 0d0a 2020 2020 2020 2020 6364 2070  sh..        cd p
+00001920: 7974 686f 6e5c 7763 6665 7272 790d 0a20  ython\wcferry.. 
+00001930: 2020 2020 2020 2023 2043 4d44 0d0a 2020         # CMD..  
+00001940: 2020 2020 2020 7079 7468 6f6e 202d 6d20        python -m 
+00001950: 6772 7063 5f74 6f6f 6c73 2e70 726f 746f  grpc_tools.proto
+00001960: 6320 2d2d 7079 7468 6f6e 5f6f 7574 3d2e  c --python_out=.
+00001970: 202d 2d70 726f 746f 5f70 6174 683d 2e2e   --proto_path=..
+00001980: 5c2e 2e5c 7270 635c 7072 6f74 6f5c 2077  \..\rpc\proto\ w
+00001990: 6366 2e70 726f 746f 0d0a 2020 2020 2020  cf.proto..      
+000019a0: 2020 0d0a 2020 2020 2020 2020 2320 4769    ..        # Gi
+000019b0: 7442 6173 680d 0a20 2020 2020 2020 2070  tBash..        p
+000019c0: 7974 686f 6e20 2d6d 2067 7270 635f 746f  ython -m grpc_to
+000019d0: 6f6c 732e 7072 6f74 6f63 202d 2d70 7974  ols.protoc --pyt
+000019e0: 686f 6e5f 6f75 743d 2e20 2d2d 7072 6f74  hon_out=. --prot
+000019f0: 6f5f 7061 7468 3d2e 2e2f 2e2e 2f72 7063  o_path=../../rpc
+00001a00: 2f70 726f 746f 2f20 7763 662e 7072 6f74  /proto/ wcf.prot
+00001a10: 6f0d 0a20 2020 2020 2020 2060 6060 0d0a  o..        ```..
+00001a20: 2020 2020 2020 2020 0d0a 506c 6174 666f          ..Platfo
+00001a30: 726d 3a20 554e 4b4e 4f57 4e0d 0a43 6c61  rm: UNKNOWN..Cla
+00001a40: 7373 6966 6965 723a 2045 6e76 6972 6f6e  ssifier: Environ
+00001a50: 6d65 6e74 203a 3a20 5769 6e33 3220 284d  ment :: Win32 (M
+00001a60: 5320 5769 6e64 6f77 7329 0d0a 436c 6173  S Windows)..Clas
+00001a70: 7369 6669 6572 3a20 496e 7465 6e64 6564  sifier: Intended
+00001a80: 2041 7564 6965 6e63 6520 3a3a 2044 6576   Audience :: Dev
+00001a90: 656c 6f70 6572 730d 0a43 6c61 7373 6966  elopers..Classif
+00001aa0: 6965 723a 2049 6e74 656e 6465 6420 4175  ier: Intended Au
+00001ab0: 6469 656e 6365 203a 3a20 4375 7374 6f6d  dience :: Custom
+00001ac0: 6572 2053 6572 7669 6365 0d0a 436c 6173  er Service..Clas
+00001ad0: 7369 6669 6572 3a20 546f 7069 6320 3a3a  sifier: Topic ::
+00001ae0: 2043 6f6d 6d75 6e69 6361 7469 6f6e 7320   Communications 
+00001af0: 3a3a 2043 6861 740d 0a43 6c61 7373 6966  :: Chat..Classif
+00001b00: 6965 723a 204f 7065 7261 7469 6e67 2053  ier: Operating S
+00001b10: 7973 7465 6d20 3a3a 204d 6963 726f 736f  ystem :: Microso
+00001b20: 6674 203a 3a20 5769 6e64 6f77 730d 0a43  ft :: Windows..C
+00001b30: 6c61 7373 6966 6965 723a 2050 726f 6772  lassifier: Progr
+00001b40: 616d 6d69 6e67 204c 616e 6775 6167 6520  amming Language 
+00001b50: 3a3a 2050 7974 686f 6e0d 0a52 6571 7569  :: Python..Requi
+00001b60: 7265 732d 5079 7468 6f6e 3a20 3e3d 332e  res-Python: >=3.
+00001b70: 370d 0a44 6573 6372 6970 7469 6f6e 2d43  7..Description-C
+00001b80: 6f6e 7465 6e74 2d54 7970 653a 2074 6578  ontent-Type: tex
+00001b90: 742f 6d61 726b 646f 776e 0d0a            t/markdown..
```

### Comparing `wcferry-3.7.0.30.24.1/setup.py` & `wcferry-3.7.0.30.25/setup.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,44 +1,45 @@
-#! /usr/bin/env python3
-# -*- coding: utf-8 -*-
-
-
-from __future__ import print_function
-from setuptools import setup, find_packages
-
-import wcferry
-
-with open("README.md", "r", encoding="utf-8") as fh:
-    long_description = fh.read()
-
-
-setup(
-    name="wcferry",
-    version=wcferry.__version__,
-    author="Changhua",
-    author_email="lichanghua0821@gmail.com",
-    description="一个玩微信的工具",
-    long_description=long_description,
-    long_description_content_type="text/markdown",
-    license="MIT",
-    url="https://github.com/lich0821/WeChatFerry",
-    python_requires=">=3.7",
-    packages=find_packages(),
-    include_package_data=True,
-    install_requires=[
-        "setuptools",
-        "grpcio-tools",
-        "pynng"
-    ],
-    classifiers=[
-        "Environment :: Win32 (MS Windows)",
-        "Intended Audience :: Developers",
-        "Intended Audience :: Customer Service",
-        "Topic :: Communications :: Chat",
-        "Operating System :: Microsoft :: Windows",
-        "Programming Language :: Python",
-    ],
-    project_urls={
-        "Documentation": "https://sphinx-autoapi.readthedocs.io/en/latest/",
-        "GitHub": "https://github.com/lich0821/WeChatFerry/",
-    },
-)
+#! /usr/bin/env python3
+# -*- coding: utf-8 -*-
+
+
+from __future__ import print_function
+from setuptools import setup, find_packages
+
+import wcferry
+
+with open("README.md", "r", encoding="utf-8") as fh:
+    long_description = fh.read()
+
+
+setup(
+    name="wcferry",
+    version=wcferry.__version__,
+    author="Changhua",
+    author_email="lichanghua0821@gmail.com",
+    description="一个玩微信的工具",
+    long_description=long_description,
+    long_description_content_type="text/markdown",
+    license="MIT",
+    url="https://github.com/lich0821/WeChatFerry",
+    python_requires=">=3.7",
+    packages=find_packages(),
+    include_package_data=True,
+    install_requires=[
+        "setuptools",
+        "grpcio-tools",
+        "pynng",
+        "requests",
+    ],
+    classifiers=[
+        "Environment :: Win32 (MS Windows)",
+        "Intended Audience :: Developers",
+        "Intended Audience :: Customer Service",
+        "Topic :: Communications :: Chat",
+        "Operating System :: Microsoft :: Windows",
+        "Programming Language :: Python",
+    ],
+    project_urls={
+        "Documentation": "https://wechatferry.readthedocs.io/zh/latest/index.html",
+        "GitHub": "https://github.com/lich0821/WeChatFerry/",
+    },
+)
```

### Comparing `wcferry-3.7.0.30.24.1/wcferry/client.py` & `wcferry-3.7.0.30.25/wcferry/client.py`

 * *Files 15% similar despite different names*

```diff
@@ -1,480 +1,554 @@
-#! /usr/bin/env python3
-# -*- coding: utf-8 -*-
-
-import atexit
-import base64
-import logging
-import os
-import re
-import sys
-from queue import Queue
-from threading import Thread
-from time import sleep
-from typing import Callable, List, Optional
-
-import pynng
-from google.protobuf import json_format
-
-WCF_ROOT = os.path.abspath(os.path.dirname(__file__))
-sys.path.insert(0, WCF_ROOT)
-import wcf_pb2  # noqa
-
-__version__ = "3.7.0.30.24.1"
-
-
-def _retry():
-    def decorator(func):
-        """ Retry the function """
-        def wrapper(*args, **kwargs):
-            def logerror(e):
-                func_name = re.findall(r"func: (.*?)\n", str(args[1]))[-1]
-                logging.getLogger("WCF").error(f"Call {func_name} failed: {e}")
-
-            try:
-                ret = func(*args, **kwargs)
-            except pynng.Timeout as _:  # 如果超时，重试
-                try:
-                    ret = func(*args, **kwargs)
-                except Exception as e:
-                    logerror(e)
-                    ret = wcf_pb2.Response()
-            except Exception as e:  # 其他异常，退出
-                logerror(e)
-                sys.exit(-1)
-
-            return ret
-        return wrapper
-    return decorator
-
-
-class Wcf():
-    """WeChatFerry, a tool to play WeChat."""
-    class WxMsg():
-        """微信消息"""
-
-        def __init__(self, msg: wcf_pb2.WxMsg) -> None:
-            self._is_self = msg.is_self
-            self._is_group = msg.is_group
-            self.type = msg.type
-            self.id = msg.id
-            self.xml = msg.xml
-            self.sender = msg.sender
-            self.roomid = msg.roomid
-            self.content = msg.content
-            self.thumb = msg.thumb
-            self.extra = msg.extra
-
-        def __str__(self) -> str:
-            s = f"{'自己发的:' if self._is_self else ''}"
-            s += f"{self.sender}[{self.roomid}]:{self.id}:{self.type}:{self.xml.replace(chr(10), '').replace(chr(9),'')}\n"
-            s += self.content
-            s += f"\n{self.thumb}" if self.thumb else ""
-            s += f"\n{self.extra}" if self.extra else ""
-            return s
-
-        def from_self(self) -> bool:
-            """是否自己发的消息"""
-            return self._is_self == 1
-
-        def from_group(self) -> bool:
-            """是否群聊消息"""
-            return self._is_group
-
-        def is_at(self, wxid) -> bool:
-            """是否被@：群消息，在@名单里，并且不是@所有人"""
-            return self.from_group() and re.findall(
-                f"<atuserlist>.*({wxid}).*</atuserlist>", self.xml) and not re.findall(r"@(?:所有人|all)", self.xml)
-
-        def is_text(self) -> bool:
-            """是否文本消息"""
-            return self.type == 1
-
-    def __init__(self, host: str = None, port: int = 10086, debug: bool = True) -> None:
-        self._local_host = False
-        self._is_running = False
-        self._is_receiving_msg = False
-        self.LOG = logging.getLogger("WCF")
-        self.LOG.info(f"wcferry version: {__version__}")
-        self.port = port
-        self.host = host
-        if host is None:
-            self._local_host = True
-            self.host = "127.0.0.1"
-            cmd = fr'"{WCF_ROOT}\wcf.exe" start {self.port} {"debug" if debug else ""}'
-            if os.system(cmd) != 0:
-                self.LOG.error("初始化失败！")
-                os._exit(-1)
-
-        self.cmd_url = f"tcp://{self.host}:{self.port}"
-
-        # 连接 RPC
-        self.cmd_socket = pynng.Pair1()  # Client --> Server，发送消息
-        self.cmd_socket.send_timeout = 2000  # 发送 2 秒超时
-        self.cmd_socket.recv_timeout = 2000  # 接收 2 秒超时
-        try:
-            self.cmd_socket.dial(self.cmd_url, block=True)
-        except Exception as e:
-            self.LOG.error(f"连接失败: {e}")
-            os._exit(-2)
-
-        self.msg_socket = pynng.Pair1()  # Server --> Client，接收消息
-        self.msg_socket.send_timeout = 2000  # 发送 2 秒超时
-        self.msg_socket.recv_timeout = 2000  # 接收 2 秒超时
-        self.msg_url = self.cmd_url.replace(str(self.port), str(self.port + 1))
-
-        atexit.register(self.cleanup)  # 退出的时候停止消息接收，防止资源占用
-        while not self.is_login():     # 等待微信登录成功
-            sleep(1)
-
-        self._is_running = True
-        self.contacts = []
-        self.msgQ = Queue()
-        self._SQL_TYPES = {1: int, 2: float, 3: lambda x: x.decode("utf-8"), 4: bytes, 5: lambda x: None}
-        self.self_wxid = self.get_self_wxid()
-
-    def __del__(self) -> None:
-        self.cleanup()
-
-    def cleanup(self) -> None:
-        """关闭连接，回收资源"""
-        if not self._is_running:
-            return
-
-        self.disable_recv_msg()
-        self.cmd_socket.close()
-
-        if self._local_host:
-            cmd = fr'"{WCF_ROOT}\wcf.exe" stop'
-            if os.system(cmd) != 0:
-                self.LOG.error("退出失败！")
-                return
-        self._is_running = False
-
-    def keep_running(self):
-        """阻塞进程，让 RPC 一直维持连接"""
-        try:
-            while True:
-                sleep(1)
-        except Exception as e:
-            self.cleanup()
-
-    @_retry()
-    def _send_request(self, req: wcf_pb2.Request) -> wcf_pb2.Response:
-        data = req.SerializeToString()
-        self.cmd_socket.send(data)
-        rsp = wcf_pb2.Response()
-        rsp.ParseFromString(self.cmd_socket.recv_msg().bytes)
-        return rsp
-
-    def is_receiving_msg(self) -> bool:
-        return self._is_receiving_msg
-
-    def is_login(self) -> bool:
-        """是否已经登录"""
-        req = wcf_pb2.Request()
-        req.func = wcf_pb2.FUNC_IS_LOGIN  # FUNC_IS_LOGIN
-        rsp = self._send_request(req)
-
-        return rsp.status == 1
-
-    def get_self_wxid(self) -> str:
-        """获取登录账户的 wxid"""
-        req = wcf_pb2.Request()
-        req.func = wcf_pb2.FUNC_GET_SELF_WXID  # FUNC_GET_SELF_WXID
-        rsp = self._send_request(req)
-
-        return rsp.str
-
-    def get_msg_types(self) -> dict:
-        """获取所有消息类型"""
-        req = wcf_pb2.Request()
-        req.func = wcf_pb2.FUNC_GET_MSG_TYPES  # FUNC_GET_MSG_TYPES
-        rsp = self._send_request(req)
-        types = json_format.MessageToDict(rsp.types).get("types", {})
-        types = {int(k): v for k, v in types.items()}
-
-        return dict(sorted(dict(types).items()))
-
-    def get_contacts(self) -> List[dict]:
-        """获取完整通讯录"""
-        req = wcf_pb2.Request()
-        req.func = wcf_pb2.FUNC_GET_CONTACTS  # FUNC_GET_CONTACTS
-        rsp = self._send_request(req)
-        contacts = json_format.MessageToDict(rsp.contacts).get("contacts", [])
-
-        for cnt in contacts:
-            gender = cnt.get("gender", "")
-            if gender == 1:
-                gender = "男"
-            elif gender == 2:
-                gender = "女"
-            contact = {
-                "wxid": cnt.get("wxid", ""),
-                "code": cnt.get("code", ""),
-                "remark": cnt.get("remark", ""),
-                "name": cnt.get("name", ""),
-                "country": cnt.get("country", ""),
-                "province": cnt.get("province", ""),
-                "city": cnt.get("city", ""),
-                "gender": gender}
-            self.contacts.append(contact)
-        return self.contacts
-
-    def get_dbs(self) -> List[str]:
-        """获取所有数据库"""
-        req = wcf_pb2.Request()
-        req.func = wcf_pb2.FUNC_GET_DB_NAMES  # FUNC_GET_DB_NAMES
-        rsp = self._send_request(req)
-        dbs = json_format.MessageToDict(rsp.dbs).get("names", [])
-
-        return dbs
-
-    def get_tables(self, db: str) -> List[dict]:
-        """获取 db 中所有表"""
-        req = wcf_pb2.Request()
-        req.func = wcf_pb2.FUNC_GET_DB_TABLES  # FUNC_GET_DB_TABLES
-        req.str = db
-        rsp = self._send_request(req)
-        tables = json_format.MessageToDict(rsp.tables).get("tables", [])
-
-        return tables
-
-    def get_user_info(self) -> dict:
-        """获取个人信息"""
-        req = wcf_pb2.Request()
-        req.func = wcf_pb2.FUNC_GET_USER_INFO  # FUNC_GET_USER_INFO
-        rsp = self._send_request(req)
-        ui = json_format.MessageToDict(rsp.ui)
-
-        return ui
-
-    def send_text(self, msg: str, receiver: str, aters: Optional[str] = "") -> int:
-        """发送文本消息"""
-        req = wcf_pb2.Request()
-        req.func = wcf_pb2.FUNC_SEND_TXT  # FUNC_SEND_TXT
-        req.txt.msg = msg
-        req.txt.receiver = receiver
-        if aters:
-            req.txt.aters = aters
-        rsp = self._send_request(req)
-        return rsp.status
-
-    def send_image(self, path: str, receiver: str) -> int:
-        """发送图片"""
-        req = wcf_pb2.Request()
-        req.func = wcf_pb2.FUNC_SEND_IMG  # FUNC_SEND_IMG
-        req.file.path = path
-        req.file.receiver = receiver
-        rsp = self._send_request(req)
-        return rsp.status
-
-    def send_file(self, path: str, receiver: str) -> int:
-        """发送文件"""
-        req = wcf_pb2.Request()
-        req.func = wcf_pb2.FUNC_SEND_FILE  # FUNC_SEND_FILE
-        req.file.path = path
-        req.file.receiver = receiver
-        rsp = self._send_request(req)
-        return rsp.status
-
-    def send_xml(self, receiver: str, xml: str, type: int, path: str = None) -> int:
-        """发送文件"""
-        req = wcf_pb2.Request()
-        req.func = wcf_pb2.FUNC_SEND_XML  # FUNC_SEND_XML
-        req.xml.receiver = receiver
-        req.xml.content = xml
-        req.xml.type = type
-        if path:
-            req.xml.path = path
-        rsp = self._send_request(req)
-        return rsp.status
-
-    def send_emotion(self, path: str, receiver: str) -> int:
-        """发送表情"""
-        req = wcf_pb2.Request()
-        req.func = wcf_pb2.FUNC_SEND_EMOTION  # FUNC_SEND_EMOTION
-        req.file.path = path
-        req.file.receiver = receiver
-        rsp = self._send_request(req)
-        return rsp.status
-
-    def get_msg(self, block=True) -> WxMsg:
-        return self.msgQ.get(block, timeout=1)
-
-    def enable_receiving_msg(self) -> bool:
-        """允许接收消息"""
-        def listening_msg():
-            rsp = wcf_pb2.Response()
-            self.msg_socket.dial(self.msg_url, block=True)
-            while self._is_receiving_msg:
-                try:
-                    rsp.ParseFromString(self.msg_socket.recv_msg().bytes)
-                except Exception as e:
-                    pass
-                else:
-                    self.msgQ.put(self.WxMsg(rsp.wxmsg))
-
-            # 退出前关闭通信通道
-            self.msg_socket.close()
-
-        if self._is_receiving_msg:
-            return True
-
-        req = wcf_pb2.Request()
-        req.func = wcf_pb2.FUNC_ENABLE_RECV_TXT  # FUNC_ENABLE_RECV_TXT
-        rsp = self._send_request(req)
-        if rsp.status != 0:
-            return False
-
-        self._is_receiving_msg = True
-        # 阻塞，把控制权交给用户
-        # self._rpc_get_message(callback)
-
-        # 不阻塞，启动一个新的线程来接收消息
-        Thread(target=listening_msg, name="GetMessage", daemon=True).start()
-
-        return True
-
-    def enable_recv_msg(self, callback: Callable[[WxMsg], None] = None) -> bool:
-        """设置接收消息回调"""
-        def listening_msg():
-            rsp = wcf_pb2.Response()
-            self.msg_socket.dial(self.msg_url, block=True)
-            while self._is_receiving_msg:
-                try:
-                    rsp.ParseFromString(self.msg_socket.recv_msg().bytes)
-                except Exception as e:
-                    pass
-                else:
-                    callback(self.WxMsg(rsp.wxmsg))
-            # 退出前关闭通信通道
-            self.msg_socket.close()
-
-        if self._is_receiving_msg:
-            return True
-
-        if callback is None:
-            return False
-
-        req = wcf_pb2.Request()
-        req.func = wcf_pb2.FUNC_ENABLE_RECV_TXT  # FUNC_ENABLE_RECV_TXT
-        rsp = self._send_request(req)
-        if rsp.status != 0:
-            return False
-
-        self._is_receiving_msg = True
-        # 阻塞，把控制权交给用户
-        # listening_msg()
-
-        # 不阻塞，启动一个新的线程来接收消息
-        Thread(target=listening_msg, name="GetMessage", daemon=True).start()
-
-        return True
-
-    def disable_recv_msg(self) -> int:
-        """停止接收消息"""
-        if not self._is_receiving_msg:
-            return 0
-
-        req = wcf_pb2.Request()
-        req.func = wcf_pb2.FUNC_DISABLE_RECV_TXT  # FUNC_DISABLE_RECV_TXT
-        rsp = self._send_request(req)
-        self._is_receiving_msg = False
-
-        return rsp.status
-
-    def query_sql(self, db: str, sql: str) -> List[dict]:
-        """执行 SQL"""
-        result = []
-        req = wcf_pb2.Request()
-        req.func = wcf_pb2.FUNC_EXEC_DB_QUERY  # FUNC_EXEC_DB_QUERY
-        req.query.db = db
-        req.query.sql = sql
-        rsp = self._send_request(req)
-        rows = json_format.MessageToDict(rsp.rows).get("rows", [])
-        for r in rows:
-            row = {}
-            for f in r["fields"]:
-                c = base64.b64decode(f.get("content", ""))
-                row[f["column"]] = self._SQL_TYPES[f["type"]](c)
-            result.append(row)
-        return result
-
-    def accept_new_friend(self, v3: str, v4: str, scene: int = 30) -> int:
-        """通过好友申请
-        Args:
-            v3 (str): 加密用户名 (好友申请消息里 v3 开头的字符串)
-            v4 (str): Ticket (好友申请消息里 v4 开头的字符串)
-            scene: 申请方式 (好友申请消息里的 scene); 为了兼容旧接口，默认为扫码添加 (30)
-
-        Returns:
-            int: 1 为成功，其他失败
-        """
-        req = wcf_pb2.Request()
-        req.func = wcf_pb2.FUNC_ACCEPT_FRIEND  # FUNC_ACCEPT_FRIEND
-        req.v.v3 = v3
-        req.v.v4 = v4
-        req.v.scene = scene
-        rsp = self._send_request(req)
-        return rsp.status
-
-    def get_friends(self) -> List[dict]:
-        """获取好友列表"""
-        not_friends = {
-            "fmessage": "朋友推荐消息",
-            "medianote": "语音记事本",
-            "floatbottle": "漂流瓶",
-            "filehelper": "文件传输助手",
-            "newsapp": "新闻",
-        }
-        friends = []
-        for cnt in self.get_contacts():
-            if (cnt["wxid"].endswith("@chatroom")      # 群聊
-                    or cnt["wxid"].startswith("gh_")       # 公众号
-                    or cnt["wxid"] in not_friends.keys()   # 其他杂号
-                ):
-                continue
-            friends.append(cnt)
-
-        return friends
-
-    def add_chatroom_members(self, roomid: str, wxids: str) -> int:
-        """添加群成员"""
-        req = wcf_pb2.Request()
-        req.func = wcf_pb2.FUNC_ADD_ROOM_MEMBERS  # FUNC_ADD_ROOM_MEMBERS
-        req.m.roomid = roomid
-        req.m.wxids = wxids
-        rsp = self._send_request(req)
-        return rsp.status
-
-    def receive_transfer(self, wxid: str, transferid: str) -> int:
-        """接收转账
-        Args:
-            wxid (str): 转账消息里的发送人 wxid
-            transferid (str): 转账消息里的 transferid
-
-        Returns:
-            int: 1 为成功，其他失败
-        """
-        req = wcf_pb2.Request()
-        req.func = wcf_pb2.FUNC_RECV_TRANSFER  # FUNC_RECV_TRANSFER
-        req.tf.wxid = wxid
-        req.tf.tid = transferid
-        rsp = self._send_request(req)
-        return rsp.status
-
-    def decrypt_image(self, src: str, dst: str) -> bool:
-        """解密图片:
-        Args:
-            src (str): 加密的图片路径
-            dst (str): 解密的图片路径
-
-        Returns:
-            bool: 是否成功
-        """
-        req = wcf_pb2.Request()
-        req.func = wcf_pb2.FUNC_DECRYPT_IMAGE  # FUNC_DECRYPT_IMAGE
-        req.dec.src = src
-        req.dec.dst = dst
-        rsp = self._send_request(req)
-        return rsp.status == 1
+#! /usr/bin/env python3
+# -*- coding: utf-8 -*-
+
+__version__ = "3.7.0.30.25"
+
+import atexit
+import base64
+import logging
+import os
+import re
+import sys
+from queue import Queue
+from threading import Thread
+from time import sleep
+from typing import Callable, List, Optional
+
+import pynng
+import requests
+from google.protobuf import json_format
+from wcferry import wcf_pb2
+from wcferry.wxmsg import WxMsg
+
+
+def _retry():
+    def decorator(func):
+        """ Retry the function """
+        def wrapper(*args, **kwargs):
+            def logerror(e):
+                func_name = re.findall(r"func: (.*?)\n", str(args[1]))[-1]
+                logging.getLogger("WCF").error(f"Call {func_name} failed: {e}")
+
+            try:
+                ret = func(*args, **kwargs)
+            except pynng.Timeout as _:  # 如果超时，重试
+                try:
+                    ret = func(*args, **kwargs)
+                except Exception as e:
+                    logerror(e)
+                    ret = wcf_pb2.Response()
+            except Exception as e:  # 其他异常，退出
+                logerror(e)
+                sys.exit(-1)
+
+            return ret
+        return wrapper
+    return decorator
+
+
+class Wcf():
+    """WeChatFerry, 一个玩微信的工具。
+
+    Args:
+        host (str): `wcferry` RPC 服务器地址，默认本地启动；也可以指定地址连接远程服务
+        port (int): `wcferry` RPC 服务器端口，默认为 10086，接收消息会占用 `port+1` 端口
+        debug (bool): 是否开启调试模式（仅本地启动有效）
+
+    Attributes:
+        contacts (list): 联系人缓存，调用 `get_contacts` 后更新
+        self_wxid (str): 登录账号 wxid
+    """
+
+    def __init__(self, host: str = None, port: int = 10086, debug: bool = True) -> None:
+        self._local_mode = False
+        self._is_running = False
+        self._is_receiving_msg = False
+        self._wcf_root = os.path.abspath(os.path.dirname(__file__))
+        self.LOG = logging.getLogger("WCF")
+        self.LOG.info(f"wcferry version: {__version__}")
+        self.port = port
+        self.host = host
+        if host is None:
+            self._local_mode = True
+            self.host = "127.0.0.1"
+            cmd = fr'"{self._wcf_root}\wcf.exe" start {self.port} {"debug" if debug else ""}'
+            if os.system(cmd) != 0:
+                self.LOG.error("初始化失败！")
+                os._exit(-1)
+
+        self.cmd_url = f"tcp://{self.host}:{self.port}"
+
+        # 连接 RPC
+        self.cmd_socket = pynng.Pair1()  # Client --> Server，发送消息
+        self.cmd_socket.send_timeout = 2000  # 发送 2 秒超时
+        self.cmd_socket.recv_timeout = 2000  # 接收 2 秒超时
+        try:
+            self.cmd_socket.dial(self.cmd_url, block=True)
+        except Exception as e:
+            self.LOG.error(f"连接失败: {e}")
+            os._exit(-2)
+
+        self.msg_socket = pynng.Pair1()  # Server --> Client，接收消息
+        self.msg_socket.send_timeout = 2000  # 发送 2 秒超时
+        self.msg_socket.recv_timeout = 2000  # 接收 2 秒超时
+        self.msg_url = self.cmd_url.replace(str(self.port), str(self.port + 1))
+
+        atexit.register(self.cleanup)  # 退出的时候停止消息接收，防止资源占用
+        while not self.is_login():     # 等待微信登录成功
+            sleep(1)
+
+        self._is_running = True
+        self.contacts = []
+        self.msgQ = Queue()
+        self._SQL_TYPES = {1: int, 2: float, 3: lambda x: x.decode("utf-8"), 4: bytes, 5: lambda x: None}
+        self.self_wxid = self.get_self_wxid()
+
+    def __del__(self) -> None:
+        self.cleanup()
+
+    def cleanup(self) -> None:
+        """关闭连接，回收资源"""
+        if not self._is_running:
+            return
+
+        self.disable_recv_msg()
+        self.cmd_socket.close()
+
+        if self._local_mode:
+            cmd = fr'"{self._wcf_root}\wcf.exe" stop'
+            if os.system(cmd) != 0:
+                self.LOG.error("退出失败！")
+                return
+        self._is_running = False
+
+    def keep_running(self):
+        """阻塞进程，让 RPC 一直维持连接"""
+        try:
+            while True:
+                sleep(1)
+        except Exception as e:
+            self.cleanup()
+
+    @_retry()
+    def _send_request(self, req: wcf_pb2.Request) -> wcf_pb2.Response:
+        data = req.SerializeToString()
+        self.cmd_socket.send(data)
+        rsp = wcf_pb2.Response()
+        rsp.ParseFromString(self.cmd_socket.recv_msg().bytes)
+        return rsp
+
+    def is_receiving_msg(self) -> bool:
+        """是否已启动接收消息功能"""
+        return self._is_receiving_msg
+
+    def is_login(self) -> bool:
+        """是否已经登录"""
+        req = wcf_pb2.Request()
+        req.func = wcf_pb2.FUNC_IS_LOGIN  # FUNC_IS_LOGIN
+        rsp = self._send_request(req)
+
+        return rsp.status == 1
+
+    def get_self_wxid(self) -> str:
+        """获取登录账户的 wxid"""
+        req = wcf_pb2.Request()
+        req.func = wcf_pb2.FUNC_GET_SELF_WXID  # FUNC_GET_SELF_WXID
+        rsp = self._send_request(req)
+
+        return rsp.str
+
+    def get_msg_types(self) -> dict:
+        """获取所有消息类型"""
+        req = wcf_pb2.Request()
+        req.func = wcf_pb2.FUNC_GET_MSG_TYPES  # FUNC_GET_MSG_TYPES
+        rsp = self._send_request(req)
+        types = json_format.MessageToDict(rsp.types).get("types", {})
+        types = {int(k): v for k, v in types.items()}
+
+        return dict(sorted(dict(types).items()))
+
+    def get_contacts(self) -> List[dict]:
+        """获取完整通讯录"""
+        req = wcf_pb2.Request()
+        req.func = wcf_pb2.FUNC_GET_CONTACTS  # FUNC_GET_CONTACTS
+        rsp = self._send_request(req)
+        contacts = json_format.MessageToDict(rsp.contacts).get("contacts", [])
+
+        for cnt in contacts:
+            gender = cnt.get("gender", "")
+            if gender == 1:
+                gender = "男"
+            elif gender == 2:
+                gender = "女"
+            contact = {
+                "wxid": cnt.get("wxid", ""),
+                "code": cnt.get("code", ""),
+                "remark": cnt.get("remark", ""),
+                "name": cnt.get("name", ""),
+                "country": cnt.get("country", ""),
+                "province": cnt.get("province", ""),
+                "city": cnt.get("city", ""),
+                "gender": gender}
+            self.contacts.append(contact)
+        return self.contacts
+
+    def get_dbs(self) -> List[str]:
+        """获取所有数据库"""
+        req = wcf_pb2.Request()
+        req.func = wcf_pb2.FUNC_GET_DB_NAMES  # FUNC_GET_DB_NAMES
+        rsp = self._send_request(req)
+        dbs = json_format.MessageToDict(rsp.dbs).get("names", [])
+
+        return dbs
+
+    def get_tables(self, db: str) -> List[dict]:
+        """获取 db 中所有表
+
+        Args:
+            db (str): 数据库名（可通过 `get_dbs` 查询）
+
+        Returns:
+            List[dict]: `db` 下的所有表名及对应建表语句
+        """
+        req = wcf_pb2.Request()
+        req.func = wcf_pb2.FUNC_GET_DB_TABLES  # FUNC_GET_DB_TABLES
+        req.str = db
+        rsp = self._send_request(req)
+        tables = json_format.MessageToDict(rsp.tables).get("tables", [])
+
+        return tables
+
+    def get_user_info(self) -> dict:
+        """获取登录账号个人信息"""
+        req = wcf_pb2.Request()
+        req.func = wcf_pb2.FUNC_GET_USER_INFO  # FUNC_GET_USER_INFO
+        rsp = self._send_request(req)
+        ui = json_format.MessageToDict(rsp.ui)
+
+        return ui
+
+    def send_text(self, msg: str, receiver: str, aters: Optional[str] = "") -> int:
+        """发送文本消息
+
+        Args:
+            msg (str): 要发送的消息，换行使用 `\\n`；如果 @ 人的话，需要带上跟 `aters` 里数量相同的 @
+            receiver (str): 消息接收人，wxid 或者 roomid
+            aters (str): 要 @ 的 wxid，多个用逗号分隔；`@所有人` 只需要 `nofity@all`
+
+        Returns:
+            int: 0 为成功，其他失败
+        """
+        req = wcf_pb2.Request()
+        req.func = wcf_pb2.FUNC_SEND_TXT  # FUNC_SEND_TXT
+        req.txt.msg = msg
+        req.txt.receiver = receiver
+        if aters:
+            req.txt.aters = aters
+        rsp = self._send_request(req)
+        return rsp.status
+
+    def send_image(self, path: str, receiver: str) -> int:
+        """发送图片，非线程安全
+
+        Args:
+            path (str): 图片路径，如：`C:/Projs/WeChatRobot/TEQuant.jpeg` 或 `https://raw.githubusercontent.com/lich0821/WeChatRobot/master/TEQuant.jpeg`
+            receiver (str): 消息接收人，wxid 或者 roomid
+
+        Returns:
+            int: 0 为成功，其他失败
+        """
+        if path.startswith("http"):
+            if not self._local_mode:
+                self.LOG.error(f"只有本地模式才支持网络路径！")
+                return -1
+            try:
+                headers = {
+                    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36', }
+                response = requests.get(path, headers=headers, stream=True)
+                response.raw.decode_content = True
+
+                # 保存图片，不删除，等下次覆盖
+                with open(f"{self._wcf_root}/.tmp.jpg", "wb") as of:
+                    of.write(response.content)
+
+                path = f"{self._wcf_root}/.tmp.jpg"
+            except Exception as e:
+                self.LOG.error(e)
+                return -1
+
+        req = wcf_pb2.Request()
+        req.func = wcf_pb2.FUNC_SEND_IMG  # FUNC_SEND_IMG
+        req.file.path = path
+        req.file.receiver = receiver
+        rsp = self._send_request(req)
+        return rsp.status
+
+    def send_file(self, path: str, receiver: str) -> int:
+        """发送文件
+
+        Args:
+            path (str): 本地文件路径，如：`C:/Projs/WeChatRobot/README.MD`
+            receiver (str): 消息接收人，wxid 或者 roomid
+
+        Returns:
+            int: 0 为成功，其他失败
+        """
+        req = wcf_pb2.Request()
+        req.func = wcf_pb2.FUNC_SEND_FILE  # FUNC_SEND_FILE
+        req.file.path = path
+        req.file.receiver = receiver
+        rsp = self._send_request(req)
+        return rsp.status
+
+    def send_xml(self, receiver: str, xml: str, type: int, path: str = None) -> int:
+        """发送 XML
+
+        Args:
+            receiver (str): 消息接收人，wxid 或者 roomid
+            xml (str): xml 内容
+            type (int): xml 类型，如：0x21 为小程序
+            path (str): 封面图片路径
+
+        Returns:
+            int: 0 为成功，其他失败
+        """
+        req = wcf_pb2.Request()
+        req.func = wcf_pb2.FUNC_SEND_XML  # FUNC_SEND_XML
+        req.xml.receiver = receiver
+        req.xml.content = xml
+        req.xml.type = type
+        if path:
+            req.xml.path = path
+        rsp = self._send_request(req)
+        return rsp.status
+
+    def send_emotion(self, path: str, receiver: str) -> int:
+        """发送表情
+
+        Args:
+            path (str): 本地表情路径，如：`C:/Projs/WeChatRobot/emo.gif`
+            receiver (str): 消息接收人，wxid 或者 roomid
+
+        Returns:
+            int: 0 为成功，其他失败
+        """
+        req = wcf_pb2.Request()
+        req.func = wcf_pb2.FUNC_SEND_EMOTION  # FUNC_SEND_EMOTION
+        req.file.path = path
+        req.file.receiver = receiver
+        rsp = self._send_request(req)
+        return rsp.status
+
+    def get_msg(self, block=True) -> WxMsg:
+        """从消息队列中获取消息
+
+        Args:
+            block (bool): 是否阻塞，默认阻塞
+
+        Returns:
+            WxMsg: 微信消息
+
+        Raises:
+            Empty: 如果阻塞并且超时，抛出空异常，需要用户自行捕获
+        """
+        return self.msgQ.get(block, timeout=1)
+
+    def enable_receiving_msg(self) -> bool:
+        """允许接收消息，成功后通过 `get_msg` 读取消息"""
+        def listening_msg():
+            rsp = wcf_pb2.Response()
+            self.msg_socket.dial(self.msg_url, block=True)
+            while self._is_receiving_msg:
+                try:
+                    rsp.ParseFromString(self.msg_socket.recv_msg().bytes)
+                except Exception as e:
+                    pass
+                else:
+                    self.msgQ.put(WxMsg(rsp.wxmsg))
+
+            # 退出前关闭通信通道
+            self.msg_socket.close()
+
+        if self._is_receiving_msg:
+            return True
+
+        req = wcf_pb2.Request()
+        req.func = wcf_pb2.FUNC_ENABLE_RECV_TXT  # FUNC_ENABLE_RECV_TXT
+        rsp = self._send_request(req)
+        if rsp.status != 0:
+            return False
+
+        self._is_receiving_msg = True
+        # 阻塞，把控制权交给用户
+        # self._rpc_get_message(callback)
+
+        # 不阻塞，启动一个新的线程来接收消息
+        Thread(target=listening_msg, name="GetMessage", daemon=True).start()
+
+        return True
+
+    def enable_recv_msg(self, callback: Callable[[WxMsg], None] = None) -> bool:
+        """（不建议使用）设置接收消息回调，消息量大时可能会丢失消息
+
+        .. deprecated:: 3.7.0.30.13
+        """
+        def listening_msg():
+            rsp = wcf_pb2.Response()
+            self.msg_socket.dial(self.msg_url, block=True)
+            while self._is_receiving_msg:
+                try:
+                    rsp.ParseFromString(self.msg_socket.recv_msg().bytes)
+                except Exception as e:
+                    pass
+                else:
+                    callback(WxMsg(rsp.wxmsg))
+            # 退出前关闭通信通道
+            self.msg_socket.close()
+
+        if self._is_receiving_msg:
+            return True
+
+        if callback is None:
+            return False
+
+        req = wcf_pb2.Request()
+        req.func = wcf_pb2.FUNC_ENABLE_RECV_TXT  # FUNC_ENABLE_RECV_TXT
+        rsp = self._send_request(req)
+        if rsp.status != 0:
+            return False
+
+        self._is_receiving_msg = True
+        # 阻塞，把控制权交给用户
+        # listening_msg()
+
+        # 不阻塞，启动一个新的线程来接收消息
+        Thread(target=listening_msg, name="GetMessage", daemon=True).start()
+
+        return True
+
+    def disable_recv_msg(self) -> int:
+        """停止接收消息"""
+        if not self._is_receiving_msg:
+            return 0
+
+        req = wcf_pb2.Request()
+        req.func = wcf_pb2.FUNC_DISABLE_RECV_TXT  # FUNC_DISABLE_RECV_TXT
+        rsp = self._send_request(req)
+        self._is_receiving_msg = False
+
+        return rsp.status
+
+    def query_sql(self, db: str, sql: str) -> List[dict]:
+        """执行 SQL，如果数据量大注意分页，以免 OOM
+
+        Args:
+            db (str): 要查询的数据库
+            sql (str): 要执行的 SQL
+
+        Returns:
+            List[dict]: 查询结果
+        """
+        result = []
+        req = wcf_pb2.Request()
+        req.func = wcf_pb2.FUNC_EXEC_DB_QUERY  # FUNC_EXEC_DB_QUERY
+        req.query.db = db
+        req.query.sql = sql
+        rsp = self._send_request(req)
+        rows = json_format.MessageToDict(rsp.rows).get("rows", [])
+        for r in rows:
+            row = {}
+            for f in r["fields"]:
+                c = base64.b64decode(f.get("content", ""))
+                row[f["column"]] = self._SQL_TYPES[f["type"]](c)
+            result.append(row)
+        return result
+
+    def accept_new_friend(self, v3: str, v4: str, scene: int = 30) -> int:
+        """通过好友申请
+
+        Args:
+            v3 (str): 加密用户名 (好友申请消息里 v3 开头的字符串)
+            v4 (str): Ticket (好友申请消息里 v4 开头的字符串)
+            scene: 申请方式 (好友申请消息里的 scene); 为了兼容旧接口，默认为扫码添加 (30)
+
+        Returns:
+            int: 1 为成功，其他失败
+        """
+        req = wcf_pb2.Request()
+        req.func = wcf_pb2.FUNC_ACCEPT_FRIEND  # FUNC_ACCEPT_FRIEND
+        req.v.v3 = v3
+        req.v.v4 = v4
+        req.v.scene = scene
+        rsp = self._send_request(req)
+        return rsp.status
+
+    def get_friends(self) -> List[dict]:
+        """获取好友列表"""
+        not_friends = {
+            "fmessage": "朋友推荐消息",
+            "medianote": "语音记事本",
+            "floatbottle": "漂流瓶",
+            "filehelper": "文件传输助手",
+            "newsapp": "新闻",
+        }
+        friends = []
+        for cnt in self.get_contacts():
+            if (cnt["wxid"].endswith("@chatroom")      # 群聊
+                or cnt["wxid"].startswith("gh_")       # 公众号
+                or cnt["wxid"] in not_friends.keys()   # 其他杂号
+                ):
+                continue
+            friends.append(cnt)
+
+        return friends
+
+    def add_chatroom_members(self, roomid: str, wxids: str) -> int:
+        """添加群成员
+
+        Args:
+            roomid (str): 待加群的 id
+            wxids (str): 要加到群里的 wxid，多个用逗号分隔
+
+        Returns:
+            int: 1 为成功，其他失败
+        """
+        req = wcf_pb2.Request()
+        req.func = wcf_pb2.FUNC_ADD_ROOM_MEMBERS  # FUNC_ADD_ROOM_MEMBERS
+        req.m.roomid = roomid
+        req.m.wxids = wxids
+        rsp = self._send_request(req)
+        return rsp.status
+
+    def receive_transfer(self, wxid: str, transferid: str) -> int:
+        """接收转账
+
+        Args:
+            wxid (str): 转账消息里的发送人 wxid
+            transferid (str): 转账消息里的 transferid
+
+        Returns:
+            int: 1 为成功，其他失败
+        """
+        req = wcf_pb2.Request()
+        req.func = wcf_pb2.FUNC_RECV_TRANSFER  # FUNC_RECV_TRANSFER
+        req.tf.wxid = wxid
+        req.tf.tid = transferid
+        rsp = self._send_request(req)
+        return rsp.status
+
+    def decrypt_image(self, src: str, dst: str) -> bool:
+        """解密图片:
+
+        Args:
+            src (str): 加密的图片路径
+            dst (str): 解密的图片路径
+
+        Returns:
+            bool: 是否成功
+        """
+        req = wcf_pb2.Request()
+        req.func = wcf_pb2.FUNC_DECRYPT_IMAGE  # FUNC_DECRYPT_IMAGE
+        req.dec.src = src
+        req.dec.dst = dst
+        rsp = self._send_request(req)
+        return rsp.status == 1
```

### Comparing `wcferry-3.7.0.30.24.1/wcferry/wcf_pb2.py` & `wcferry-3.7.0.30.25/wcferry/wcf_pb2.py`

 * *Files 1% similar despite different names*

```diff
@@ -9,26 +9,26 @@
 # @@protoc_insertion_point(imports)
 
 _sym_db = _symbol_database.Default()
 
 
 
 
-DESCRIPTOR = _descriptor_pool.Default().AddSerializedFile(b'\n\twcf.proto\x12\x03wcf\"\xc8\x02\n\x07Request\x12\x1c\n\x04\x66unc\x18\x01 \x01(\x0e\x32\x0e.wcf.Functions\x12\x1b\n\x05\x65mpty\x18\x02 \x01(\x0b\x32\n.wcf.EmptyH\x00\x12\r\n\x03str\x18\x03 \x01(\tH\x00\x12\x1b\n\x03txt\x18\x04 \x01(\x0b\x32\x0c.wcf.TextMsgH\x00\x12\x1c\n\x04\x66ile\x18\x05 \x01(\x0b\x32\x0c.wcf.PathMsgH\x00\x12\x1d\n\x05query\x18\x06 \x01(\x0b\x32\x0c.wcf.DbQueryH\x00\x12\x1e\n\x01v\x18\x07 \x01(\x0b\x32\x11.wcf.VerificationH\x00\x12\x1c\n\x01m\x18\x08 \x01(\x0b\x32\x0f.wcf.AddMembersH\x00\x12\x1a\n\x03xml\x18\t \x01(\x0b\x32\x0b.wcf.XmlMsgH\x00\x12\x1b\n\x03\x64\x65\x63\x18\n \x01(\x0b\x32\x0c.wcf.DecPathH\x00\x12\x1b\n\x02tf\x18\x0b \x01(\x0b\x32\r.wcf.TransferH\x00\x42\x05\n\x03msg\"\xab\x02\n\x08Response\x12\x1c\n\x04\x66unc\x18\x01 \x01(\x0e\x32\x0e.wcf.Functions\x12\x10\n\x06status\x18\x02 \x01(\x05H\x00\x12\r\n\x03str\x18\x03 \x01(\tH\x00\x12\x1b\n\x05wxmsg\x18\x04 \x01(\x0b\x32\n.wcf.WxMsgH\x00\x12\x1e\n\x05types\x18\x05 \x01(\x0b\x32\r.wcf.MsgTypesH\x00\x12$\n\x08\x63ontacts\x18\x06 \x01(\x0b\x32\x10.wcf.RpcContactsH\x00\x12\x1b\n\x03\x64\x62s\x18\x07 \x01(\x0b\x32\x0c.wcf.DbNamesH\x00\x12\x1f\n\x06tables\x18\x08 \x01(\x0b\x32\r.wcf.DbTablesH\x00\x12\x1b\n\x04rows\x18\t \x01(\x0b\x32\x0b.wcf.DbRowsH\x00\x12\x1b\n\x02ui\x18\n \x01(\x0b\x32\r.wcf.UserInfoH\x00\x42\x05\n\x03msg\"\x07\n\x05\x45mpty\"\xa0\x01\n\x05WxMsg\x12\x0f\n\x07is_self\x18\x01 \x01(\x08\x12\x10\n\x08is_group\x18\x02 \x01(\x08\x12\x0c\n\x04type\x18\x03 \x01(\x05\x12\n\n\x02id\x18\x04 \x01(\t\x12\x0b\n\x03xml\x18\x05 \x01(\t\x12\x0e\n\x06sender\x18\x06 \x01(\t\x12\x0e\n\x06roomid\x18\x07 \x01(\t\x12\x0f\n\x07\x63ontent\x18\x08 \x01(\t\x12\r\n\x05thumb\x18\t \x01(\t\x12\r\n\x05\x65xtra\x18\n \x01(\t\"7\n\x07TextMsg\x12\x0b\n\x03msg\x18\x01 \x01(\t\x12\x10\n\x08receiver\x18\x02 \x01(\t\x12\r\n\x05\x61ters\x18\x03 \x01(\t\")\n\x07PathMsg\x12\x0c\n\x04path\x18\x01 \x01(\t\x12\x10\n\x08receiver\x18\x02 \x01(\t\"G\n\x06XmlMsg\x12\x10\n\x08receiver\x18\x01 \x01(\t\x12\x0f\n\x07\x63ontent\x18\x02 \x01(\t\x12\x0c\n\x04path\x18\x03 \x01(\t\x12\x0c\n\x04type\x18\x04 \x01(\x05\"a\n\x08MsgTypes\x12\'\n\x05types\x18\x01 \x03(\x0b\x32\x18.wcf.MsgTypes.TypesEntry\x1a,\n\nTypesEntry\x12\x0b\n\x03key\x18\x01 \x01(\x05\x12\r\n\x05value\x18\x02 \x01(\t:\x02\x38\x01\"\x87\x01\n\nRpcContact\x12\x0c\n\x04wxid\x18\x01 \x01(\t\x12\x0c\n\x04\x63ode\x18\x02 \x01(\t\x12\x0e\n\x06remark\x18\x03 \x01(\t\x12\x0c\n\x04name\x18\x04 \x01(\t\x12\x0f\n\x07\x63ountry\x18\x05 \x01(\t\x12\x10\n\x08province\x18\x06 \x01(\t\x12\x0c\n\x04\x63ity\x18\x07 \x01(\t\x12\x0e\n\x06gender\x18\x08 \x01(\x05\"0\n\x0bRpcContacts\x12!\n\x08\x63ontacts\x18\x01 \x03(\x0b\x32\x0f.wcf.RpcContact\"\x18\n\x07\x44\x62Names\x12\r\n\x05names\x18\x01 \x03(\t\"$\n\x07\x44\x62Table\x12\x0c\n\x04name\x18\x01 \x01(\t\x12\x0b\n\x03sql\x18\x02 \x01(\t\"(\n\x08\x44\x62Tables\x12\x1c\n\x06tables\x18\x01 \x03(\x0b\x32\x0c.wcf.DbTable\"\"\n\x07\x44\x62Query\x12\n\n\x02\x64\x62\x18\x01 \x01(\t\x12\x0b\n\x03sql\x18\x02 \x01(\t\"8\n\x07\x44\x62\x46ield\x12\x0c\n\x04type\x18\x01 \x01(\x05\x12\x0e\n\x06\x63olumn\x18\x02 \x01(\t\x12\x0f\n\x07\x63ontent\x18\x03 \x01(\x0c\"%\n\x05\x44\x62Row\x12\x1c\n\x06\x66ields\x18\x01 \x03(\x0b\x32\x0c.wcf.DbField\"\"\n\x06\x44\x62Rows\x12\x18\n\x04rows\x18\x01 \x03(\x0b\x32\n.wcf.DbRow\"5\n\x0cVerification\x12\n\n\x02v3\x18\x01 \x01(\t\x12\n\n\x02v4\x18\x02 \x01(\t\x12\r\n\x05scene\x18\x03 \x01(\x05\"+\n\nAddMembers\x12\x0e\n\x06roomid\x18\x01 \x01(\t\x12\r\n\x05wxids\x18\x02 \x01(\t\"D\n\x08UserInfo\x12\x0c\n\x04wxid\x18\x01 \x01(\t\x12\x0c\n\x04name\x18\x02 \x01(\t\x12\x0e\n\x06mobile\x18\x03 \x01(\t\x12\x0c\n\x04home\x18\x04 \x01(\t\"#\n\x07\x44\x65\x63Path\x12\x0b\n\x03src\x18\x01 \x01(\t\x12\x0b\n\x03\x64st\x18\x02 \x01(\t\"%\n\x08Transfer\x12\x0c\n\x04wxid\x18\x01 \x01(\t\x12\x0b\n\x03tid\x18\x02 \x01(\t*\xd3\x03\n\tFunctions\x12\x11\n\rFUNC_RESERVED\x10\x00\x12\x11\n\rFUNC_IS_LOGIN\x10\x01\x12\x16\n\x12\x46UNC_GET_SELF_WXID\x10\x10\x12\x16\n\x12\x46UNC_GET_MSG_TYPES\x10\x11\x12\x15\n\x11\x46UNC_GET_CONTACTS\x10\x12\x12\x15\n\x11\x46UNC_GET_DB_NAMES\x10\x13\x12\x16\n\x12\x46UNC_GET_DB_TABLES\x10\x14\x12\x16\n\x12\x46UNC_GET_USER_INFO\x10\x15\x12\x11\n\rFUNC_SEND_TXT\x10 \x12\x11\n\rFUNC_SEND_IMG\x10!\x12\x12\n\x0e\x46UNC_SEND_FILE\x10\"\x12\x11\n\rFUNC_SEND_XML\x10#\x12\x15\n\x11\x46UNC_SEND_EMOTION\x10$\x12\x18\n\x14\x46UNC_ENABLE_RECV_TXT\x10\x30\x12\x19\n\x15\x46UNC_DISABLE_RECV_TXT\x10@\x12\x16\n\x12\x46UNC_EXEC_DB_QUERY\x10P\x12\x16\n\x12\x46UNC_ACCEPT_FRIEND\x10Q\x12\x19\n\x15\x46UNC_ADD_ROOM_MEMBERS\x10R\x12\x16\n\x12\x46UNC_RECV_TRANSFER\x10S\x12\x16\n\x12\x46UNC_DECRYPT_IMAGE\x10`B\r\n\x0b\x63om.iamteerb\x06proto3')
+DESCRIPTOR = _descriptor_pool.Default().AddSerializedFile(b'\n\twcf.proto\x12\x03wcf\"\xc8\x02\n\x07Request\x12\x1c\n\x04\x66unc\x18\x01 \x01(\x0e\x32\x0e.wcf.Functions\x12\x1b\n\x05\x65mpty\x18\x02 \x01(\x0b\x32\n.wcf.EmptyH\x00\x12\r\n\x03str\x18\x03 \x01(\tH\x00\x12\x1b\n\x03txt\x18\x04 \x01(\x0b\x32\x0c.wcf.TextMsgH\x00\x12\x1c\n\x04\x66ile\x18\x05 \x01(\x0b\x32\x0c.wcf.PathMsgH\x00\x12\x1d\n\x05query\x18\x06 \x01(\x0b\x32\x0c.wcf.DbQueryH\x00\x12\x1e\n\x01v\x18\x07 \x01(\x0b\x32\x11.wcf.VerificationH\x00\x12\x1c\n\x01m\x18\x08 \x01(\x0b\x32\x0f.wcf.AddMembersH\x00\x12\x1a\n\x03xml\x18\t \x01(\x0b\x32\x0b.wcf.XmlMsgH\x00\x12\x1b\n\x03\x64\x65\x63\x18\n \x01(\x0b\x32\x0c.wcf.DecPathH\x00\x12\x1b\n\x02tf\x18\x0b \x01(\x0b\x32\r.wcf.TransferH\x00\x42\x05\n\x03msg\"\xab\x02\n\x08Response\x12\x1c\n\x04\x66unc\x18\x01 \x01(\x0e\x32\x0e.wcf.Functions\x12\x10\n\x06status\x18\x02 \x01(\x05H\x00\x12\r\n\x03str\x18\x03 \x01(\tH\x00\x12\x1b\n\x05wxmsg\x18\x04 \x01(\x0b\x32\n.wcf.WxMsgH\x00\x12\x1e\n\x05types\x18\x05 \x01(\x0b\x32\r.wcf.MsgTypesH\x00\x12$\n\x08\x63ontacts\x18\x06 \x01(\x0b\x32\x10.wcf.RpcContactsH\x00\x12\x1b\n\x03\x64\x62s\x18\x07 \x01(\x0b\x32\x0c.wcf.DbNamesH\x00\x12\x1f\n\x06tables\x18\x08 \x01(\x0b\x32\r.wcf.DbTablesH\x00\x12\x1b\n\x04rows\x18\t \x01(\x0b\x32\x0b.wcf.DbRowsH\x00\x12\x1b\n\x02ui\x18\n \x01(\x0b\x32\r.wcf.UserInfoH\x00\x42\x05\n\x03msg\"\x07\n\x05\x45mpty\"\xa0\x01\n\x05WxMsg\x12\x0f\n\x07is_self\x18\x01 \x01(\x08\x12\x10\n\x08is_group\x18\x02 \x01(\x08\x12\x0c\n\x04type\x18\x03 \x01(\x05\x12\n\n\x02id\x18\x04 \x01(\t\x12\x0b\n\x03xml\x18\x05 \x01(\t\x12\x0e\n\x06sender\x18\x06 \x01(\t\x12\x0e\n\x06roomid\x18\x07 \x01(\t\x12\x0f\n\x07\x63ontent\x18\x08 \x01(\t\x12\r\n\x05thumb\x18\t \x01(\t\x12\r\n\x05\x65xtra\x18\n \x01(\t\"7\n\x07TextMsg\x12\x0b\n\x03msg\x18\x01 \x01(\t\x12\x10\n\x08receiver\x18\x02 \x01(\t\x12\r\n\x05\x61ters\x18\x03 \x01(\t\")\n\x07PathMsg\x12\x0c\n\x04path\x18\x01 \x01(\t\x12\x10\n\x08receiver\x18\x02 \x01(\t\"G\n\x06XmlMsg\x12\x10\n\x08receiver\x18\x01 \x01(\t\x12\x0f\n\x07\x63ontent\x18\x02 \x01(\t\x12\x0c\n\x04path\x18\x03 \x01(\t\x12\x0c\n\x04type\x18\x04 \x01(\x05\"a\n\x08MsgTypes\x12\'\n\x05types\x18\x01 \x03(\x0b\x32\x18.wcf.MsgTypes.TypesEntry\x1a,\n\nTypesEntry\x12\x0b\n\x03key\x18\x01 \x01(\x05\x12\r\n\x05value\x18\x02 \x01(\t:\x02\x38\x01\"\x87\x01\n\nRpcContact\x12\x0c\n\x04wxid\x18\x01 \x01(\t\x12\x0c\n\x04\x63ode\x18\x02 \x01(\t\x12\x0e\n\x06remark\x18\x03 \x01(\t\x12\x0c\n\x04name\x18\x04 \x01(\t\x12\x0f\n\x07\x63ountry\x18\x05 \x01(\t\x12\x10\n\x08province\x18\x06 \x01(\t\x12\x0c\n\x04\x63ity\x18\x07 \x01(\t\x12\x0e\n\x06gender\x18\x08 \x01(\x05\"0\n\x0bRpcContacts\x12!\n\x08\x63ontacts\x18\x01 \x03(\x0b\x32\x0f.wcf.RpcContact\"\x18\n\x07\x44\x62Names\x12\r\n\x05names\x18\x01 \x03(\t\"$\n\x07\x44\x62Table\x12\x0c\n\x04name\x18\x01 \x01(\t\x12\x0b\n\x03sql\x18\x02 \x01(\t\"(\n\x08\x44\x62Tables\x12\x1c\n\x06tables\x18\x01 \x03(\x0b\x32\x0c.wcf.DbTable\"\"\n\x07\x44\x62Query\x12\n\n\x02\x64\x62\x18\x01 \x01(\t\x12\x0b\n\x03sql\x18\x02 \x01(\t\"8\n\x07\x44\x62\x46ield\x12\x0c\n\x04type\x18\x01 \x01(\x05\x12\x0e\n\x06\x63olumn\x18\x02 \x01(\t\x12\x0f\n\x07\x63ontent\x18\x03 \x01(\x0c\"%\n\x05\x44\x62Row\x12\x1c\n\x06\x66ields\x18\x01 \x03(\x0b\x32\x0c.wcf.DbField\"\"\n\x06\x44\x62Rows\x12\x18\n\x04rows\x18\x01 \x03(\x0b\x32\n.wcf.DbRow\"&\n\x0cVerification\x12\n\n\x02v3\x18\x01 \x01(\t\x12\n\n\x02v4\x18\x02 \x01(\t\"+\n\nAddMembers\x12\x0e\n\x06roomid\x18\x01 \x01(\t\x12\r\n\x05wxids\x18\x02 \x01(\t\"D\n\x08UserInfo\x12\x0c\n\x04wxid\x18\x01 \x01(\t\x12\x0c\n\x04name\x18\x02 \x01(\t\x12\x0e\n\x06mobile\x18\x03 \x01(\t\x12\x0c\n\x04home\x18\x04 \x01(\t\"#\n\x07\x44\x65\x63Path\x12\x0b\n\x03src\x18\x01 \x01(\t\x12\x0b\n\x03\x64st\x18\x02 \x01(\t\"%\n\x08Transfer\x12\x0c\n\x04wxid\x18\x01 \x01(\t\x12\x0b\n\x03tid\x18\x02 \x01(\t*\xd3\x03\n\tFunctions\x12\x11\n\rFUNC_RESERVED\x10\x00\x12\x11\n\rFUNC_IS_LOGIN\x10\x01\x12\x16\n\x12\x46UNC_GET_SELF_WXID\x10\x10\x12\x16\n\x12\x46UNC_GET_MSG_TYPES\x10\x11\x12\x15\n\x11\x46UNC_GET_CONTACTS\x10\x12\x12\x15\n\x11\x46UNC_GET_DB_NAMES\x10\x13\x12\x16\n\x12\x46UNC_GET_DB_TABLES\x10\x14\x12\x16\n\x12\x46UNC_GET_USER_INFO\x10\x15\x12\x11\n\rFUNC_SEND_TXT\x10 \x12\x11\n\rFUNC_SEND_IMG\x10!\x12\x12\n\x0e\x46UNC_SEND_FILE\x10\"\x12\x11\n\rFUNC_SEND_XML\x10#\x12\x15\n\x11\x46UNC_SEND_EMOTION\x10$\x12\x18\n\x14\x46UNC_ENABLE_RECV_TXT\x10\x30\x12\x19\n\x15\x46UNC_DISABLE_RECV_TXT\x10@\x12\x16\n\x12\x46UNC_EXEC_DB_QUERY\x10P\x12\x16\n\x12\x46UNC_ACCEPT_FRIEND\x10Q\x12\x19\n\x15\x46UNC_ADD_ROOM_MEMBERS\x10R\x12\x16\n\x12\x46UNC_RECV_TRANSFER\x10S\x12\x16\n\x12\x46UNC_DECRYPT_IMAGE\x10`B\r\n\x0b\x63om.iamteerb\x06proto3')
 
 _builder.BuildMessageAndEnumDescriptors(DESCRIPTOR, globals())
 _builder.BuildTopDescriptorsAndMessages(DESCRIPTOR, 'wcf_pb2', globals())
 if _descriptor._USE_C_DESCRIPTORS == False:
 
   DESCRIPTOR._options = None
   DESCRIPTOR._serialized_options = b'\n\013com.iamteer'
   _MSGTYPES_TYPESENTRY._options = None
   _MSGTYPES_TYPESENTRY._serialized_options = b'8\001'
-  _FUNCTIONS._serialized_start=1805
-  _FUNCTIONS._serialized_end=2272
+  _FUNCTIONS._serialized_start=1790
+  _FUNCTIONS._serialized_end=2257
   _REQUEST._serialized_start=19
   _REQUEST._serialized_end=347
   _RESPONSE._serialized_start=350
   _RESPONSE._serialized_end=649
   _EMPTY._serialized_start=651
   _EMPTY._serialized_end=658
   _WXMSG._serialized_start=661
@@ -58,17 +58,17 @@
   _DBFIELD._serialized_start=1425
   _DBFIELD._serialized_end=1481
   _DBROW._serialized_start=1483
   _DBROW._serialized_end=1520
   _DBROWS._serialized_start=1522
   _DBROWS._serialized_end=1556
   _VERIFICATION._serialized_start=1558
-  _VERIFICATION._serialized_end=1611
-  _ADDMEMBERS._serialized_start=1613
-  _ADDMEMBERS._serialized_end=1656
-  _USERINFO._serialized_start=1658
-  _USERINFO._serialized_end=1726
-  _DECPATH._serialized_start=1728
-  _DECPATH._serialized_end=1763
-  _TRANSFER._serialized_start=1765
-  _TRANSFER._serialized_end=1802
+  _VERIFICATION._serialized_end=1596
+  _ADDMEMBERS._serialized_start=1598
+  _ADDMEMBERS._serialized_end=1641
+  _USERINFO._serialized_start=1643
+  _USERINFO._serialized_end=1711
+  _DECPATH._serialized_start=1713
+  _DECPATH._serialized_end=1748
+  _TRANSFER._serialized_start=1750
+  _TRANSFER._serialized_end=1787
 # @@protoc_insertion_point(module_scope)
```

### Comparing `wcferry-3.7.0.30.24.1/wcferry.egg-info/PKG-INFO` & `wcferry-3.7.0.30.25/wcferry.egg-info/PKG-INFO`

 * *Files 26% similar despite different names*

```diff
@@ -1,406 +1,442 @@
 00000000: 4d65 7461 6461 7461 2d56 6572 7369 6f6e  Metadata-Version
-00000010: 3a20 322e 310a 4e61 6d65 3a20 7763 6665  : 2.1.Name: wcfe
-00000020: 7272 790a 5665 7273 696f 6e3a 2033 2e37  rry.Version: 3.7
-00000030: 2e30 2e33 302e 3234 2e31 0a53 756d 6d61  .0.30.24.1.Summa
-00000040: 7279 3a20 e4b8 80e4 b8aa e78e a9e5 beae  ry: ............
-00000050: e4bf a1e7 9a84 e5b7 a5e5 85b7 0a48 6f6d  .............Hom
-00000060: 652d 7061 6765 3a20 6874 7470 733a 2f2f  e-page: https://
-00000070: 6769 7468 7562 2e63 6f6d 2f6c 6963 6830  github.com/lich0
-00000080: 3832 312f 5765 4368 6174 4665 7272 790a  821/WeChatFerry.
-00000090: 4175 7468 6f72 3a20 4368 616e 6768 7561  Author: Changhua
-000000a0: 0a41 7574 686f 722d 656d 6169 6c3a 206c  .Author-email: l
-000000b0: 6963 6861 6e67 6875 6130 3832 3140 676d  ichanghua0821@gm
-000000c0: 6169 6c2e 636f 6d0a 4c69 6365 6e73 653a  ail.com.License:
-000000d0: 204d 4954 0a50 726f 6a65 6374 2d55 524c   MIT.Project-URL
-000000e0: 3a20 446f 6375 6d65 6e74 6174 696f 6e2c  : Documentation,
-000000f0: 2068 7474 7073 3a2f 2f73 7068 696e 782d   https://sphinx-
-00000100: 6175 746f 6170 692e 7265 6164 7468 6564  autoapi.readthed
-00000110: 6f63 732e 696f 2f65 6e2f 6c61 7465 7374  ocs.io/en/latest
-00000120: 2f0a 5072 6f6a 6563 742d 5552 4c3a 2047  /.Project-URL: G
-00000130: 6974 4875 622c 2068 7474 7073 3a2f 2f67  itHub, https://g
-00000140: 6974 6875 622e 636f 6d2f 6c69 6368 3038  ithub.com/lich08
-00000150: 3231 2f57 6543 6861 7446 6572 7279 2f0a  21/WeChatFerry/.
-00000160: 436c 6173 7369 6669 6572 3a20 456e 7669  Classifier: Envi
-00000170: 726f 6e6d 656e 7420 3a3a 2057 696e 3332  ronment :: Win32
-00000180: 2028 4d53 2057 696e 646f 7773 290a 436c   (MS Windows).Cl
-00000190: 6173 7369 6669 6572 3a20 496e 7465 6e64  assifier: Intend
-000001a0: 6564 2041 7564 6965 6e63 6520 3a3a 2044  ed Audience :: D
-000001b0: 6576 656c 6f70 6572 730a 436c 6173 7369  evelopers.Classi
-000001c0: 6669 6572 3a20 496e 7465 6e64 6564 2041  fier: Intended A
-000001d0: 7564 6965 6e63 6520 3a3a 2043 7573 746f  udience :: Custo
-000001e0: 6d65 7220 5365 7276 6963 650a 436c 6173  mer Service.Clas
-000001f0: 7369 6669 6572 3a20 546f 7069 6320 3a3a  sifier: Topic ::
-00000200: 2043 6f6d 6d75 6e69 6361 7469 6f6e 7320   Communications 
-00000210: 3a3a 2043 6861 740a 436c 6173 7369 6669  :: Chat.Classifi
-00000220: 6572 3a20 4f70 6572 6174 696e 6720 5379  er: Operating Sy
-00000230: 7374 656d 203a 3a20 4d69 6372 6f73 6f66  stem :: Microsof
-00000240: 7420 3a3a 2057 696e 646f 7773 0a43 6c61  t :: Windows.Cla
-00000250: 7373 6966 6965 723a 2050 726f 6772 616d  ssifier: Program
-00000260: 6d69 6e67 204c 616e 6775 6167 6520 3a3a  ming Language ::
-00000270: 2050 7974 686f 6e0a 5265 7175 6972 6573   Python.Requires
-00000280: 2d50 7974 686f 6e3a 203e 3d33 2e37 0a44  -Python: >=3.7.D
-00000290: 6573 6372 6970 7469 6f6e 2d43 6f6e 7465  escription-Conte
-000002a0: 6e74 2d54 7970 653a 2074 6578 742f 6d61  nt-Type: text/ma
-000002b0: 726b 646f 776e 0a0a 2320 5765 4368 6174  rkdown..# WeChat
-000002c0: 4665 7272 7920 5079 7468 6f6e 20e5 aea2  Ferry Python ...
-000002d0: e688 b7e7 abaf 0ae2 9aa0 efb8 8f20 2a2a  ............. **
-000002e0: e58f aae6 94af e68c 8120 5769 6e64 6f77  ......... Window
-000002f0: 732a 2a20 e29a a0ef b88f 0a0a f09f a496  s** ............
-00000300: e7a4 bae4 be8b e69c bae5 99a8 e4ba bae6  ................
-00000310: a186 e69e b6ef bc9a 5b57 6543 6861 7452  ........[WeChatR
-00000320: 6f62 6f74 5d28 6874 7470 733a 2f2f 6769  obot](https://gi
-00000330: 7468 7562 2e63 6f6d 2f6c 6963 6830 3832  thub.com/lich082
-00000340: 312f 5765 4368 6174 526f 626f 7429 e380  1/WeChatRobot)..
-00000350: 820a 0a23 2320 e5bf abe9 809f e5bc 80e5  ...## ..........
-00000360: a78b 0a60 6060 7368 0a70 6970 2069 6e73  ...```sh.pip ins
-00000370: 7461 6c6c 202d 2d75 7067 7261 6465 2077  tall --upgrade w
-00000380: 6366 6572 7279 0a60 6060 0a0a 2323 2320  cferry.```..### 
-00000390: e68e a5e5 8fa3 e6b8 85e5 8d95 0a2a 20e6  .............* .
-000003a0: a380 e69f a5e7 99bb e5bd 95e7 8ab6 e680  ................
-000003b0: 81ef bc9a 6069 735f 6c6f 6769 6e60 0a2a  ....`is_login`.*
-000003c0: 20e8 8eb7 e58f 96e7 99bb e5bd 95e8 b4a6   ...............
-000003d0: e58f b7e7 9a84 2077 7869 64ef bc9a 6067  ...... wxid...`g
-000003e0: 6574 5f73 656c 665f 7778 6964 600a 2a20  et_self_wxid`.* 
-000003f0: e88e b7e5 8f96 e6b6 88e6 81af e7b1 bbe5  ................
-00000400: 9e8b efbc 9a60 6765 745f 6d73 675f 7479  .....`get_msg_ty
-00000410: 7065 7360 0a2a 20e8 8eb7 e58f 96e6 8980  pes`.* .........
-00000420: e69c 89e8 8194 e7b3 bbe4 baba efbc 9a60  ...............`
-00000430: 6765 745f 636f 6e74 6163 7473 600a 2a20  get_contacts`.* 
-00000440: e88e b7e5 8f96 e689 80e6 9c89 e5a5 bde5  ................
-00000450: 8f8b efbc 9a60 6765 745f 6672 6965 6e64  .....`get_friend
-00000460: 7360 0a2a 20e8 8eb7 e58f 96e6 95b0 e68d  s`.* ...........
-00000470: aee5 ba93 efbc 9a60 6765 745f 6462 7360  .......`get_dbs`
-00000480: 0a2a 20e8 8eb7 e58f 96e6 9f90 e695 b0e6  .* .............
-00000490: 8dae e5ba 93e4 b88b e79a 84e8 a1a8 efbc  ................
-000004a0: 9a60 6765 745f 7461 626c 6573 600a 2a20  .`get_tables`.* 
-000004b0: e88e b7e5 8f96 e794 a8e6 88b7 e4bf a1e6  ................
-000004c0: 81af efbc 9a60 6765 745f 7573 6572 5f69  .....`get_user_i
-000004d0: 6e66 6f60 0a2a 20e5 8f91 e980 81e6 9687  nfo`.* .........
-000004e0: e69c ace6 b688 e681 afef bc88 e58f af20  ............... 
-000004f0: 40ef bc89 efbc 9a60 7365 6e64 5f74 6578  @......`send_tex
-00000500: 7460 0a2a 20e5 8f91 e980 81e5 9bbe e789  t`.* ...........
-00000510: 87ef bc9a 6073 656e 645f 696d 6167 6560  ....`send_image`
-00000520: 0a2a 20e5 8f91 e980 81e6 9687 e4bb b6ef  .* .............
-00000530: bc9a 6073 656e 645f 6669 6c65 600a 2a20  ..`send_file`.* 
-00000540: e58f 91e9 8081 2058 4d4c efbc 9a60 7365  ...... XML...`se
-00000550: 6e64 5f78 6d6c 600a 2a20 e58f 91e9 8081  nd_xml`.* ......
-00000560: e8a1 a8e6 8385 efbc 9a60 7365 6e64 5f65  .........`send_e
-00000570: 6d6f 7469 6f6e 600a 2a20 e585 81e8 aeb8  motion`.* ......
-00000580: e68e a5e6 94b6 e6b6 88e6 81af efbc 9a60  ...............`
-00000590: 656e 6162 6c65 5f72 6563 6569 7669 6e67  enable_receiving
-000005a0: 5f6d 7367 6020 e592 8c20 6065 6e61 626c  _msg` ... `enabl
-000005b0: 655f 7265 6376 5f6d 7367 efbc 88e6 97a7  e_recv_msg......
-000005c0: e68e a5e5 8fa3 efbc 8960 0a2a 20e5 819c  .........`.* ...
-000005d0: e6ad a2e6 8ea5 e694 b6e6 b688 e681 afef  ................
-000005e0: bc9a 6064 6973 6162 6c65 5f72 6563 765f  ..`disable_recv_
-000005f0: 6d73 6760 0a2a 20e6 89a7 e8a1 8c20 5351  msg`.* ...... SQ
-00000600: 4c20 e69f a5e8 afa2 efbc 9a60 7175 6572  L .........`quer
-00000610: 795f 7371 6c60 0a2a 20e6 8ea5 e58f 97e5  y_sql`.* .......
-00000620: a5bd e58f 8be7 94b3 e8af b7ef bc9a 6061  ..............`a
-00000630: 6363 6570 745f 6e65 775f 6672 6965 6e64  ccept_new_friend
-00000640: 600a 2a20 e6b7 bbe5 8aa0 e7be a4e6 8890  `.* ............
-00000650: e591 98ef bc9a 6061 6464 5f63 6861 7472  ......`add_chatr
-00000660: 6f6f 6d5f 6d65 6d62 6572 7360 0a2a 20e8  oom_members`.* .
-00000670: a7a3 e5af 86e5 9bbe e789 87ef bc9a 6064  ..............`d
-00000680: 6563 7279 7074 5f69 6d61 6765 600a 0ae8  ecrypt_image`...
-00000690: afa6 e683 85e6 9fa5 e79c 8b20 5b63 6c69  ........... [cli
-000006a0: 656e 742e 7079 5d28 7763 6665 7272 792f  ent.py](wcferry/
-000006b0: 636c 6965 6e74 2e70 7929 e380 820a 0a23  client.py).....#
-000006c0: 2323 2044 656d 6fef bc9a 0a60 6060 7079  ## Demo....```py
-000006d0: 0a23 2120 2f75 7372 2f62 696e 2f65 6e76  .#! /usr/bin/env
-000006e0: 2070 7974 686f 6e33 0a23 202d 2a2d 2063   python3.# -*- c
-000006f0: 6f64 696e 673a 2075 7466 2d38 202d 2a2d  oding: utf-8 -*-
-00000700: 0a0a 696d 706f 7274 206c 6f67 6769 6e67  ..import logging
-00000710: 0a66 726f 6d20 7468 7265 6164 696e 6720  .from threading 
-00000720: 696d 706f 7274 2054 6872 6561 640a 6672  import Thread.fr
-00000730: 6f6d 2074 696d 6520 696d 706f 7274 2073  om time import s
-00000740: 6c65 6570 0a0a 6672 6f6d 2077 6366 6572  leep..from wcfer
-00000750: 7279 2069 6d70 6f72 7420 5763 660a 0a6c  ry import Wcf..l
-00000760: 6f67 6769 6e67 2e62 6173 6963 436f 6e66  ogging.basicConf
-00000770: 6967 286c 6576 656c 3d27 4445 4255 4727  ig(level='DEBUG'
-00000780: 2c20 666f 726d 6174 3d22 2528 6173 6374  , format="%(asct
-00000790: 696d 6529 7320 2528 6d65 7373 6167 6529  ime)s %(message)
-000007a0: 7322 290a 4c4f 4720 3d20 6c6f 6767 696e  s").LOG = loggin
-000007b0: 672e 6765 744c 6f67 6765 7228 2244 656d  g.getLogger("Dem
-000007c0: 6f22 290a 0a0a 6465 6620 7072 6f63 6573  o")...def proces
-000007d0: 735f 6d73 6728 7763 663a 2057 6366 293a  s_msg(wcf: Wcf):
-000007e0: 0a20 2020 2022 2222 e5a4 84e7 9086 e68e  .    """........
-000007f0: a5e6 94b6 e588 b0e7 9a84 e6b6 88e6 81af  ................
-00000800: 2222 220a 2020 2020 7768 696c 6520 7763  """.    while wc
-00000810: 662e 6973 5f72 6563 6569 7669 6e67 5f6d  f.is_receiving_m
-00000820: 7367 2829 3a0a 2020 2020 2020 2020 7472  sg():.        tr
-00000830: 793a 0a20 2020 2020 2020 2020 2020 206d  y:.            m
-00000840: 7367 203d 2077 6366 2e67 6574 5f6d 7367  sg = wcf.get_msg
-00000850: 2829 0a20 2020 2020 2020 2065 7863 6570  ().        excep
-00000860: 7420 4578 6365 7074 696f 6e20 6173 2065  t Exception as e
-00000870: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
-00000880: 6e74 696e 7565 0a0a 2020 2020 2020 2020  ntinue..        
-00000890: 4c4f 472e 696e 666f 286d 7367 2920 2023  LOG.info(msg)  #
-000008a0: 20e7 ae80 e58d 95e6 8993 e58d b00a 0a0a   ...............
-000008b0: 6465 6620 6d61 696e 2829 3a0a 2020 2020  def main():.    
-000008c0: 4c4f 472e 696e 666f 2822 5374 6172 7420  LOG.info("Start 
-000008d0: 6465 6d6f 2e2e 2e22 290a 2020 2020 7763  demo...").    wc
-000008e0: 6620 3d20 5763 6628 6465 6275 673d 5472  f = Wcf(debug=Tr
-000008f0: 7565 2920 2020 2020 2020 2020 2020 2020  ue)             
-00000900: 2320 e9bb 98e8 aea4 e8bf 9ee6 8ea5 e69c  # ..............
-00000910: ace5 9cb0 e69c 8de5 8aa1 0a20 2020 2023  ...........    #
-00000920: 2077 6366 203d 2057 6366 2822 7463 703a   wcf = Wcf("tcp:
-00000930: 2f2f 3132 372e 302e 302e 313a 3130 3038  //127.0.0.1:1008
-00000940: 3622 2920 2320 e8bf 9ee6 8ea5 e8bf 9ce7  6") # ..........
-00000950: abaf e69c 8de5 8aa1 0a0a 2020 2020 736c  ..........    sl
-00000960: 6565 7028 3529 2020 2320 e7ad 89e5 beae  eep(5)  # ......
-00000970: e4bf a1e5 8aa0 e8bd bde5 a5bd efbc 8ce4  ................
-00000980: bba5 e585 8de4 bfa1 e681 afe6 98be e7a4  ................
-00000990: bae5 bc82 e5b8 b80a 2020 2020 4c4f 472e  ........    LOG.
-000009a0: 696e 666f 2866 22e5 b7b2 e7bb 8fe7 99bb  info(f".........
-000009b0: e5bd 953a 207b 5472 7565 2069 6620 7763  ...: {True if wc
-000009c0: 662e 6973 5f6c 6f67 696e 2829 2065 6c73  f.is_login() els
-000009d0: 6520 4661 6c73 657d 2229 0a20 2020 204c  e False}").    L
-000009e0: 4f47 2e69 6e66 6f28 6622 7778 6964 3a20  OG.info(f"wxid: 
-000009f0: 7b77 6366 2e67 6574 5f73 656c 665f 7778  {wcf.get_self_wx
-00000a00: 6964 2829 7d22 290a 0a20 2020 2023 20e5  id()}")..    # .
-00000a10: 8581 e8ae b8e6 8ea5 e694 b6e6 b688 e681  ................
-00000a20: af0a 2020 2020 2320 7763 662e 656e 6162  ..    # wcf.enab
-00000a30: 6c65 5f72 6563 765f 6d73 6728 4c4f 472e  le_recv_msg(LOG.
-00000a40: 696e 666f 2920 2320 6465 7072 6563 6174  info) # deprecat
-00000a50: 6564 0a0a 2020 2020 2320 e585 81e8 aeb8  ed..    # ......
-00000a60: e68e a5e6 94b6 e6b6 88e6 81af 0a20 2020  .............   
-00000a70: 2077 6366 2e65 6e61 626c 655f 7265 6365   wcf.enable_rece
-00000a80: 6976 696e 675f 6d73 6728 290a 2020 2020  iving_msg().    
-00000a90: 5468 7265 6164 2874 6172 6765 743d 7072  Thread(target=pr
-00000aa0: 6f63 6573 735f 6d73 672c 206e 616d 653d  ocess_msg, name=
-00000ab0: 2247 6574 4d65 7373 6167 6522 2c20 6172  "GetMessage", ar
-00000ac0: 6773 3d28 7763 662c 292c 2064 6165 6d6f  gs=(wcf,), daemo
-00000ad0: 6e3d 5472 7565 292e 7374 6172 7428 290a  n=True).start().
-00000ae0: 0a20 2020 2023 2077 6366 2e64 6973 6162  .    # wcf.disab
-00000af0: 6c65 5f72 6563 765f 6d73 6728 2920 2320  le_recv_msg() # 
-00000b00: e5bd 93e9 9c80 e8a6 81e5 819c e6ad a2e6  ................
-00000b10: 8ea5 e694 b6e6 b688 e681 afe6 97b6 e8b0  ................
-00000b20: 83e7 94a8 0a0a 2020 2020 7265 7420 3d20  ......    ret = 
-00000b30: 7763 662e 7365 6e64 5f74 6578 7428 2248  wcf.send_text("H
-00000b40: 656c 6c6f 2077 6f72 6c64 2e22 2c20 2266  ello world.", "f
-00000b50: 696c 6568 656c 7065 7222 290a 2020 2020  ilehelper").    
-00000b60: 4c4f 472e 696e 666f 2866 2273 656e 645f  LOG.info(f"send_
-00000b70: 7465 7874 3a20 7b72 6574 7d22 290a 0a20  text: {ret}").. 
-00000b80: 2020 2072 6574 203d 2077 6366 2e73 656e     ret = wcf.sen
-00000b90: 645f 696d 6167 6528 2254 4551 7561 6e74  d_image("TEQuant
-00000ba0: 2e6a 7065 6722 2c20 2266 696c 6568 656c  .jpeg", "filehel
-00000bb0: 7065 7222 2920 2023 20e9 9c80 e8a6 81e7  per")  # .......
-00000bc0: a1ae e4bf 9de5 9bbe e789 87e8 b7af e5be  ................
-00000bd0: 84e6 ada3 e7a1 ae0a 2020 2020 4c4f 472e  ........    LOG.
-00000be0: 696e 666f 2866 2273 656e 645f 696d 6167  info(f"send_imag
-00000bf0: 653a 207b 7265 747d 2229 0a0a 2020 2020  e: {ret}")..    
-00000c00: 7265 7420 3d20 7763 662e 7365 6e64 5f66  ret = wcf.send_f
-00000c10: 696c 6528 2252 4541 444d 452e 4d44 222c  ile("README.MD",
-00000c20: 2022 6669 6c65 6865 6c70 6572 2229 2020   "filehelper")  
-00000c30: 2320 e99c 80e8 a681 e7a1 aee4 bf9d e696  # ..............
-00000c40: 87e4 bbb6 e8b7 afe5 be84 e6ad a3e7 a1ae  ................
-00000c50: 0a20 2020 204c 4f47 2e69 6e66 6f28 6622  .    LOG.info(f"
-00000c60: 7365 6e64 5f66 696c 653a 207b 7265 747d  send_file: {ret}
-00000c70: 2229 0a0a 2020 2020 4c4f 472e 696e 666f  ")..    LOG.info
-00000c80: 2866 224d 6573 7361 6765 2074 7970 6573  (f"Message types
-00000c90: 3a5c 6e7b 7763 662e 6765 745f 6d73 675f  :\n{wcf.get_msg_
-00000ca0: 7479 7065 7328 297d 2229 0a20 2020 204c  types()}").    L
-00000cb0: 4f47 2e69 6e66 6f28 6622 436f 6e74 6163  OG.info(f"Contac
-00000cc0: 7473 3a5c 6e7b 7763 662e 6765 745f 636f  ts:\n{wcf.get_co
-00000cd0: 6e74 6163 7473 2829 7d22 290a 0a20 2020  ntacts()}")..   
-00000ce0: 204c 4f47 2e69 6e66 6f28 6622 4442 733a   LOG.info(f"DBs:
-00000cf0: 5c6e 7b77 6366 2e67 6574 5f64 6273 2829  \n{wcf.get_dbs()
-00000d00: 7d22 290a 2020 2020 4c4f 472e 696e 666f  }").    LOG.info
-00000d10: 2866 2254 6162 6c65 733a 5c6e 7b77 6366  (f"Tables:\n{wcf
-00000d20: 2e67 6574 5f74 6162 6c65 7328 2764 6227  .get_tables('db'
-00000d30: 297d 2229 0a20 2020 204c 4f47 2e69 6e66  )}").    LOG.inf
-00000d40: 6f28 6622 5265 7375 6c74 733a 5c6e 7b77  o(f"Results:\n{w
-00000d50: 6366 2e71 7565 7279 5f73 716c 2827 4d69  cf.query_sql('Mi
-00000d60: 6372 6f4d 7367 2e64 6227 2c20 2753 454c  croMsg.db', 'SEL
-00000d70: 4543 5420 2a20 4652 4f4d 2043 6f6e 7461  ECT * FROM Conta
-00000d80: 6374 204c 494d 4954 2031 3b27 297d 2229  ct LIMIT 1;')}")
-00000d90: 0a0a 2020 2020 2320 e99c 80e8 a681 e79c  ..    # ........
-00000da0: 9fe6 ada3 e79a 8420 5633 e380 8156 3420  ....... V3...V4 
-00000db0: e4bf a1e6 81af 0a20 2020 2023 2077 6366  .......    # wcf
-00000dc0: 2e61 6363 6570 745f 6e65 775f 6672 6965  .accept_new_frie
-00000dd0: 6e64 2822 7633 222c 2022 7634 2229 0a0a  nd("v3", "v4")..
-00000de0: 2020 2020 2320 e5a1 abe5 8699 e6ad a3e7      # ..........
-00000df0: a1ae e79a 84e7 bea4 2049 4420 e592 8ce6  ........ ID ....
-00000e00: 8890 e591 9820 7778 6964 0a20 2020 2023  ..... wxid.    #
-00000e10: 2072 6574 203d 2077 6366 2e61 6464 5f63   ret = wcf.add_c
-00000e20: 6861 7472 6f6f 6d5f 6d65 6d62 6572 7328  hatroom_members(
-00000e30: 2263 6861 7472 6f6f 6d20 6964 222c 2022  "chatroom id", "
-00000e40: 7778 6964 312c 7778 6964 322c 7778 6964  wxid1,wxid2,wxid
-00000e50: 332c 2e2e 2e22 290a 2020 2020 2320 4c4f  3,...").    # LO
-00000e60: 472e 696e 666f 2866 2261 6464 5f63 6861  G.info(f"add_cha
-00000e70: 7472 6f6f 6d5f 6d65 6d62 6572 733a 207b  troom_members: {
-00000e80: 7265 747d 2229 0a0a 2020 2020 786d 6c20  ret}")..    xml 
-00000e90: 3d20 273c 3f78 6d6c 2076 6572 7369 6f6e  = '<?xml version
-00000ea0: 3d22 312e 3022 3f3e 3c6d 7367 3e3c 6170  ="1.0"?><msg><ap
-00000eb0: 706d 7367 2061 7070 6964 3d22 2220 7364  pmsg appid="" sd
-00000ec0: 6b76 6572 3d22 3022 3e3c 7469 746c 653e  kver="0"><title>
-00000ed0: e58f aee5 bd93 e88d afe6 88bf efbc 8c32  ...............2
-00000ee0: 34e5 b08f e697 b6e6 9c8d e58a a1ef bc8c  4...............
-00000ef0: 3238 e588 86e9 929f e980 81e8 8daf e588  28..............
-00000f00: b0e5 aeb6 efbc 813c 2f74 6974 6c65 3e3c  .......</title><
-00000f10: 6465 733e e58f aee5 bd93 e5bf abe8 8daf  des>............
-00000f20: e9a6 96e5 aeb6 e689 bfe8 afba e88c 83e5  ................
-00000f30: 9bb4 e586 8532 38e5 8886 e992 9fe9 8081  .....28.........
-00000f40: e88d afe5 88b0 e5ae b6ef bc81 e58f aee5  ................
-00000f50: bd93 e5bf abe8 8daf e6a0 b8e5 bf83 e58c  ................
-00000f60: bae5 9f9f e586 8537 2a32 34e5 b08f e697  .......7*24.....
-00000f70: b6e5 85a8 e5a4 a9e5 8099 e69c 8de5 8aa1  ................
-00000f80: efbc 8ce9 8081 e88d afe4 b88a e997 a8ef  ................
-00000f90: bc81 e58f aee5 bd93 e5bf abe8 8daf e5ae  ................
-00000fa0: 98e7 bd91 e4b8 bae6 82a8 e68f 90e4 be9b  ................
-00000fb0: e5bf abe6 8db7 e4be bfe5 88a9 efbc 8ce6  ................
-00000fc0: ada3 e593 81e4 bd8e e4bb b7ef bc8c e5ae  ................
-00000fd0: 89e5 85a8 e694 bee5 bf83 e79a 84e8 b4ad  ................
-00000fe0: e88d afe3 8081 e980 81e8 8daf e69c 8de5  ................
-00000ff0: 8aa1 e4bd 93e9 aa8c e380 823c 2f64 6573  ...........</des
-00001000: 3e3c 6163 7469 6f6e 3e76 6965 773c 2f61  ><action>view</a
-00001010: 6374 696f 6e3e 3c74 7970 653e 3333 3c2f  ction><type>33</
-00001020: 7479 7065 3e3c 7368 6f77 7479 7065 3e30  type><showtype>0
-00001030: 3c2f 7368 6f77 7479 7065 3e3c 636f 6e74  </showtype><cont
-00001040: 656e 7420 2f3e 3c75 726c 3e68 7474 7073  ent /><url>https
-00001050: 3a2f 2f6d 702e 7765 6978 696e 2e71 712e  ://mp.weixin.qq.
-00001060: 636f 6d2f 6d70 2f77 6165 7272 7061 6765  com/mp/waerrpage
-00001070: 3f61 7070 6964 3d77 7863 3265 6461 6463  ?appid=wxc2edadc
-00001080: 3837 3037 3766 6132 6126 616d 703b 7479  87077fa2a&amp;ty
-00001090: 7065 3d75 7067 7261 6465 2661 6d70 3b75  pe=upgrade&amp;u
-000010a0: 7067 7261 6465 7479 7065 3d33 2377 6563  pgradetype=3#wec
-000010b0: 6861 745f 7265 6469 7265 6374 3c2f 7572  hat_redirect</ur
-000010c0: 6c3e 3c64 6174 6175 726c 202f 3e3c 6c6f  l><dataurl /><lo
-000010d0: 7775 726c 202f 3e3c 6c6f 7764 6174 6175  wurl /><lowdatau
-000010e0: 726c 202f 3e3c 7265 636f 7264 6974 656d  rl /><recorditem
-000010f0: 202f 3e3c 7468 756d 6275 726c 202f 3e3c   /><thumburl /><
-00001100: 6d65 7373 6167 6561 6374 696f 6e20 2f3e  messageaction />
-00001110: 3c6d 6435 3e37 6636 6634 3964 3330 3165  <md5>7f6f49d301e
-00001120: 6266 3437 3130 3031 3939 6238 6134 6663  bf47100199b8a4fc
-00001130: 6634 6465 343c 2f6d 6435 3e3c 6578 7469  f4de4</md5><exti
-00001140: 6e66 6f20 2f3e 3c73 6f75 7263 6575 7365  nfo /><sourceuse
-00001150: 726e 616d 653e 6768 5f63 3262 3838 6133  rname>gh_c2b88a3
-00001160: 3863 3432 3440 6170 703c 2f73 6f75 7263  8c424@app</sourc
-00001170: 6575 7365 726e 616d 653e 3c73 6f75 7263  eusername><sourc
-00001180: 6564 6973 706c 6179 6e61 6d65 3ee5 8fae  edisplayname>...
-00001190: e5bd 93e5 bfab e88d af20 e88d afe5 ba97  ......... ......
-000011a0: e980 81e8 8daf e588 b0e5 aeb6 e5a4 9ce9  ................
-000011b0: 97b4 e4b9 b0e8 8daf 3c2f 736f 7572 6365  ........</source
-000011c0: 6469 7370 6c61 796e 616d 653e 3c63 6f6d  displayname><com
-000011d0: 6d65 6e74 7572 6c20 2f3e 3c61 7070 6174  menturl /><appat
-000011e0: 7461 6368 3e3c 746f 7461 6c6c 656e 3e30  tach><totallen>0
-000011f0: 3c2f 746f 7461 6c6c 656e 3e3c 6174 7461  </totallen><atta
-00001200: 6368 6964 202f 3e3c 656d 6f74 6963 6f6e  chid /><emoticon
-00001210: 6d64 353e 3c2f 656d 6f74 6963 6f6e 6d64  md5></emoticonmd
-00001220: 353e 3c66 696c 6565 7874 3e6a 7067 3c2f  5><fileext>jpg</
-00001230: 6669 6c65 6578 743e 3c66 696c 656b 6579  fileext><filekey
-00001240: 3e64 6130 6530 3866 3563 3732 3539 6430  >da0e08f5c7259d0
-00001250: 3364 6131 3530 6435 6537 6361 3664 3935  3da150d5e7ca6d95
-00001260: 303c 2f66 696c 656b 6579 3e3c 6364 6e74  0</filekey><cdnt
-00001270: 6875 6d62 7572 6c3e 3330 3537 3032 3031  humburl>30570201
-00001280: 3030 3034 3462 3330 3439 3032 3031 3030  00044b3049020100
-00001290: 3032 3034 6534 6330 3233 3237 3032 3033  0204e4c023270203
-000012a0: 3266 3465 6632 3032 3034 6136 6261 6365  2f4ef20204a6bace
-000012b0: 3666 3032 3034 3634 3031 6636 3264 3034  6f02046401f62d04
-000012c0: 3234 3330 3332 3633 3337 3330 3334 3330  2430326337303430
-000012d0: 3335 3264 3333 3337 3334 3333 3264 3334  352d333734332d34
-000012e0: 3333 3632 3635 3264 3632 3333 3335 3332  3362652d62333532
-000012f0: 3264 3632 3333 3333 3335 3636 3632 3332  2d62333335666232
-00001300: 3636 3337 3633 3334 3632 3032 3034 3031  6637633462020401
-00001310: 3234 3030 3033 3032 3031 3030 3034 3035  2400030201000405
-00001320: 3030 3463 3533 3736 3030 3c2f 6364 6e74  004c537600</cdnt
-00001330: 6875 6d62 7572 6c3e 3c61 6573 6b65 793e  humburl><aeskey>
-00001340: 3064 6232 3634 3536 6361 6632 3433 6662  0db26456caf243fb
-00001350: 6434 6566 6239 3930 3538 6130 3164 3636  d4efb99058a01d66
-00001360: 3c2f 6165 736b 6579 3e3c 6364 6e74 6875  </aeskey><cdnthu
-00001370: 6d62 6165 736b 6579 3e30 6462 3236 3435  mbaeskey>0db2645
-00001380: 3663 6166 3234 3366 6264 3465 6662 3939  6caf243fbd4efb99
-00001390: 3035 3861 3031 6436 363c 2f63 646e 7468  058a01d66</cdnth
-000013a0: 756d 6261 6573 6b65 793e 3c65 6e63 7279  umbaeskey><encry
-000013b0: 7665 723e 313c 2f65 6e63 7279 7665 723e  ver>1</encryver>
-000013c0: 3c63 646e 7468 756d 626c 656e 6774 683e  <cdnthumblength>
-000013d0: 3631 3535 383c 2f63 646e 7468 756d 626c  61558</cdnthumbl
-000013e0: 656e 6774 683e 3c63 646e 7468 756d 6268  ength><cdnthumbh
-000013f0: 6569 6768 743e 3130 303c 2f63 646e 7468  eight>100</cdnth
-00001400: 756d 6268 6569 6768 743e 3c63 646e 7468  umbheight><cdnth
-00001410: 756d 6277 6964 7468 3e31 3030 3c2f 6364  umbwidth>100</cd
-00001420: 6e74 6875 6d62 7769 6474 683e 3c2f 6170  nthumbwidth></ap
-00001430: 7061 7474 6163 683e 3c77 6561 7070 696e  pattach><weappin
-00001440: 666f 3e3c 7061 6765 7061 7468 3e70 6167  fo><pagepath>pag
-00001450: 6573 2f69 6e64 6578 2f69 6e64 6578 2e68  es/index/index.h
-00001460: 746d 6c3c 2f70 6167 6570 6174 683e 3c75  tml</pagepath><u
-00001470: 7365 726e 616d 653e 6768 5f63 3262 3838  sername>gh_c2b88
-00001480: 6133 3863 3432 3440 6170 703c 2f75 7365  a38c424@app</use
-00001490: 726e 616d 653e 3c61 7070 6964 3e77 7863  rname><appid>wxc
-000014a0: 3265 6461 6463 3837 3037 3766 6132 613c  2edadc87077fa2a<
-000014b0: 2f61 7070 6964 3e3c 7665 7273 696f 6e3e  /appid><version>
-000014c0: 3139 373c 2f76 6572 7369 6f6e 3e3c 7479  197</version><ty
-000014d0: 7065 3e32 3c2f 7479 7065 3e3c 7765 6170  pe>2</type><weap
-000014e0: 7069 636f 6e75 726c 3e68 7474 703a 2f2f  piconurl>http://
-000014f0: 7778 2e71 6c6f 676f 2e63 6e2f 6d6d 6865  wx.qlogo.cn/mmhe
-00001500: 6164 2f51 3361 7548 677a 777a 4d34 3732  ad/Q3auHgzwzM472
-00001510: 376e 304e 5130 5a49 5051 506c 6670 3135  7n0NQ0ZIPQPlfp15
-00001520: 6d31 574c 736e 7258 626f 316b 4c68 4647  m1WLsnrXbo1kLhFG
-00001530: 636f 6c67 4c79 6330 412f 3936 3c2f 7765  colgLyc0A/96</we
-00001540: 6170 7069 636f 6e75 726c 3e3c 6170 7073  appiconurl><apps
-00001550: 6572 7669 6365 7479 7065 3e30 3c2f 6170  ervicetype>0</ap
-00001560: 7073 6572 7669 6365 7479 7065 3e3c 7368  pservicetype><sh
-00001570: 6172 6549 643e 315f 7778 6332 6564 6164  areId>1_wxc2edad
-00001580: 6338 3730 3737 6661 3261 5f32 3931 3737  c87077fa2a_29177
-00001590: 6539 6139 6239 3138 6362 3965 3735 3936  e9a9b918cb9e7596
-000015a0: 3466 3830 6262 3866 3332 655f 3136 3737  4f80bb8f32e_1677
-000015b0: 3834 3934 3736 5f30 3c2f 7368 6172 6549  849476_0</shareI
-000015c0: 643e 3c2f 7765 6170 7069 6e66 6f3e 3c77  d></weappinfo><w
-000015d0: 6562 7365 6172 6368 202f 3e3c 2f61 7070  ebsearch /></app
-000015e0: 6d73 673e 3c66 726f 6d75 7365 726e 616d  msg><fromusernam
-000015f0: 653e 7778 6964 5f78 7878 7878 7878 7878  e>wxid_xxxxxxxxx
-00001600: 7878 7878 783c 2f66 726f 6d75 7365 726e  xxxxx</fromusern
-00001610: 616d 653e 3c73 6365 6e65 3e30 3c2f 7363  ame><scene>0</sc
-00001620: 656e 653e 3c61 7070 696e 666f 3e3c 7665  ene><appinfo><ve
-00001630: 7273 696f 6e3e 313c 2f76 6572 7369 6f6e  rsion>1</version
-00001640: 3e3c 6170 706e 616d 6520 2f3e 3c2f 6170  ><appname /></ap
-00001650: 7069 6e66 6f3e 3c63 6f6d 6d65 6e74 7572  pinfo><commentur
-00001660: 6c20 2f3e 3c2f 6d73 673e 270a 2020 2020  l /></msg>'.    
-00001670: 7265 7420 3d20 7763 662e 7365 6e64 5f78  ret = wcf.send_x
-00001680: 6d6c 2822 6669 6c65 6865 6c70 6572 222c  ml("filehelper",
-00001690: 2078 6d6c 2c20 3078 3231 290a 2020 2020   xml, 0x21).    
-000016a0: 4c4f 472e 696e 666f 2866 2273 656e 645f  LOG.info(f"send_
-000016b0: 786d 6c3a 207b 7265 747d 2229 0a0a 2020  xml: {ret}")..  
-000016c0: 2020 7265 7420 3d20 7763 662e 7365 6e64    ret = wcf.send
-000016d0: 5f65 6d6f 7469 6f6e 2822 656d 6f2e 6769  _emotion("emo.gi
-000016e0: 6622 2c20 2266 696c 6568 656c 7065 7222  f", "filehelper"
-000016f0: 2920 2023 20e9 9c80 e8a6 81e7 a1ae e4bf  )  # ...........
-00001700: 9d20 6769 6620 e8b7 afe5 be84 e6ad a3e7  . gif ..........
-00001710: a1ae 0a20 2020 204c 4f47 2e69 6e66 6f28  ...    LOG.info(
-00001720: 6622 7365 6e64 5f65 6d6f 7469 6f6e 3a20  f"send_emotion: 
-00001730: 7b72 6574 7d22 290a 0a20 2020 2023 20e4  {ret}")..    # .
-00001740: b880 e79b b4e8 bf90 e8a1 8c0a 2020 2020  ............    
-00001750: 7763 662e 6b65 6570 5f72 756e 6e69 6e67  wcf.keep_running
-00001760: 2829 0a0a 0a69 6620 5f5f 6e61 6d65 5f5f  ()...if __name__
-00001770: 203d 3d20 225f 5f6d 6169 6e5f 5f22 3a0a   == "__main__":.
-00001780: 2020 2020 6d61 696e 2829 0a0a 6060 600a      main()..```.
-00001790: 0a23 2320 e4b8 80e8 b5b7 e5bc 80e5 8f91  .## ............
-000017a0: 0a23 2323 20e9 858d e7bd aee7 8eaf e5a2  .### ...........
-000017b0: 830a 6060 6073 680a 2320 e588 9be5 bbba  ..```sh.# ......
-000017c0: e899 9ae6 8b9f e78e afe5 a283 0a70 7974  .............pyt
-000017d0: 686f 6e20 2d6d 2076 656e 7620 2e65 6e76  hon -m venv .env
-000017e0: 0a23 20e6 bf80 e6b4 bbe8 999a e68b 9fe7  .# .............
-000017f0: 8eaf e5a2 830a 736f 7572 6365 202e 656e  ......source .en
-00001800: 762f 5363 7269 7074 732f 6163 7469 7661  v/Scripts/activa
-00001810: 7465 0a23 20e5 8d87 e7ba a720 7069 700a  te.# ...... pip.
-00001820: 7069 7020 696e 7374 616c 6c20 2d2d 7570  pip install --up
-00001830: 6772 6164 6520 7069 700a 2320 e5ae 89e8  grade pip.# ....
-00001840: a385 e4be 9de8 b596 e58c 850a 7069 7020  ............pip 
-00001850: 696e 7374 616c 6c20 6772 7063 696f 2d74  install grpcio-t
-00001860: 6f6f 6c73 2070 796e 6e67 0a60 6060 0a0a  ools pynng.```..
-00001870: 2323 2320 e987 8de6 96b0 e794 9fe6 8890  ### ............
-00001880: 2050 4220 e696 87e4 bbb6 0a60 6060 7368   PB .......```sh
-00001890: 0a63 6420 7079 7468 6f6e 5c77 6366 6572  .cd python\wcfer
-000018a0: 7279 0a23 2043 4d44 0a70 7974 686f 6e20  ry.# CMD.python 
-000018b0: 2d6d 2067 7270 635f 746f 6f6c 732e 7072  -m grpc_tools.pr
-000018c0: 6f74 6f63 202d 2d70 7974 686f 6e5f 6f75  otoc --python_ou
-000018d0: 743d 2e20 2d2d 7072 6f74 6f5f 7061 7468  t=. --proto_path
-000018e0: 3d2e 2e5c 2e2e 5c72 7063 5c70 726f 746f  =..\..\rpc\proto
-000018f0: 5c20 7763 662e 7072 6f74 6f0a 0a23 2047  \ wcf.proto..# G
-00001900: 6974 4261 7368 0a70 7974 686f 6e20 2d6d  itBash.python -m
-00001910: 2067 7270 635f 746f 6f6c 732e 7072 6f74   grpc_tools.prot
-00001920: 6f63 202d 2d70 7974 686f 6e5f 6f75 743d  oc --python_out=
-00001930: 2e20 2d2d 7072 6f74 6f5f 7061 7468 3d2e  . --proto_path=.
-00001940: 2e2f 2e2e 2f72 7063 2f70 726f 746f 2f20  ./../rpc/proto/ 
-00001950: 7763 662e 7072 6f74 6f0a 6060 600a       wcf.proto.```.
+00000010: 3a20 322e 310d 0a4e 616d 653a 2077 6366  : 2.1..Name: wcf
+00000020: 6572 7279 0d0a 5665 7273 696f 6e3a 2033  erry..Version: 3
+00000030: 2e37 2e30 2e33 302e 3235 0d0a 5375 6d6d  .7.0.30.25..Summ
+00000040: 6172 793a 20e4 b880 e4b8 aae7 8ea9 e5be  ary: ...........
+00000050: aee4 bfa1 e79a 84e5 b7a5 e585 b70d 0a48  ...............H
+00000060: 6f6d 652d 7061 6765 3a20 6874 7470 733a  ome-page: https:
+00000070: 2f2f 6769 7468 7562 2e63 6f6d 2f6c 6963  //github.com/lic
+00000080: 6830 3832 312f 5765 4368 6174 4665 7272  h0821/WeChatFerr
+00000090: 790d 0a41 7574 686f 723a 2043 6861 6e67  y..Author: Chang
+000000a0: 6875 610d 0a41 7574 686f 722d 656d 6169  hua..Author-emai
+000000b0: 6c3a 206c 6963 6861 6e67 6875 6130 3832  l: lichanghua082
+000000c0: 3140 676d 6169 6c2e 636f 6d0d 0a4c 6963  1@gmail.com..Lic
+000000d0: 656e 7365 3a20 4d49 540d 0a50 726f 6a65  ense: MIT..Proje
+000000e0: 6374 2d55 524c 3a20 446f 6375 6d65 6e74  ct-URL: Document
+000000f0: 6174 696f 6e2c 2068 7474 7073 3a2f 2f77  ation, https://w
+00000100: 6563 6861 7466 6572 7279 2e72 6561 6474  echatferry.readt
+00000110: 6865 646f 6373 2e69 6f2f 7a68 2f6c 6174  hedocs.io/zh/lat
+00000120: 6573 742f 696e 6465 782e 6874 6d6c 0d0a  est/index.html..
+00000130: 5072 6f6a 6563 742d 5552 4c3a 2047 6974  Project-URL: Git
+00000140: 4875 622c 2068 7474 7073 3a2f 2f67 6974  Hub, https://git
+00000150: 6875 622e 636f 6d2f 6c69 6368 3038 3231  hub.com/lich0821
+00000160: 2f57 6543 6861 7446 6572 7279 2f0d 0a44  /WeChatFerry/..D
+00000170: 6573 6372 6970 7469 6f6e 3a20 2320 5765  escription: # We
+00000180: 4368 6174 4665 7272 7920 5079 7468 6f6e  ChatFerry Python
+00000190: 20e5 aea2 e688 b7e7 abaf 0d0a 2020 2020   ...........    
+000001a0: 2020 2020 5b21 5b50 7950 695d 2868 7474      [![PyPi](htt
+000001b0: 7073 3a2f 2f69 6d67 2e73 6869 656c 6473  ps://img.shields
+000001c0: 2e69 6f2f 7079 7069 2f76 2f77 6366 6572  .io/pypi/v/wcfer
+000001d0: 7279 2e73 7667 295d 2868 7474 7073 3a2f  ry.svg)](https:/
+000001e0: 2f70 7970 692e 7079 7468 6f6e 2e6f 7267  /pypi.python.org
+000001f0: 2f70 7970 692f 7763 6665 7272 7929 205b  /pypi/wcferry) [
+00000200: 215b 446f 776e 6c6f 6164 735d 2868 7474  ![Downloads](htt
+00000210: 7073 3a2f 2f73 7461 7469 632e 7065 7079  ps://static.pepy
+00000220: 2e74 6563 682f 6261 6467 652f 7763 6665  .tech/badge/wcfe
+00000230: 7272 7929 5d28 6874 7470 733a 2f2f 7079  rry)](https://py
+00000240: 7069 2e70 7974 686f 6e2e 6f72 672f 7079  pi.python.org/py
+00000250: 7069 2f77 6366 6572 7279 2920 5b21 5b44  pi/wcferry) [![D
+00000260: 6f63 756d 656e 7461 7469 6f6e 2053 7461  ocumentation Sta
+00000270: 7475 735d 2868 7474 7073 3a2f 2f72 6561  tus](https://rea
+00000280: 6474 6865 646f 6373 2e6f 7267 2f70 726f  dthedocs.org/pro
+00000290: 6a65 6374 732f 7765 6368 6174 6665 7272  jects/wechatferr
+000002a0: 792f 6261 6467 652f 3f76 6572 7369 6f6e  y/badge/?version
+000002b0: 3d6c 6174 6573 7429 5d28 6874 7470 733a  =latest)](https:
+000002c0: 2f2f 7765 6368 6174 6665 7272 792e 7265  //wechatferry.re
+000002d0: 6164 7468 6564 6f63 732e 696f 2f7a 682f  adthedocs.io/zh/
+000002e0: 6c61 7465 7374 2f3f 6261 6467 653d 6c61  latest/?badge=la
+000002f0: 7465 7374 290d 0a20 2020 2020 2020 200d  test)..        .
+00000300: 0a20 2020 2020 2020 20f0 9fa4 96e7 a4ba  .        .......
+00000310: e4be 8be6 9cba e599 a8e4 baba e6a1 86e6  ................
+00000320: 9eb6 efbc 9a5b 5765 4368 6174 526f 626f  .....[WeChatRobo
+00000330: 745d 2868 7474 7073 3a2f 2f67 6974 6875  t](https://githu
+00000340: 622e 636f 6d2f 6c69 6368 3038 3231 2f57  b.com/lich0821/W
+00000350: 6543 6861 7452 6f62 6f74 29e3 8082 0d0a  eChatRobot).....
+00000360: 2020 2020 2020 2020 0d0a 2020 2020 2020          ..      
+00000370: 2020 2323 20e5 bfab e980 9fe5 bc80 e5a7    ## ...........
+00000380: 8b0d 0a20 2020 2020 2020 2060 6060 7368  ...        ```sh
+00000390: 0d0a 2020 2020 2020 2020 7069 7020 696e  ..        pip in
+000003a0: 7374 616c 6c20 2d2d 7570 6772 6164 6520  stall --upgrade 
+000003b0: 7763 6665 7272 790d 0a20 2020 2020 2020  wcferry..       
+000003c0: 2060 6060 0d0a 2020 2020 2020 2020 0d0a   ```..        ..
+000003d0: 2020 2020 2020 2020 2323 2320 4465 6d6f          ### Demo
+000003e0: efbc 9a0d 0a20 2020 2020 2020 2060 6060  .....        ```
+000003f0: 7079 0d0a 2020 2020 2020 2020 2321 202f  py..        #! /
+00000400: 7573 722f 6269 6e2f 656e 7620 7079 7468  usr/bin/env pyth
+00000410: 6f6e 330d 0a20 2020 2020 2020 2023 202d  on3..        # -
+00000420: 2a2d 2063 6f64 696e 673a 2075 7466 2d38  *- coding: utf-8
+00000430: 202d 2a2d 0d0a 2020 2020 2020 2020 0d0a   -*-..        ..
+00000440: 2020 2020 2020 2020 696d 706f 7274 206c          import l
+00000450: 6f67 6769 6e67 0d0a 2020 2020 2020 2020  ogging..        
+00000460: 6672 6f6d 2074 6872 6561 6469 6e67 2069  from threading i
+00000470: 6d70 6f72 7420 5468 7265 6164 0d0a 2020  mport Thread..  
+00000480: 2020 2020 2020 6672 6f6d 2074 696d 6520        from time 
+00000490: 696d 706f 7274 2073 6c65 6570 0d0a 2020  import sleep..  
+000004a0: 2020 2020 2020 0d0a 2020 2020 2020 2020        ..        
+000004b0: 6672 6f6d 2077 6366 6572 7279 2069 6d70  from wcferry imp
+000004c0: 6f72 7420 5763 660d 0a20 2020 2020 2020  ort Wcf..       
+000004d0: 200d 0a20 2020 2020 2020 206c 6f67 6769   ..        loggi
+000004e0: 6e67 2e62 6173 6963 436f 6e66 6967 286c  ng.basicConfig(l
+000004f0: 6576 656c 3d27 4445 4255 4727 2c20 666f  evel='DEBUG', fo
+00000500: 726d 6174 3d22 2528 6173 6374 696d 6529  rmat="%(asctime)
+00000510: 7320 2528 6d65 7373 6167 6529 7322 290d  s %(message)s").
+00000520: 0a20 2020 2020 2020 204c 4f47 203d 206c  .        LOG = l
+00000530: 6f67 6769 6e67 2e67 6574 4c6f 6767 6572  ogging.getLogger
+00000540: 2822 4465 6d6f 2229 0d0a 2020 2020 2020  ("Demo")..      
+00000550: 2020 0d0a 2020 2020 2020 2020 0d0a 2020    ..        ..  
+00000560: 2020 2020 2020 6465 6620 7072 6f63 6573        def proces
+00000570: 735f 6d73 6728 7763 663a 2057 6366 293a  s_msg(wcf: Wcf):
+00000580: 0d0a 2020 2020 2020 2020 2020 2020 2222  ..            ""
+00000590: 22e5 a484 e790 86e6 8ea5 e694 b6e5 88b0  "...............
+000005a0: e79a 84e6 b688 e681 af22 2222 0d0a 2020  ........."""..  
+000005b0: 2020 2020 2020 2020 2020 7768 696c 6520            while 
+000005c0: 7763 662e 6973 5f72 6563 6569 7669 6e67  wcf.is_receiving
+000005d0: 5f6d 7367 2829 3a0d 0a20 2020 2020 2020  _msg():..       
+000005e0: 2020 2020 2020 2020 2074 7279 3a0d 0a20           try:.. 
+000005f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000600: 2020 206d 7367 203d 2077 6366 2e67 6574     msg = wcf.get
+00000610: 5f6d 7367 2829 0d0a 2020 2020 2020 2020  _msg()..        
+00000620: 2020 2020 2020 2020 6578 6365 7074 2045          except E
+00000630: 7863 6570 7469 6f6e 2061 7320 653a 0d0a  xception as e:..
+00000640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000650: 2020 2020 636f 6e74 696e 7565 0d0a 2020      continue..  
+00000660: 2020 2020 2020 0d0a 2020 2020 2020 2020        ..        
+00000670: 2020 2020 2020 2020 4c4f 472e 696e 666f          LOG.info
+00000680: 286d 7367 2920 2023 20e7 ae80 e58d 95e6  (msg)  # .......
+00000690: 8993 e58d b00d 0a20 2020 2020 2020 200d  .......        .
+000006a0: 0a20 2020 2020 2020 200d 0a20 2020 2020  .        ..     
+000006b0: 2020 2064 6566 206d 6169 6e28 293a 0d0a     def main():..
+000006c0: 2020 2020 2020 2020 2020 2020 4c4f 472e              LOG.
+000006d0: 696e 666f 2822 5374 6172 7420 6465 6d6f  info("Start demo
+000006e0: 2e2e 2e22 290d 0a20 2020 2020 2020 2020  ...")..         
+000006f0: 2020 2077 6366 203d 2057 6366 2864 6562     wcf = Wcf(deb
+00000700: 7567 3d54 7275 6529 2020 2020 2020 2020  ug=True)        
+00000710: 2020 2020 2023 20e9 bb98 e8ae a4e8 bf9e       # .........
+00000720: e68e a5e6 9cac e59c b0e6 9c8d e58a a10d  ................
+00000730: 0a20 2020 2020 2020 2020 2020 2023 2077  .            # w
+00000740: 6366 203d 2057 6366 2822 7463 703a 2f2f  cf = Wcf("tcp://
+00000750: 3132 372e 302e 302e 313a 3130 3038 3622  127.0.0.1:10086"
+00000760: 2920 2320 e8bf 9ee6 8ea5 e8bf 9ce7 abaf  ) # ............
+00000770: e69c 8de5 8aa1 0d0a 2020 2020 2020 2020  ........        
+00000780: 0d0a 2020 2020 2020 2020 2020 2020 736c  ..            sl
+00000790: 6565 7028 3529 2020 2320 e7ad 89e5 beae  eep(5)  # ......
+000007a0: e4bf a1e5 8aa0 e8bd bde5 a5bd efbc 8ce4  ................
+000007b0: bba5 e585 8de4 bfa1 e681 afe6 98be e7a4  ................
+000007c0: bae5 bc82 e5b8 b80d 0a20 2020 2020 2020  .........       
+000007d0: 2020 2020 204c 4f47 2e69 6e66 6f28 6622       LOG.info(f"
+000007e0: e5b7 b2e7 bb8f e799 bbe5 bd95 3a20 7b54  ............: {T
+000007f0: 7275 6520 6966 2077 6366 2e69 735f 6c6f  rue if wcf.is_lo
+00000800: 6769 6e28 2920 656c 7365 2046 616c 7365  gin() else False
+00000810: 7d22 290d 0a20 2020 2020 2020 2020 2020  }")..           
+00000820: 204c 4f47 2e69 6e66 6f28 6622 7778 6964   LOG.info(f"wxid
+00000830: 3a20 7b77 6366 2e67 6574 5f73 656c 665f  : {wcf.get_self_
+00000840: 7778 6964 2829 7d22 290d 0a20 2020 2020  wxid()}")..     
+00000850: 2020 200d 0a20 2020 2020 2020 2020 2020     ..           
+00000860: 2023 20e5 8581 e8ae b8e6 8ea5 e694 b6e6   # .............
+00000870: b688 e681 af0d 0a20 2020 2020 2020 2020  .......         
+00000880: 2020 2023 2077 6366 2e65 6e61 626c 655f     # wcf.enable_
+00000890: 7265 6376 5f6d 7367 284c 4f47 2e69 6e66  recv_msg(LOG.inf
+000008a0: 6f29 2023 2064 6570 7265 6361 7465 640d  o) # deprecated.
+000008b0: 0a20 2020 2020 2020 200d 0a20 2020 2020  .        ..     
+000008c0: 2020 2020 2020 2023 20e5 8581 e8ae b8e6         # .......
+000008d0: 8ea5 e694 b6e6 b688 e681 af0d 0a20 2020  .............   
+000008e0: 2020 2020 2020 2020 2077 6366 2e65 6e61           wcf.ena
+000008f0: 626c 655f 7265 6365 6976 696e 675f 6d73  ble_receiving_ms
+00000900: 6728 290d 0a20 2020 2020 2020 2020 2020  g()..           
+00000910: 2054 6872 6561 6428 7461 7267 6574 3d70   Thread(target=p
+00000920: 726f 6365 7373 5f6d 7367 2c20 6e61 6d65  rocess_msg, name
+00000930: 3d22 4765 744d 6573 7361 6765 222c 2061  ="GetMessage", a
+00000940: 7267 733d 2877 6366 2c29 2c20 6461 656d  rgs=(wcf,), daem
+00000950: 6f6e 3d54 7275 6529 2e73 7461 7274 2829  on=True).start()
+00000960: 0d0a 2020 2020 2020 2020 0d0a 2020 2020  ..        ..    
+00000970: 2020 2020 2020 2020 2320 7763 662e 6469          # wcf.di
+00000980: 7361 626c 655f 7265 6376 5f6d 7367 2829  sable_recv_msg()
+00000990: 2023 20e5 bd93 e99c 80e8 a681 e581 9ce6   # .............
+000009a0: ada2 e68e a5e6 94b6 e6b6 88e6 81af e697  ................
+000009b0: b6e8 b083 e794 a80d 0a20 2020 2020 2020  .........       
+000009c0: 200d 0a20 2020 2020 2020 2020 2020 2072   ..            r
+000009d0: 6574 203d 2077 6366 2e73 656e 645f 7465  et = wcf.send_te
+000009e0: 7874 2822 4865 6c6c 6f20 776f 726c 642e  xt("Hello world.
+000009f0: 222c 2022 6669 6c65 6865 6c70 6572 2229  ", "filehelper")
+00000a00: 0d0a 2020 2020 2020 2020 2020 2020 4c4f  ..            LO
+00000a10: 472e 696e 666f 2866 2273 656e 645f 7465  G.info(f"send_te
+00000a20: 7874 3a20 7b72 6574 7d22 290d 0a20 2020  xt: {ret}")..   
+00000a30: 2020 2020 200d 0a20 2020 2020 2020 2020       ..         
+00000a40: 2020 2072 6574 203d 2077 6366 2e73 656e     ret = wcf.sen
+00000a50: 645f 696d 6167 6528 2254 4551 7561 6e74  d_image("TEQuant
+00000a60: 2e6a 7065 6722 2c20 2266 696c 6568 656c  .jpeg", "filehel
+00000a70: 7065 7222 2920 2023 20e9 9c80 e8a6 81e7  per")  # .......
+00000a80: a1ae e4bf 9de5 9bbe e789 87e8 b7af e5be  ................
+00000a90: 84e6 ada3 e7a1 ae0d 0a20 2020 2020 2020  .........       
+00000aa0: 2020 2020 204c 4f47 2e69 6e66 6f28 6622       LOG.info(f"
+00000ab0: 7365 6e64 5f69 6d61 6765 3a20 7b72 6574  send_image: {ret
+00000ac0: 7d22 290d 0a20 2020 2020 2020 200d 0a20  }")..        .. 
+00000ad0: 2020 2020 2020 2020 2020 2072 6574 203d             ret =
+00000ae0: 2077 6366 2e73 656e 645f 6669 6c65 2822   wcf.send_file("
+00000af0: 5245 4144 4d45 2e4d 4422 2c20 2266 696c  README.MD", "fil
+00000b00: 6568 656c 7065 7222 2920 2023 20e9 9c80  ehelper")  # ...
+00000b10: e8a6 81e7 a1ae e4bf 9de6 9687 e4bb b6e8  ................
+00000b20: b7af e5be 84e6 ada3 e7a1 ae0d 0a20 2020  .............   
+00000b30: 2020 2020 2020 2020 204c 4f47 2e69 6e66           LOG.inf
+00000b40: 6f28 6622 7365 6e64 5f66 696c 653a 207b  o(f"send_file: {
+00000b50: 7265 747d 2229 0d0a 2020 2020 2020 2020  ret}")..        
+00000b60: 0d0a 2020 2020 2020 2020 2020 2020 4c4f  ..            LO
+00000b70: 472e 696e 666f 2866 224d 6573 7361 6765  G.info(f"Message
+00000b80: 2074 7970 6573 3a5c 6e7b 7763 662e 6765   types:\n{wcf.ge
+00000b90: 745f 6d73 675f 7479 7065 7328 297d 2229  t_msg_types()}")
+00000ba0: 0d0a 2020 2020 2020 2020 2020 2020 4c4f  ..            LO
+00000bb0: 472e 696e 666f 2866 2243 6f6e 7461 6374  G.info(f"Contact
+00000bc0: 733a 5c6e 7b77 6366 2e67 6574 5f63 6f6e  s:\n{wcf.get_con
+00000bd0: 7461 6374 7328 297d 2229 0d0a 2020 2020  tacts()}")..    
+00000be0: 2020 2020 0d0a 2020 2020 2020 2020 2020      ..          
+00000bf0: 2020 4c4f 472e 696e 666f 2866 2244 4273    LOG.info(f"DBs
+00000c00: 3a5c 6e7b 7763 662e 6765 745f 6462 7328  :\n{wcf.get_dbs(
+00000c10: 297d 2229 0d0a 2020 2020 2020 2020 2020  )}")..          
+00000c20: 2020 4c4f 472e 696e 666f 2866 2254 6162    LOG.info(f"Tab
+00000c30: 6c65 733a 5c6e 7b77 6366 2e67 6574 5f74  les:\n{wcf.get_t
+00000c40: 6162 6c65 7328 2764 6227 297d 2229 0d0a  ables('db')}")..
+00000c50: 2020 2020 2020 2020 2020 2020 4c4f 472e              LOG.
+00000c60: 696e 666f 2866 2252 6573 756c 7473 3a5c  info(f"Results:\
+00000c70: 6e7b 7763 662e 7175 6572 795f 7371 6c28  n{wcf.query_sql(
+00000c80: 274d 6963 726f 4d73 672e 6462 272c 2027  'MicroMsg.db', '
+00000c90: 5345 4c45 4354 202a 2046 524f 4d20 436f  SELECT * FROM Co
+00000ca0: 6e74 6163 7420 4c49 4d49 5420 313b 2729  ntact LIMIT 1;')
+00000cb0: 7d22 290d 0a20 2020 2020 2020 200d 0a20  }")..        .. 
+00000cc0: 2020 2020 2020 2020 2020 2023 20e9 9c80             # ...
+00000cd0: e8a6 81e7 9c9f e6ad a3e7 9a84 2056 33e3  ............ V3.
+00000ce0: 8081 5634 20e4 bfa1 e681 af0d 0a20 2020  ..V4 ........   
+00000cf0: 2020 2020 2020 2020 2023 2077 6366 2e61           # wcf.a
+00000d00: 6363 6570 745f 6e65 775f 6672 6965 6e64  ccept_new_friend
+00000d10: 2822 7633 222c 2022 7634 2229 0d0a 2020  ("v3", "v4")..  
+00000d20: 2020 2020 2020 0d0a 2020 2020 2020 2020        ..        
+00000d30: 2020 2020 2320 e5a1 abe5 8699 e6ad a3e7      # ..........
+00000d40: a1ae e79a 84e7 bea4 2049 4420 e592 8ce6  ........ ID ....
+00000d50: 8890 e591 9820 7778 6964 0d0a 2020 2020  ..... wxid..    
+00000d60: 2020 2020 2020 2020 2320 7265 7420 3d20          # ret = 
+00000d70: 7763 662e 6164 645f 6368 6174 726f 6f6d  wcf.add_chatroom
+00000d80: 5f6d 656d 6265 7273 2822 6368 6174 726f  _members("chatro
+00000d90: 6f6d 2069 6422 2c20 2277 7869 6431 2c77  om id", "wxid1,w
+00000da0: 7869 6432 2c77 7869 6433 2c2e 2e2e 2229  xid2,wxid3,...")
+00000db0: 0d0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
+00000dc0: 4c4f 472e 696e 666f 2866 2261 6464 5f63  LOG.info(f"add_c
+00000dd0: 6861 7472 6f6f 6d5f 6d65 6d62 6572 733a  hatroom_members:
+00000de0: 207b 7265 747d 2229 0d0a 2020 2020 2020   {ret}")..      
+00000df0: 2020 0d0a 2020 2020 2020 2020 2020 2020    ..            
+00000e00: 786d 6c20 3d20 273c 3f78 6d6c 2076 6572  xml = '<?xml ver
+00000e10: 7369 6f6e 3d22 312e 3022 3f3e 3c6d 7367  sion="1.0"?><msg
+00000e20: 3e3c 6170 706d 7367 2061 7070 6964 3d22  ><appmsg appid="
+00000e30: 2220 7364 6b76 6572 3d22 3022 3e3c 7469  " sdkver="0"><ti
+00000e40: 746c 653e e58f aee5 bd93 e88d afe6 88bf  tle>............
+00000e50: efbc 8c32 34e5 b08f e697 b6e6 9c8d e58a  ...24...........
+00000e60: a1ef bc8c 3238 e588 86e9 929f e980 81e8  ....28..........
+00000e70: 8daf e588 b0e5 aeb6 efbc 813c 2f74 6974  ...........</tit
+00000e80: 6c65 3e3c 6465 733e e58f aee5 bd93 e5bf  le><des>........
+00000e90: abe8 8daf e9a6 96e5 aeb6 e689 bfe8 afba  ................
+00000ea0: e88c 83e5 9bb4 e586 8532 38e5 8886 e992  .........28.....
+00000eb0: 9fe9 8081 e88d afe5 88b0 e5ae b6ef bc81  ................
+00000ec0: e58f aee5 bd93 e5bf abe8 8daf e6a0 b8e5  ................
+00000ed0: bf83 e58c bae5 9f9f e586 8537 2a32 34e5  ...........7*24.
+00000ee0: b08f e697 b6e5 85a8 e5a4 a9e5 8099 e69c  ................
+00000ef0: 8de5 8aa1 efbc 8ce9 8081 e88d afe4 b88a  ................
+00000f00: e997 a8ef bc81 e58f aee5 bd93 e5bf abe8  ................
+00000f10: 8daf e5ae 98e7 bd91 e4b8 bae6 82a8 e68f  ................
+00000f20: 90e4 be9b e5bf abe6 8db7 e4be bfe5 88a9  ................
+00000f30: efbc 8ce6 ada3 e593 81e4 bd8e e4bb b7ef  ................
+00000f40: bc8c e5ae 89e5 85a8 e694 bee5 bf83 e79a  ................
+00000f50: 84e8 b4ad e88d afe3 8081 e980 81e8 8daf  ................
+00000f60: e69c 8de5 8aa1 e4bd 93e9 aa8c e380 823c  ...............<
+00000f70: 2f64 6573 3e3c 6163 7469 6f6e 3e76 6965  /des><action>vie
+00000f80: 773c 2f61 6374 696f 6e3e 3c74 7970 653e  w</action><type>
+00000f90: 3333 3c2f 7479 7065 3e3c 7368 6f77 7479  33</type><showty
+00000fa0: 7065 3e30 3c2f 7368 6f77 7479 7065 3e3c  pe>0</showtype><
+00000fb0: 636f 6e74 656e 7420 2f3e 3c75 726c 3e68  content /><url>h
+00000fc0: 7474 7073 3a2f 2f6d 702e 7765 6978 696e  ttps://mp.weixin
+00000fd0: 2e71 712e 636f 6d2f 6d70 2f77 6165 7272  .qq.com/mp/waerr
+00000fe0: 7061 6765 3f61 7070 6964 3d77 7863 3265  page?appid=wxc2e
+00000ff0: 6461 6463 3837 3037 3766 6132 6126 616d  dadc87077fa2a&am
+00001000: 703b 7479 7065 3d75 7067 7261 6465 2661  p;type=upgrade&a
+00001010: 6d70 3b75 7067 7261 6465 7479 7065 3d33  mp;upgradetype=3
+00001020: 2377 6563 6861 745f 7265 6469 7265 6374  #wechat_redirect
+00001030: 3c2f 7572 6c3e 3c64 6174 6175 726c 202f  </url><dataurl /
+00001040: 3e3c 6c6f 7775 726c 202f 3e3c 6c6f 7764  ><lowurl /><lowd
+00001050: 6174 6175 726c 202f 3e3c 7265 636f 7264  ataurl /><record
+00001060: 6974 656d 202f 3e3c 7468 756d 6275 726c  item /><thumburl
+00001070: 202f 3e3c 6d65 7373 6167 6561 6374 696f   /><messageactio
+00001080: 6e20 2f3e 3c6d 6435 3e37 6636 6634 3964  n /><md5>7f6f49d
+00001090: 3330 3165 6266 3437 3130 3031 3939 6238  301ebf47100199b8
+000010a0: 6134 6663 6634 6465 343c 2f6d 6435 3e3c  a4fcf4de4</md5><
+000010b0: 6578 7469 6e66 6f20 2f3e 3c73 6f75 7263  extinfo /><sourc
+000010c0: 6575 7365 726e 616d 653e 6768 5f63 3262  eusername>gh_c2b
+000010d0: 3838 6133 3863 3432 3440 6170 703c 2f73  88a38c424@app</s
+000010e0: 6f75 7263 6575 7365 726e 616d 653e 3c73  ourceusername><s
+000010f0: 6f75 7263 6564 6973 706c 6179 6e61 6d65  ourcedisplayname
+00001100: 3ee5 8fae e5bd 93e5 bfab e88d af20 e88d  >............ ..
+00001110: afe5 ba97 e980 81e8 8daf e588 b0e5 aeb6  ................
+00001120: e5a4 9ce9 97b4 e4b9 b0e8 8daf 3c2f 736f  ............</so
+00001130: 7572 6365 6469 7370 6c61 796e 616d 653e  urcedisplayname>
+00001140: 3c63 6f6d 6d65 6e74 7572 6c20 2f3e 3c61  <commenturl /><a
+00001150: 7070 6174 7461 6368 3e3c 746f 7461 6c6c  ppattach><totall
+00001160: 656e 3e30 3c2f 746f 7461 6c6c 656e 3e3c  en>0</totallen><
+00001170: 6174 7461 6368 6964 202f 3e3c 656d 6f74  attachid /><emot
+00001180: 6963 6f6e 6d64 353e 3c2f 656d 6f74 6963  iconmd5></emotic
+00001190: 6f6e 6d64 353e 3c66 696c 6565 7874 3e6a  onmd5><fileext>j
+000011a0: 7067 3c2f 6669 6c65 6578 743e 3c66 696c  pg</fileext><fil
+000011b0: 656b 6579 3e64 6130 6530 3866 3563 3732  ekey>da0e08f5c72
+000011c0: 3539 6430 3364 6131 3530 6435 6537 6361  59d03da150d5e7ca
+000011d0: 3664 3935 303c 2f66 696c 656b 6579 3e3c  6d950</filekey><
+000011e0: 6364 6e74 6875 6d62 7572 6c3e 3330 3537  cdnthumburl>3057
+000011f0: 3032 3031 3030 3034 3462 3330 3439 3032  020100044b304902
+00001200: 3031 3030 3032 3034 6534 6330 3233 3237  01000204e4c02327
+00001210: 3032 3033 3266 3465 6632 3032 3034 6136  02032f4ef20204a6
+00001220: 6261 6365 3666 3032 3034 3634 3031 6636  bace6f02046401f6
+00001230: 3264 3034 3234 3330 3332 3633 3337 3330  2d04243032633730
+00001240: 3334 3330 3335 3264 3333 3337 3334 3333  3430352d33373433
+00001250: 3264 3334 3333 3632 3635 3264 3632 3333  2d343362652d6233
+00001260: 3335 3332 3264 3632 3333 3333 3335 3636  35322d6233333566
+00001270: 3632 3332 3636 3337 3633 3334 3632 3032  6232663763346202
+00001280: 3034 3031 3234 3030 3033 3032 3031 3030  0401240003020100
+00001290: 3034 3035 3030 3463 3533 3736 3030 3c2f  0405004c537600</
+000012a0: 6364 6e74 6875 6d62 7572 6c3e 3c61 6573  cdnthumburl><aes
+000012b0: 6b65 793e 3064 6232 3634 3536 6361 6632  key>0db26456caf2
+000012c0: 3433 6662 6434 6566 6239 3930 3538 6130  43fbd4efb99058a0
+000012d0: 3164 3636 3c2f 6165 736b 6579 3e3c 6364  1d66</aeskey><cd
+000012e0: 6e74 6875 6d62 6165 736b 6579 3e30 6462  nthumbaeskey>0db
+000012f0: 3236 3435 3663 6166 3234 3366 6264 3465  26456caf243fbd4e
+00001300: 6662 3939 3035 3861 3031 6436 363c 2f63  fb99058a01d66</c
+00001310: 646e 7468 756d 6261 6573 6b65 793e 3c65  dnthumbaeskey><e
+00001320: 6e63 7279 7665 723e 313c 2f65 6e63 7279  ncryver>1</encry
+00001330: 7665 723e 3c63 646e 7468 756d 626c 656e  ver><cdnthumblen
+00001340: 6774 683e 3631 3535 383c 2f63 646e 7468  gth>61558</cdnth
+00001350: 756d 626c 656e 6774 683e 3c63 646e 7468  umblength><cdnth
+00001360: 756d 6268 6569 6768 743e 3130 303c 2f63  umbheight>100</c
+00001370: 646e 7468 756d 6268 6569 6768 743e 3c63  dnthumbheight><c
+00001380: 646e 7468 756d 6277 6964 7468 3e31 3030  dnthumbwidth>100
+00001390: 3c2f 6364 6e74 6875 6d62 7769 6474 683e  </cdnthumbwidth>
+000013a0: 3c2f 6170 7061 7474 6163 683e 3c77 6561  </appattach><wea
+000013b0: 7070 696e 666f 3e3c 7061 6765 7061 7468  ppinfo><pagepath
+000013c0: 3e70 6167 6573 2f69 6e64 6578 2f69 6e64  >pages/index/ind
+000013d0: 6578 2e68 746d 6c3c 2f70 6167 6570 6174  ex.html</pagepat
+000013e0: 683e 3c75 7365 726e 616d 653e 6768 5f63  h><username>gh_c
+000013f0: 3262 3838 6133 3863 3432 3440 6170 703c  2b88a38c424@app<
+00001400: 2f75 7365 726e 616d 653e 3c61 7070 6964  /username><appid
+00001410: 3e77 7863 3265 6461 6463 3837 3037 3766  >wxc2edadc87077f
+00001420: 6132 613c 2f61 7070 6964 3e3c 7665 7273  a2a</appid><vers
+00001430: 696f 6e3e 3139 373c 2f76 6572 7369 6f6e  ion>197</version
+00001440: 3e3c 7479 7065 3e32 3c2f 7479 7065 3e3c  ><type>2</type><
+00001450: 7765 6170 7069 636f 6e75 726c 3e68 7474  weappiconurl>htt
+00001460: 703a 2f2f 7778 2e71 6c6f 676f 2e63 6e2f  p://wx.qlogo.cn/
+00001470: 6d6d 6865 6164 2f51 3361 7548 677a 777a  mmhead/Q3auHgzwz
+00001480: 4d34 3732 376e 304e 5130 5a49 5051 506c  M4727n0NQ0ZIPQPl
+00001490: 6670 3135 6d31 574c 736e 7258 626f 316b  fp15m1WLsnrXbo1k
+000014a0: 4c68 4647 636f 6c67 4c79 6330 412f 3936  LhFGcolgLyc0A/96
+000014b0: 3c2f 7765 6170 7069 636f 6e75 726c 3e3c  </weappiconurl><
+000014c0: 6170 7073 6572 7669 6365 7479 7065 3e30  appservicetype>0
+000014d0: 3c2f 6170 7073 6572 7669 6365 7479 7065  </appservicetype
+000014e0: 3e3c 7368 6172 6549 643e 315f 7778 6332  ><shareId>1_wxc2
+000014f0: 6564 6164 6338 3730 3737 6661 3261 5f32  edadc87077fa2a_2
+00001500: 3931 3737 6539 6139 6239 3138 6362 3965  9177e9a9b918cb9e
+00001510: 3735 3936 3466 3830 6262 3866 3332 655f  75964f80bb8f32e_
+00001520: 3136 3737 3834 3934 3736 5f30 3c2f 7368  1677849476_0</sh
+00001530: 6172 6549 643e 3c2f 7765 6170 7069 6e66  areId></weappinf
+00001540: 6f3e 3c77 6562 7365 6172 6368 202f 3e3c  o><websearch /><
+00001550: 2f61 7070 6d73 673e 3c66 726f 6d75 7365  /appmsg><fromuse
+00001560: 726e 616d 653e 7778 6964 5f78 7878 7878  rname>wxid_xxxxx
+00001570: 7878 7878 7878 7878 783c 2f66 726f 6d75  xxxxxxxxx</fromu
+00001580: 7365 726e 616d 653e 3c73 6365 6e65 3e30  sername><scene>0
+00001590: 3c2f 7363 656e 653e 3c61 7070 696e 666f  </scene><appinfo
+000015a0: 3e3c 7665 7273 696f 6e3e 313c 2f76 6572  ><version>1</ver
+000015b0: 7369 6f6e 3e3c 6170 706e 616d 6520 2f3e  sion><appname />
+000015c0: 3c2f 6170 7069 6e66 6f3e 3c63 6f6d 6d65  </appinfo><comme
+000015d0: 6e74 7572 6c20 2f3e 3c2f 6d73 673e 270d  nturl /></msg>'.
+000015e0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+000015f0: 203d 2077 6366 2e73 656e 645f 786d 6c28   = wcf.send_xml(
+00001600: 2266 696c 6568 656c 7065 7222 2c20 786d  "filehelper", xm
+00001610: 6c2c 2030 7832 3129 0d0a 2020 2020 2020  l, 0x21)..      
+00001620: 2020 2020 2020 4c4f 472e 696e 666f 2866        LOG.info(f
+00001630: 2273 656e 645f 786d 6c3a 207b 7265 747d  "send_xml: {ret}
+00001640: 2229 0d0a 2020 2020 2020 2020 0d0a 2020  ")..        ..  
+00001650: 2020 2020 2020 2020 2020 7265 7420 3d20            ret = 
+00001660: 7763 662e 7365 6e64 5f65 6d6f 7469 6f6e  wcf.send_emotion
+00001670: 2822 656d 6f2e 6769 6622 2c20 2266 696c  ("emo.gif", "fil
+00001680: 6568 656c 7065 7222 2920 2023 20e9 9c80  ehelper")  # ...
+00001690: e8a6 81e7 a1ae e4bf 9d20 6769 6620 e8b7  ......... gif ..
+000016a0: afe5 be84 e6ad a3e7 a1ae 0d0a 2020 2020  ............    
+000016b0: 2020 2020 2020 2020 4c4f 472e 696e 666f          LOG.info
+000016c0: 2866 2273 656e 645f 656d 6f74 696f 6e3a  (f"send_emotion:
+000016d0: 207b 7265 747d 2229 0d0a 2020 2020 2020   {ret}")..      
+000016e0: 2020 0d0a 2020 2020 2020 2020 2020 2020    ..            
+000016f0: 2320 e4b8 80e7 9bb4 e8bf 90e8 a18c 0d0a  # ..............
+00001700: 2020 2020 2020 2020 2020 2020 7763 662e              wcf.
+00001710: 6b65 6570 5f72 756e 6e69 6e67 2829 0d0a  keep_running()..
+00001720: 2020 2020 2020 2020 0d0a 2020 2020 2020          ..      
+00001730: 2020 0d0a 2020 2020 2020 2020 6966 205f    ..        if _
+00001740: 5f6e 616d 655f 5f20 3d3d 2022 5f5f 6d61  _name__ == "__ma
+00001750: 696e 5f5f 223a 0d0a 2020 2020 2020 2020  in__":..        
+00001760: 2020 2020 6d61 696e 2829 0d0a 2020 2020      main()..    
+00001770: 2020 2020 0d0a 2020 2020 2020 2020 6060      ..        ``
+00001780: 600d 0a20 2020 2020 2020 200d 0a20 2020  `..        ..   
+00001790: 2020 2020 2023 2320 e4b8 80e8 b5b7 e5bc       ## ........
+000017a0: 80e5 8f91 0d0a 2020 2020 2020 2020 2323  ......        ##
+000017b0: 2320 e985 8de7 bdae e78e afe5 a283 0d0a  # ..............
+000017c0: 2020 2020 2020 2020 6060 6073 680d 0a20          ```sh.. 
+000017d0: 2020 2020 2020 2023 20e5 889b e5bb bae8         # .......
+000017e0: 999a e68b 9fe7 8eaf e5a2 830d 0a20 2020  .............   
+000017f0: 2020 2020 2070 7974 686f 6e20 2d6d 2076       python -m v
+00001800: 656e 7620 2e65 6e76 0d0a 2020 2020 2020  env .env..      
+00001810: 2020 2320 e6bf 80e6 b4bb e899 9ae6 8b9f    # ............
+00001820: e78e afe5 a283 0d0a 2020 2020 2020 2020  ........        
+00001830: 736f 7572 6365 202e 656e 762f 5363 7269  source .env/Scri
+00001840: 7074 732f 6163 7469 7661 7465 0d0a 2020  pts/activate..  
+00001850: 2020 2020 2020 2320 e58d 87e7 baa7 2070        # ...... p
+00001860: 6970 0d0a 2020 2020 2020 2020 7069 7020  ip..        pip 
+00001870: 696e 7374 616c 6c20 2d2d 7570 6772 6164  install --upgrad
+00001880: 6520 7069 700d 0a20 2020 2020 2020 2023  e pip..        #
+00001890: 20e5 ae89 e8a3 85e4 be9d e8b5 96e5 8c85   ...............
+000018a0: 0d0a 2020 2020 2020 2020 7069 7020 696e  ..        pip in
+000018b0: 7374 616c 6c20 6772 7063 696f 2d74 6f6f  stall grpcio-too
+000018c0: 6c73 2070 796e 6e67 0d0a 2020 2020 2020  ls pynng..      
+000018d0: 2020 6060 600d 0a20 2020 2020 2020 200d    ```..        .
+000018e0: 0a20 2020 2020 2020 2023 2323 20e9 878d  .        ### ...
+000018f0: e696 b0e7 949f e688 9020 5042 20e6 9687  ......... PB ...
+00001900: e4bb b60d 0a20 2020 2020 2020 2060 6060  .....        ```
+00001910: 7368 0d0a 2020 2020 2020 2020 6364 2070  sh..        cd p
+00001920: 7974 686f 6e5c 7763 6665 7272 790d 0a20  ython\wcferry.. 
+00001930: 2020 2020 2020 2023 2043 4d44 0d0a 2020         # CMD..  
+00001940: 2020 2020 2020 7079 7468 6f6e 202d 6d20        python -m 
+00001950: 6772 7063 5f74 6f6f 6c73 2e70 726f 746f  grpc_tools.proto
+00001960: 6320 2d2d 7079 7468 6f6e 5f6f 7574 3d2e  c --python_out=.
+00001970: 202d 2d70 726f 746f 5f70 6174 683d 2e2e   --proto_path=..
+00001980: 5c2e 2e5c 7270 635c 7072 6f74 6f5c 2077  \..\rpc\proto\ w
+00001990: 6366 2e70 726f 746f 0d0a 2020 2020 2020  cf.proto..      
+000019a0: 2020 0d0a 2020 2020 2020 2020 2320 4769    ..        # Gi
+000019b0: 7442 6173 680d 0a20 2020 2020 2020 2070  tBash..        p
+000019c0: 7974 686f 6e20 2d6d 2067 7270 635f 746f  ython -m grpc_to
+000019d0: 6f6c 732e 7072 6f74 6f63 202d 2d70 7974  ols.protoc --pyt
+000019e0: 686f 6e5f 6f75 743d 2e20 2d2d 7072 6f74  hon_out=. --prot
+000019f0: 6f5f 7061 7468 3d2e 2e2f 2e2e 2f72 7063  o_path=../../rpc
+00001a00: 2f70 726f 746f 2f20 7763 662e 7072 6f74  /proto/ wcf.prot
+00001a10: 6f0d 0a20 2020 2020 2020 2060 6060 0d0a  o..        ```..
+00001a20: 2020 2020 2020 2020 0d0a 506c 6174 666f          ..Platfo
+00001a30: 726d 3a20 554e 4b4e 4f57 4e0d 0a43 6c61  rm: UNKNOWN..Cla
+00001a40: 7373 6966 6965 723a 2045 6e76 6972 6f6e  ssifier: Environ
+00001a50: 6d65 6e74 203a 3a20 5769 6e33 3220 284d  ment :: Win32 (M
+00001a60: 5320 5769 6e64 6f77 7329 0d0a 436c 6173  S Windows)..Clas
+00001a70: 7369 6669 6572 3a20 496e 7465 6e64 6564  sifier: Intended
+00001a80: 2041 7564 6965 6e63 6520 3a3a 2044 6576   Audience :: Dev
+00001a90: 656c 6f70 6572 730d 0a43 6c61 7373 6966  elopers..Classif
+00001aa0: 6965 723a 2049 6e74 656e 6465 6420 4175  ier: Intended Au
+00001ab0: 6469 656e 6365 203a 3a20 4375 7374 6f6d  dience :: Custom
+00001ac0: 6572 2053 6572 7669 6365 0d0a 436c 6173  er Service..Clas
+00001ad0: 7369 6669 6572 3a20 546f 7069 6320 3a3a  sifier: Topic ::
+00001ae0: 2043 6f6d 6d75 6e69 6361 7469 6f6e 7320   Communications 
+00001af0: 3a3a 2043 6861 740d 0a43 6c61 7373 6966  :: Chat..Classif
+00001b00: 6965 723a 204f 7065 7261 7469 6e67 2053  ier: Operating S
+00001b10: 7973 7465 6d20 3a3a 204d 6963 726f 736f  ystem :: Microso
+00001b20: 6674 203a 3a20 5769 6e64 6f77 730d 0a43  ft :: Windows..C
+00001b30: 6c61 7373 6966 6965 723a 2050 726f 6772  lassifier: Progr
+00001b40: 616d 6d69 6e67 204c 616e 6775 6167 6520  amming Language 
+00001b50: 3a3a 2050 7974 686f 6e0d 0a52 6571 7569  :: Python..Requi
+00001b60: 7265 732d 5079 7468 6f6e 3a20 3e3d 332e  res-Python: >=3.
+00001b70: 370d 0a44 6573 6372 6970 7469 6f6e 2d43  7..Description-C
+00001b80: 6f6e 7465 6e74 2d54 7970 653a 2074 6578  ontent-Type: tex
+00001b90: 742f 6d61 726b 646f 776e 0d0a            t/markdown..
```


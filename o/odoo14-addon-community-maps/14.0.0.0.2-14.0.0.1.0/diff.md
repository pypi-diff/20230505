# Comparing `tmp/odoo14_addon_community_maps-14.0.0.0.2-py3-none-any.whl.zip` & `tmp/odoo14_addon_community_maps-14.0.0.1.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,43 +1,45 @@
-Zip file size: 54720 bytes, number of entries: 41
--rw-r--r--  2.0 unx       93 b- defN 23-Mar-17 03:12 odoo/addons/community_maps/__init__.py
--rw-r--r--  2.0 unx     1195 b- defN 23-Mar-27 14:25 odoo/addons/community_maps/__manifest__.py
--rw-r--r--  2.0 unx       31 b- defN 23-Mar-17 03:12 odoo/addons/community_maps/controllers/__init__.py
--rw-r--r--  2.0 unx      921 b- defN 23-Mar-24 11:10 odoo/addons/community_maps/controllers/cm_map_controller.py
--rw-r--r--  2.0 unx      540 b- defN 23-Mar-17 03:12 odoo/addons/community_maps/models/__init__.py
--rw-r--r--  2.0 unx      356 b- defN 23-Mar-27 14:20 odoo/addons/community_maps/models/cm_crowdfunding_notification.py
--rw-r--r--  2.0 unx      351 b- defN 23-Mar-20 07:18 odoo/addons/community_maps/models/cm_crowdfunding_notification_request.py
--rw-r--r--  2.0 unx     1099 b- defN 23-Mar-20 07:19 odoo/addons/community_maps/models/cm_filter.py
--rw-r--r--  2.0 unx      949 b- defN 23-Mar-20 07:19 odoo/addons/community_maps/models/cm_filter_group.py
--rw-r--r--  2.0 unx     2226 b- defN 23-Mar-27 14:20 odoo/addons/community_maps/models/cm_form_model.py
--rw-r--r--  2.0 unx     5898 b- defN 23-Mar-27 14:20 odoo/addons/community_maps/models/cm_form_submission.py
--rw-r--r--  2.0 unx      349 b- defN 23-Mar-20 07:20 odoo/addons/community_maps/models/cm_form_submission_metadata.py
--rw-r--r--  2.0 unx    15160 b- defN 23-Mar-27 14:20 odoo/addons/community_maps/models/cm_map.py
--rw-r--r--  2.0 unx     1444 b- defN 23-Mar-27 14:20 odoo/addons/community_maps/models/cm_map_colorschema.py
--rw-r--r--  2.0 unx      403 b- defN 23-Mar-20 07:20 odoo/addons/community_maps/models/cm_metadata.py
--rw-r--r--  2.0 unx      272 b- defN 23-Mar-20 07:21 odoo/addons/community_maps/models/cm_partner.py
--rw-r--r--  2.0 unx    26051 b- defN 23-Mar-27 14:20 odoo/addons/community_maps/models/cm_place.py
--rw-r--r--  2.0 unx     2129 b- defN 23-Mar-20 07:21 odoo/addons/community_maps/models/cm_place_category.py
--rw-r--r--  2.0 unx      283 b- defN 23-Mar-27 14:20 odoo/addons/community_maps/models/cm_place_presenter_metadata.py
--rw-r--r--  2.0 unx      613 b- defN 23-Mar-20 07:21 odoo/addons/community_maps/models/cm_presenter_model.py
--rw-r--r--  2.0 unx     1909 b- defN 23-Mar-27 14:20 odoo/addons/community_maps/models/cm_slug_id_mixin.py
--rw-r--r--  2.0 unx      663 b- defN 23-Mar-24 11:08 odoo/addons/community_maps/models/cm_utils.py
--rw-r--r--  2.0 unx     1042 b- defN 23-Mar-17 03:12 odoo/addons/community_maps/security/ir.model.access.csv
--rw-r--r--  2.0 unx       29 b- defN 23-Mar-27 14:20 odoo/addons/community_maps/services/__init__.py
--rw-r--r--  2.0 unx     8361 b- defN 23-Mar-27 14:20 odoo/addons/community_maps/services/cm_map_service.py
--rw-r--r--  2.0 unx    21929 b- defN 23-Mar-17 03:12 odoo/addons/community_maps/static/src/img/community_maps_odoo_icon.png
--rw-r--r--  2.0 unx     2206 b- defN 23-Mar-20 02:32 odoo/addons/community_maps/views/cm_filter_group.xml
--rw-r--r--  2.0 unx     2657 b- defN 23-Mar-20 02:32 odoo/addons/community_maps/views/cm_form_model.xml
--rw-r--r--  2.0 unx     4255 b- defN 23-Mar-20 04:41 odoo/addons/community_maps/views/cm_form_submission.xml
--rw-r--r--  2.0 unx     5306 b- defN 23-Mar-17 03:12 odoo/addons/community_maps/views/cm_map.xml
--rw-r--r--  2.0 unx     2122 b- defN 23-Mar-17 03:12 odoo/addons/community_maps/views/cm_map_colorschema.xml
--rw-r--r--  2.0 unx      171 b- defN 23-Mar-20 02:33 odoo/addons/community_maps/views/cm_menu_root.xml
--rw-r--r--  2.0 unx      147 b- defN 23-Mar-17 03:12 odoo/addons/community_maps/views/cm_menu_root_config.xml
--rw-r--r--  2.0 unx    10563 b- defN 23-Mar-22 03:58 odoo/addons/community_maps/views/cm_place.xml
--rw-r--r--  2.0 unx     1806 b- defN 23-Mar-20 03:40 odoo/addons/community_maps/views/cm_place_category.xml
--rw-r--r--  2.0 unx      770 b- defN 23-Mar-17 03:12 odoo/addons/community_maps/views/cm_place_presenter_metadata.xml
--rw-r--r--  2.0 unx     1718 b- defN 23-Mar-20 02:33 odoo/addons/community_maps/views/cm_presenter_model.xml
--rw-r--r--  2.0 unx      562 b- defN 23-Mar-27 14:27 odoo14_addon_community_maps-14.0.0.0.2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Mar-27 14:27 odoo14_addon_community_maps-14.0.0.0.2.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Mar-27 14:27 odoo14_addon_community_maps-14.0.0.0.2.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     4440 b- defN 23-Mar-27 14:27 odoo14_addon_community_maps-14.0.0.0.2.dist-info/RECORD
-41 files, 131116 bytes uncompressed, 47224 bytes compressed:  64.0%
+Zip file size: 56983 bytes, number of entries: 43
+-rw-r--r--  2.0 unx       93 b- defN 23-Apr-26 15:58 odoo/addons/community_maps/__init__.py
+-rw-r--r--  2.0 unx     1245 b- defN 23-May-05 09:23 odoo/addons/community_maps/__manifest__.py
+-rw-r--r--  2.0 unx       31 b- defN 23-Apr-26 15:58 odoo/addons/community_maps/controllers/__init__.py
+-rw-r--r--  2.0 unx      921 b- defN 23-Apr-26 16:00 odoo/addons/community_maps/controllers/cm_map_controller.py
+-rw-r--r--  2.0 unx      515 b- defN 23-May-02 14:52 odoo/addons/community_maps/models/__init__.py
+-rw-r--r--  2.0 unx      357 b- defN 23-Apr-28 16:47 odoo/addons/community_maps/models/cm_crowdfunding_notification.py
+-rw-r--r--  2.0 unx      351 b- defN 23-Apr-28 15:23 odoo/addons/community_maps/models/cm_crowdfunding_notification_request.py
+-rw-r--r--  2.0 unx     1649 b- defN 23-May-02 16:44 odoo/addons/community_maps/models/cm_filter.py
+-rw-r--r--  2.0 unx     1074 b- defN 23-Apr-28 16:47 odoo/addons/community_maps/models/cm_filter_group.py
+-rw-r--r--  2.0 unx     2342 b- defN 23-Apr-28 16:47 odoo/addons/community_maps/models/cm_form_model.py
+-rw-r--r--  2.0 unx     5644 b- defN 23-Apr-28 16:49 odoo/addons/community_maps/models/cm_form_submission.py
+-rw-r--r--  2.0 unx      351 b- defN 23-May-02 14:51 odoo/addons/community_maps/models/cm_form_submission_metadata.py
+-rw-r--r--  2.0 unx    15824 b- defN 23-May-02 16:16 odoo/addons/community_maps/models/cm_map.py
+-rw-r--r--  2.0 unx     1560 b- defN 23-Apr-28 16:47 odoo/addons/community_maps/models/cm_map_colorschema.py
+-rw-r--r--  2.0 unx      386 b- defN 23-Apr-26 15:58 odoo/addons/community_maps/models/cm_metadata.py
+-rw-r--r--  2.0 unx      272 b- defN 23-Apr-26 16:00 odoo/addons/community_maps/models/cm_partner.py
+-rw-r--r--  2.0 unx    28034 b- defN 23-May-02 16:51 odoo/addons/community_maps/models/cm_place.py
+-rw-r--r--  2.0 unx     2794 b- defN 23-May-02 16:35 odoo/addons/community_maps/models/cm_place_category.py
+-rw-r--r--  2.0 unx      371 b- defN 23-May-02 14:49 odoo/addons/community_maps/models/cm_place_presenter_metadata.py
+-rw-r--r--  2.0 unx      728 b- defN 23-Apr-28 16:47 odoo/addons/community_maps/models/cm_presenter_model.py
+-rw-r--r--  2.0 unx     1909 b- defN 23-Apr-28 16:47 odoo/addons/community_maps/models/cm_slug_id_mixin.py
+-rw-r--r--  2.0 unx      663 b- defN 23-Apr-26 16:00 odoo/addons/community_maps/models/cm_utils.py
+-rw-r--r--  2.0 unx     1043 b- defN 23-Apr-28 16:47 odoo/addons/community_maps/security/ir.model.access.csv
+-rw-r--r--  2.0 unx     2638 b- defN 23-Apr-28 16:47 odoo/addons/community_maps/security/rules.xml
+-rw-r--r--  2.0 unx       29 b- defN 23-Apr-26 16:00 odoo/addons/community_maps/services/__init__.py
+-rw-r--r--  2.0 unx     8339 b- defN 23-Apr-28 16:47 odoo/addons/community_maps/services/cm_map_service.py
+-rw-r--r--  2.0 unx      865 b- defN 23-Apr-26 15:58 odoo/addons/community_maps/services/cm_ping_service.py
+-rw-r--r--  2.0 unx    21929 b- defN 23-Apr-26 15:58 odoo/addons/community_maps/static/src/img/community_maps_odoo_icon.png
+-rw-r--r--  2.0 unx     2609 b- defN 23-May-02 16:42 odoo/addons/community_maps/views/cm_filter_group.xml
+-rw-r--r--  2.0 unx     2737 b- defN 23-Apr-28 16:47 odoo/addons/community_maps/views/cm_form_model.xml
+-rw-r--r--  2.0 unx     5063 b- defN 23-Apr-28 16:47 odoo/addons/community_maps/views/cm_form_submission.xml
+-rw-r--r--  2.0 unx     5922 b- defN 23-May-02 16:17 odoo/addons/community_maps/views/cm_map.xml
+-rw-r--r--  2.0 unx     2189 b- defN 23-Apr-28 16:47 odoo/addons/community_maps/views/cm_map_colorschema.xml
+-rw-r--r--  2.0 unx      171 b- defN 23-Apr-26 16:00 odoo/addons/community_maps/views/cm_menu_root.xml
+-rw-r--r--  2.0 unx      135 b- defN 23-Apr-28 16:47 odoo/addons/community_maps/views/cm_menu_root_config.xml
+-rw-r--r--  2.0 unx     8370 b- defN 23-May-02 16:15 odoo/addons/community_maps/views/cm_place.xml
+-rw-r--r--  2.0 unx     2197 b- defN 23-May-02 16:37 odoo/addons/community_maps/views/cm_place_category.xml
+-rw-r--r--  2.0 unx      770 b- defN 23-Apr-26 15:58 odoo/addons/community_maps/views/cm_place_presenter_metadata.xml
+-rw-r--r--  2.0 unx     1798 b- defN 23-Apr-28 16:47 odoo/addons/community_maps/views/cm_presenter_model.xml
+-rw-r--r--  2.0 unx      598 b- defN 23-May-05 09:24 odoo14_addon_community_maps-14.0.0.1.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-May-05 09:24 odoo14_addon_community_maps-14.0.0.1.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-May-05 09:24 odoo14_addon_community_maps-14.0.0.1.0.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     4652 b- defN 23-May-05 09:24 odoo14_addon_community_maps-14.0.0.1.0.dist-info/RECORD
+43 files, 139265 bytes uncompressed, 49137 bytes compressed:  64.7%
```

## zipnote {}

```diff
@@ -63,20 +63,26 @@
 
 Filename: odoo/addons/community_maps/models/cm_utils.py
 Comment: 
 
 Filename: odoo/addons/community_maps/security/ir.model.access.csv
 Comment: 
 
+Filename: odoo/addons/community_maps/security/rules.xml
+Comment: 
+
 Filename: odoo/addons/community_maps/services/__init__.py
 Comment: 
 
 Filename: odoo/addons/community_maps/services/cm_map_service.py
 Comment: 
 
+Filename: odoo/addons/community_maps/services/cm_ping_service.py
+Comment: 
+
 Filename: odoo/addons/community_maps/static/src/img/community_maps_odoo_icon.png
 Comment: 
 
 Filename: odoo/addons/community_maps/views/cm_filter_group.xml
 Comment: 
 
 Filename: odoo/addons/community_maps/views/cm_form_model.xml
@@ -105,20 +111,20 @@
 
 Filename: odoo/addons/community_maps/views/cm_place_presenter_metadata.xml
 Comment: 
 
 Filename: odoo/addons/community_maps/views/cm_presenter_model.xml
 Comment: 
 
-Filename: odoo14_addon_community_maps-14.0.0.0.2.dist-info/METADATA
+Filename: odoo14_addon_community_maps-14.0.0.1.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_community_maps-14.0.0.0.2.dist-info/WHEEL
+Filename: odoo14_addon_community_maps-14.0.0.1.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_community_maps-14.0.0.0.2.dist-info/top_level.txt
+Filename: odoo14_addon_community_maps-14.0.0.1.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_community_maps-14.0.0.0.2.dist-info/RECORD
+Filename: odoo14_addon_community_maps-14.0.0.1.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/community_maps/__manifest__.py

```diff
@@ -8,28 +8,30 @@
     'author': "Coopdevs Treball SCCL",
     'website': "https://gitlab.com/coopdevs/community-maps-builder-backend",
 
     # Categories can be used to filter modules in modules listing
     # Check https://github.com/odoo/odoo/blob/11.0/odoo/addons/base/module/module_data.xml
     # for the full list
     'category': 'community-maps',
-    'version': '14.0.0.0.2',
+    'version': '14.0.0.1.0',
 
     # any module necessary for this one to work correctly
     'depends': [
         'base',
         'base_rest',
         'base_rest_base_structure',
         'sale',
-        'crm'
+        'crm',
+        'metadata'
     ],
 
     # always loaded
     'data': [
         'security/ir.model.access.csv',
+        'security/rules.xml',
         'views/cm_menu_root.xml',
         'views/cm_menu_root_config.xml',
         'views/cm_map.xml',
         'views/cm_filter_group.xml',
         'views/cm_map_colorschema.xml',
         'views/cm_place.xml',
         'views/cm_place_presenter_metadata.xml',
```

## odoo/addons/community_maps/models/__init__.py

```diff
@@ -1,17 +1,16 @@
 # -*- coding: utf-8 -*-
 from . import cm_slug_id_mixin
-from . import cm_metadata
 from . import cm_presenter_model
 from . import cm_map
 from . import cm_filter
 from . import cm_filter_group
 from . import cm_map_colorschema
 from . import cm_form_model
 from . import cm_form_submission
 from . import cm_form_submission_metadata
 from . import cm_place
 from . import cm_place_category
 from . import cm_place_presenter_metadata
 from . import cm_crowdfunding_notification_request
 from . import cm_crowdfunding_notification
-from . import cm_partner
+from . import cm_partner
```

## odoo/addons/community_maps/models/cm_crowdfunding_notification.py

```diff
@@ -1,12 +1,12 @@
 from odoo import models, api, fields
 from odoo.tools.translate import _
 
 
 class CmPlaceCrowdfundingNotificationRequest(models.Model):
     _name = "cm.crowdfunding.notification"
 
-    team_id = fields.Many2one(
-        "crm.team", string=_("Place"), ondelete="cascade")
+    place_id = fields.Many2one(
+        "cm.place", string=_("Place"), ondelete="cascade")
     percentage = fields.Integer(string=_("Percentage"))
 
     _order = "percentage desc"
```

## odoo/addons/community_maps/models/cm_filter.py

```diff
@@ -6,30 +6,40 @@
     _name = "cm.filter"
 
     _inherit = ["cm.slug.id.mixin"]
 
     name = fields.Char(string=_("Name"), translate=True)
     icon = fields.Char(string=_("Icon"))
     color = fields.Char(string=_("Color"))
+    marker_color = fields.Char(string=_("Marker main color (hex)"))
+    marker_text_color = fields.Char(string=_("Marker text color (hex)"))
+    marker_bg_color = fields.Char(string=_("Marker background color (hex)"))
+    marker_border_color = fields.Char(string=_("Marker border color (hex)"))
     description = fields.Char(string=_("Description"), translate=True)
     filter_group_id = fields.Many2one("cm.filter.group", string="Filter Group")
     places_mids = fields.Many2many(
-        "crm.team",
+        "cm.place",
         "cm_places_filters",
         "filter_id",
         "place_id",
         string=_("Related places"),
     )
 
     def get_datamodel_dict(self):
         datamodel = {
             "slug": self.slug_id,
             "name": self.name,
             "iconKey": None,
             "iconColor": None,
+            "markerColor": {
+                "markerText": self.marker_text_color,
+                "markerColor": self.marker_color,
+                "markerBg": self.marker_bg_color,
+                "markerBorder": self.marker_border_color
+            },
             "description": None,
         }
         if self.icon:
             datamodel["iconKey"] = self.icon
         if self.color:
             datamodel["iconColor"] = self.color
         if self.description:
```

## odoo/addons/community_maps/models/cm_filter_group.py

```diff
@@ -3,16 +3,20 @@
 
 
 class CmFilterGroup(models.Model):
     _name = "cm.filter.group"
 
     _inherit = ["cm.slug.id.mixin"]
 
+    company_id = fields.Many2one(
+        'res.company', required=True, default=lambda self: self.env.company
+    )
     name = fields.Char(string=_("Name"), translate=True)
-    filter_ids = fields.One2many("cm.filter", "filter_group_id", string="Filters")
+    filter_ids = fields.One2many(
+        "cm.filter", "filter_group_id", string="Filters")
 
     allowed_in_map_mids = fields.Many2many(
         "cm.map",
         "cm_maps_filter_groups",
         "filter_group_id",
         "map_id",
         string=_("Allowed in maps"),
```

## odoo/addons/community_maps/models/cm_form_model.py

```diff
@@ -4,14 +4,17 @@
 
 
 class CmFormModel(models.Model):
     _name = "cm.form.model"
 
     _inherit = ["cm.slug.id.mixin"]
 
+    company_id = fields.Many2one(
+        'res.company', required=True, default=lambda self: self.env.company
+    )
     name = fields.Char(string=_("Name"))
     description = fields.Char(string=_("Description"), translate=True)
     cta_label = fields.Char(
         string=_("Open form, presenter button label"), translate=True
     )
     button_label = fields.Char(string=_("Button Label"), translate=True)
     submission_ok_message = fields.Text(
```

## odoo/addons/community_maps/models/cm_form_submission.py

```diff
@@ -3,30 +3,25 @@
 from odoo import models, api, fields
 from odoo.tools.translate import _
 from odoo.exceptions import ValidationError
 from odoo.addons.community_maps.models.cm_utils import CmUtils
 
 
 class CmFormSubmission(models.Model):
-    # _name = 'cm.form.submission'
     _inherit = "crm.lead"
 
-    team_type = fields.Char(
-        string=_("Team type"),
-        compute="_get_team_type",
-        store=True
-    )
     submission_type = fields.Selection(
         [
+            ("none", _("None")),
             ("place_submission", _("Place submission")),
             ("place_proposal_submission", _("Place proposal")),
         ],
         string=_("Submission type (maps)"),
+        default=lambda self: self.env.context.get('submission_type')
     )
-    # name = fields.Char(string=_("Name"))
     form_submission_metadata_ids = fields.One2many(
         "cm.form.submission.metadata",
         "submission_id",
         string=_("Submission metadata")
     )
     crowdfunding_type = fields.Selection(
         selection=CmUtils.get_system_crowdfunding_types_selection(),
@@ -35,104 +30,96 @@
         string=_("Crowdfunding type"),
         store=True,
     )
     shareable_url_base = fields.Char(_("Base shareable url"))
     shareable_url = fields.Char(
         _("Shareable url"), compute="_get_shareable_url", store=True
     )
+    place_id = fields.Many2one("cm.place", string=_("Place"))
 
     _order = "id desc"
 
     _sql_constraints = [
         (
             "check_probability",
             "check(probability >= 0)",
             "The probability of closing the deal should be bigger than 0%",
         )
     ]
 
     def unlink(self):
         for record in self:
-            related_proposal_teams = self.env["crm.team"].search(
+            related_proposal_places = self.env["cm.place"].search(
                 [("proposal_form_submission_id", "=", record.id)]
             )
-            if record.team_id or related_proposal_teams:
+            if record.place_id or related_proposal_places:
                 raise ValidationError(
                     _(
-                        "You can't delete. Some Teams relate on this info. Archive instead."
+                        "You can't delete. Some Places relate on this info. Archive instead."
                     )
                 )
             return super(CmFormSubmission, record).unlink()
 
-    @api.depends("team_id")
+    @api.depends("place_id")
     def _get_crowdfunding_type(self):
         for record in self:
             try:
-                crowdfunding_type = record.team_id.map_id.crowdfunding_type
+                crowdfunding_type = record.place_id.map_id.crowdfunding_type
             except:
                 crowdfunding_type = False
             record.crowdfunding_type = crowdfunding_type
 
-    @api.depends("team_id")
-    def _get_team_type(self):
-        for record in self:
-            try:
-                team_type = record.team_id.team_type
-            except:
-                team_type = False
-            record.team_type = team_type
-
     @api.depends("shareable_url_base")
     def _get_shareable_url(self):
         for record in self:
             try:
-                place_slug = record.team_id.slug_id
+                place_slug = record.place_id.slug_id
             except:
                 place_slug = False
             if record.shareable_url_base and place_slug:
                 record.shareable_url = (
                     record.shareable_url_base + "?mapPlace=" + place_slug
                 )
 
     @api.constrains("expected_revenue")
     def constrain_revenue(self):
         for record in self:
-            if record.team_id:
-                record.team_id._get_total_committed_invoicing()
-                record.team_id._get_completed_percentage()
+            if record.place_id:
+                record.place_id._get_total_committed_invoicing()
+                record.place_id._get_completed_percentage()
             record.recompute_probability()
             self._crowdfunding_notify_if_must()
 
-    @api.constrains("team_id")
-    def contrain_team_id(self):
+    @api.constrains("place_id")
+    def contrain_place_id(self):
         for record in self:
             record.recompute_probability()
         self._crowdfunding_notify_if_must()
 
     def recompute_probability(self):
-        if self.team_id:
-            for submission in self.team_id.form_submission_ids:
+        if self.place_id:
+            for submission in self.place_id.form_submission_ids:
                 submission.update_probability()
         else:
             submissions = self.env["crm.lead"].search(
-                [("team_type", "=", "map_place")])
+                [("submission_type", "=", "place_submission")])
             if submissions:
                 for submission in submissions:
                     submission.update_probability()
         self.update_probability()  # TODO: check if this line needed
 
     def update_probability(self):
         probability = 0
-        if self.team_id:
-            probability = self.team_id.completed_percentage
+        if self.place_id:
+            probability = self.place_id.completed_percentage
         self.write({"probability": probability})
 
     def _crowdfunding_notify_if_must(self):
-        if self.team_id:
-            self.team_id.crowdfunding_notify_if_must()
+        if self.place_id:
+            self.place_id.crowdfunding_notify_if_must()
 
     def create_submission_metadata(self, data, fields_map=False):
         model_update_dict = {}
         for key in data:
             if key != "address":
                 # metadata
                 metadata = {
```

## odoo/addons/community_maps/models/cm_form_submission_metadata.py

```diff
@@ -1,12 +1,12 @@
 from odoo import models, api, fields
 from odoo.tools.translate import _
 
 
 class CmFormSubmissionMetadata(models.Model):
     _name = "cm.form.submission.metadata"
-    _inherit = "cm.metadata"
+    _inherit = 'metadata.line'
 
     submission_id = fields.Many2one(
         "crm.lead", string=_("Submission"), ondelete="cascade"
     )
     mapped_to = fields.Char(string=_("Mapped to"))
```

## odoo/addons/community_maps/models/cm_map.py

```diff
@@ -6,14 +6,18 @@
 
 
 class CmMap(models.Model):
     _name = "cm.map"
 
     _inherit = ["cm.slug.id.mixin"]
 
+    active = fields.Boolean(string=_("Active"), default=True)
+    company_id = fields.Many2one(
+        'res.company', required=True, default=lambda self: self.env.company
+    )
     name = fields.Char(string=_("Name"))
     colorschema_id = fields.Many2one(
         "cm.map.colorschema", string=_("Color schema"))
     allowed_form_model_mids = fields.Many2many(
         "cm.form.model",
         "cm_maps_form_models",
         "map_id",
@@ -37,15 +41,15 @@
     allowed_filter_group_mids = fields.Many2many(
         "cm.filter.group",
         "cm_maps_filter_groups",
         "map_id",
         "filter_group_id",
         string=_("Allowed custom filters"),
     )
-    place_ids = fields.One2many("crm.team", "map_id", string=_("Places"))
+    place_ids = fields.One2many("cm.place", "map_id", string=_("Places"))
     crowdfunding_type = fields.Selection(
         selection=CmUtils.get_system_crowdfunding_types_selection(),
         default="none",
         required=True,
         string=_("Crowdfunding type"),
     )
     tile_style = fields.Char(string=_("Tile style"))
@@ -115,14 +119,19 @@
             'It will be used when place interaction method is set to "External link"'
         ),
         translate=True,
     )
     # Initial center
     lat_default = fields.Char(string=_("Default Latitude"))
     lng_default = fields.Char(string=_("Default Longitude"))
+    # CRM team for submission creation
+    crm_team_id = fields.Many2one(
+        'crm.team',
+        string=_("CRM Team for place submissions (leads)")
+    )
 
     # TODO: add constrains to not allow map creation without categories and presenters.
     @api.constrains(
         "allow_filter_by_crowdfunding",
         "crowdfunding_type",
         "show_progress_on_marker"
     )
@@ -168,15 +177,15 @@
             "proposalFormStepAddressLabel": self.proposal_form_subtitle_step_address,
             "proposalFormStepFormLabel": self.proposal_form_subtitle_step_form,
         }
 
     def get_places_datamodel_dict(self):
         places = []
         for place in self.place_ids:
-            if place.status == "published" and place.team_type == "map_place":
+            if place.status == "published" and place.type == "place":
                 places.append(place.get_datamodel_dict())
         return places
 
     def _get_theme_datamodel_dict(self):
         return {
             "color": self.colorschema_id.get_datamodel_dict(),
             "tileStyle": self.tile_style,
@@ -283,33 +292,35 @@
         return categories
 
     # Form Submission
     def submit_place_proposal(self, data, category):
         # place creation
         place_creation_data = {
             "name": self.name + " (Place proposal)",
-            "team_type": "map_place_proposal",
+            "type": "place_proposal",
             "map_id": self.id,
             "place_category_id": category.id,
-            "user_id": self.env.user.id,
+            "company_id": self.company_id.id
         }
         if "address" in data.keys():
             if "latitude" in data["address"].keys():
                 place_creation_data["lat"] = data["address"]["latitude"]
             if "longitude" in data["address"].keys():
                 place_creation_data["lng"] = data["address"]["longitude"]
             if "address" in data["address"].keys():
                 place_creation_data["address_txt"] = data["address"]["address"]
-        place = self.env["crm.team"].create(place_creation_data)
+        place = self.env["cm.place"].create(place_creation_data)
         place.message_subscribe([self.env.user.partner_id.id])
         #  submission creation
         submission_creation_data = {
             "name": self.name + " (Place Proposal Submission)",
             "submission_type": "place_proposal_submission",
-            "team_id": place.id,
+            "place_id": place.id,
+            "team_id": self.crm_team_id.id,
+            "company_id": self.crm_team_id.company_id.id
         }
         # shareable url base
         shareable_url_base = data.get("shareable_url_base", False)
         if shareable_url_base:
             submission_creation_data["shareable_url_base"] = shareable_url_base
         submission = self.env["crm.lead"].create(submission_creation_data)
         submission.write({"name": submission.name + " #" + str(submission.id)})
@@ -378,7 +389,16 @@
             try:
                 mail_template = (
                     record.proposal_form_model_id.submission_ok_email_template_id
                 )
             except:
                 mail_template = False
             record.submission_ok_email_template_id = mail_template.id
+
+    # ACTIONS
+    def archive_workflow_action(self):
+        for record in self:
+            record.write({'active': False})
+
+    def unarchive_workflow_action(self):
+        for record in self:
+            record.write({'active': True})
```

## odoo/addons/community_maps/models/cm_map_colorschema.py

```diff
@@ -1,14 +1,17 @@
 from odoo import models, api, fields
 from odoo.tools.translate import _
 
 
 class CmMapColorschema(models.Model):
     _name = "cm.map.colorschema"
 
+    company_id = fields.Many2one(
+        'res.company', required=True, default=lambda self: self.env.company
+    )
     name = fields.Char(string=_("Name"))
     color_text_base = fields.Char(string=_("Text Base [color]"))
     color_fill = fields.Char(string=_("Fill [color]"))
     color_border = fields.Char(string=_("Border [color]"))
     color_button = fields.Char(string=_("Button [color]"))
     color_button_hover = fields.Char(string=_("Button [hover color]"))
     color_button_text = fields.Char(string=_("Button Text [color]"))
```

## odoo/addons/community_maps/models/cm_metadata.py

```diff
@@ -1,14 +1,13 @@
 from odoo import models, api, fields
 from odoo.tools.translate import _
 
-
 class CMetadata(models.Model):
-    _name = "cm.metadata"
+  _name = 'cm.metadata'
 
-    type = fields.Char(string=_("Type"))
-    format = fields.Char(string=_("Format"))
-    key = fields.Char(string=_("Key"))
-    value = fields.Char(string=_("Value"), translate=True)
-    sort_order = fields.Integer(string=_("Sort order"))
+  type = fields.Char(string=_("Type"))
+  format = fields.Char(string=_("Format"))
+  key = fields.Char(string=_("Key"))
+  value = fields.Char(string=_("Value"),translate=True)
+  sort_order = fields.Integer(string=_("Sort order"))
 
-    _order = "sort_order asc"
+  _order = "sort_order asc"
```

## odoo/addons/community_maps/models/cm_place.py

```diff
@@ -3,17 +3,17 @@
 from odoo import models, api, fields
 from odoo.tools.translate import _
 from odoo.addons.community_maps.models.cm_utils import CmUtils
 from odoo.exceptions import ValidationError
 
 
 class CmPlace(models.Model):
-    _name = 'crm.team'
+    _name = 'cm.place'
 
-    _inherit = ["crm.team", "cm.slug.id.mixin", "mail.thread"]
+    _inherit = ["cm.slug.id.mixin", "mail.thread"]
 
     _labeled_meta_formats = ['uri', 'progress']
 
     # TODO: How to manage this in a better
     _color_schema = {
         'brand': {
             'text': 'text-brand-button',
@@ -65,14 +65,23 @@
             'border': 'border-neutral-800',
             'bg': 'bg-neutral-400'
         },
     }
 
     _order = "id desc"
 
+    name = fields.Char(string=_("Name"), required=True)
+    active = fields.Boolean(string=_("Active"), default=True)
+    company_id = fields.Many2one(
+        'res.company', required=True, default=lambda self: self.env.company
+    )
+    type = fields.Selection([
+        ('place', _("Place")),
+        ('place_proposal', _("Place proposal"))
+    ], string=_("Type"), default=lambda self: self.env.context.get('type'))
     lat = fields.Char(string=_("Latitude"))
     lng = fields.Char(string=_("Longitude"))
     status = fields.Selection(selection=[
         ('draft', 'Draft'),
         ('published', 'Published')
     ], default='draft', required=True, string=_("Status"))
     map_id = fields.Many2one('cm.map', string=_("Related map"))
@@ -81,27 +90,22 @@
         'cm.place.category', string=_("Category"))
     presenter_model_id = fields.Many2one(
         'cm.presenter.model', string=_("Presenter"))
     place_presenter_metadata_ids = fields.One2many(
         'cm.place.presenter.metadata',
         'place_id',
         string=_("Presenter metadata"))
-    team_type = fields.Selection(selection=[
-        ('sales_team', _("Sales team")),
-        ('map_place', _("Map Place")),
-        ('map_place_proposal', _("Map Place Proposal"))
-    ], default='sales_team', required=True, string=_("Type"))
     crowdfunding_type = fields.Selection(
         selection=CmUtils.get_system_crowdfunding_types_selection(),
         string=_("Crowdfunding type"),
         compute="_get_crowdfunding_type",
         store=True)
     form_submission_ids = fields.One2many(
         'crm.lead',
-        'team_id',
+        'place_id',
         string=_("Submissions"),
         domain=[('submission_type', '=', 'place_submission')]
     )
     completed_percentage = fields.Integer(
         string=_("% Completed"),
         compute="_get_completed_percentage",
         store=True)
@@ -112,14 +116,17 @@
     submissions_target = fields.Integer(string=_("Submission target"))
     has_active_service = fields.Boolean(string=_("Place with active service"))
     address_txt = fields.Char(string=_("Address text"))
     allow_filter_by_status = fields.Boolean(
         string=_('"Active" filter'),
         compute="_get_allow_filter_by_status",
         store=True)
+    invoiced_target = fields.Float(
+        string=_("Invoicing target")
+    )
     total_committed_invoicing = fields.Float(
         string=_("Total amount commited (invoicing)"),
         compute="_get_total_committed_invoicing",
         store=True)
     total_committed_submissions = fields.Float(
         string=_("Total amount commited (submissions)"),
         compute="_get_total_committed_submissions",
@@ -135,62 +142,52 @@
     submission_ok_email_template_id = fields.Many2one(
         'mail.template',
         compute='_get_submission_ok_email_template_id',
         string=_("Successful email template"),
         store=True)
     crowdfunding_notification_ids = fields.One2many(
         'cm.crowdfunding.notification',
-        'team_id',
+        'place_id',
         string=_("Notifications"))
     filter_mids = fields.Many2many(
         'cm.filter',
-        'cm_places_filters', 'place_id', 'filter_id', string=_("Custom filters"))
+        'cm_places_filters',
+        'place_id',
+        'filter_id',
+        string=_("Custom filters")
+    )
     # Interaction method
     interaction_method = fields.Selection(selection=[
         ('none', _('None')),
         ('form', _('Form')),
         ('external_link', _('External link')),
     ], default='form', required=True, string=_("Interaction method"))
     external_link_url = fields.Char(
         string=_("External link URL"), translate=True)
     external_link_target = fields.Selection(selection=[
         ('_blank', _('Open in a new tab')),
         ('_top', _('Open in the same page'))
     ], default='_blank', required=True, string=_("Target link"))
 
+    def _get_context_place_type(self):
+        for record in self:
+            record.type = self.env.context.type
+
     # system
     def unlink(self):
         for record in self:
             form_submission_ids = self.env['crm.lead'].search(
-                [('team_id', '=', record.id)])
+                [('place_id', '=', record.id)])
             if form_submission_ids or record.proposal_form_submission_id:
                 raise ValidationError(
-                    _("You can't delete. Some submissions relate on this info. Archive instead."))
+                    _("You can't delete. Some submissions relate on \
+                    this info. Archive instead.")
+                )
             super(CmPlace, record).unlink()
 
-    @api.constrains('team_type')
-    def _setup_crm_defaults_for_map_team_type(self):
-        for record in self:
-            if record.team_type in ['map_place', 'map_place_proposal']:
-                data = {
-                    'use_opportunities': True,
-                    'use_quotations': True,
-                    'use_leads': True
-                }
-                # TODO review impact of this field
-                # if record.crowdfunding_type == 'invoicing_amount':
-                # data['use_invoices'] = True
-                record.write(data)
-
-    @api.constrains('user_id')
-    def _add_team_leader_as_follower(self):
-        for record in self:
-            if record.user_id:
-                self.message_subscribe([self.user_id.partner_id.id])
-
     @api.constrains('invoiced_target')
     def _recompute_place_progress(self):
         for record in self:
             self._get_total_committed_invoicing()
             self._get_completed_percentage()
             for submission in self.form_submission_ids:
                 submission.update_probability()
@@ -203,82 +200,139 @@
                 for submission in record.form_submission_ids:
                     total += submission.expected_revenue
             record.total_committed_invoicing = total
 
     @api.depends('form_submission_ids')
     def _get_total_committed_submissions(self):
         for record in self:
-            record.total_committed_submissions = len(record.form_submission_ids.filtered(
-                lambda submission: submission.submission_type == 'place_submission'))
+            record.total_committed_submissions = len(
+                record.form_submission_ids.filtered(
+                    lambda submission: submission.submission_type ==
+                    'place_submission'
+                )
+            )
 
     @api.depends('form_submission_ids')
     def _get_completed_percentage(self):
         for record in self:
-            if record.crowdfunding_type == 'invoicing_amount' and record.invoiced_target:
+            if (
+                record.crowdfunding_type == 'invoicing_amount' and
+                record.invoiced_target
+            ):
                 record.completed_percentage = int(
-                    record.total_committed_invoicing/record.invoiced_target*100)
-            if record.crowdfunding_type == 'submission_amount' and record.submissions_target:
+                    record.total_committed_invoicing/record.invoiced_target*100
+                )
+            if (
+                record.crowdfunding_type == 'submission_amount' and
+                record.submissions_target
+            ):
                 record.completed_percentage = int(
-                    record.total_committed_submissions/record.submissions_target*100)
+                    record.total_committed_submissions/record.submissions_target*100
+                )
 
     @api.depends('form_submission_ids')
     def _get_completed_percentage_live(self):
         for record in self:
-            if record.crowdfunding_type == 'invoicing_amount' and record.invoiced_target:
+            if (
+                record.crowdfunding_type == 'invoicing_amount' and
+                record.invoiced_target
+            ):
                 record._get_total_committed_invoicing()
                 record.completed_percentage_live = int(
-                    record.total_committed_invoicing/record.invoiced_target*100)
-            if record.crowdfunding_type == 'submission_amount' and record.submissions_target:
+                    record.total_committed_invoicing/record.invoiced_target*100
+                )
+            if (
+                record.crowdfunding_type == 'submission_amount' and
+                record.submissions_target
+            ):
                 record._get_total_committed_submissions()
                 record.completed_percentage_live = int(
-                    record.total_committed_submissions/record.submissions_target*100)
+                    record.total_committed_submissions/record.submissions_target*100
+                )
 
     @api.depends('map_id')
     def _get_crowdfunding_type(self):
         for record in self:
             if record.map_id:
                 record.crowdfunding_type = record.map_id.crowdfunding_type
 
     @api.depends('map_id')
     def _get_allow_filter_by_status(self):
         for record in self:
             if record.map_id:
-                record.allow_filter_by_status = record.map_id.allow_filter_by_status
+                record.allow_filter_by_status = \
+                    record.map_id.allow_filter_by_status
 
     # place config preselection
     @api.onchange('map_id')
     def _get_config_relations_attrs(self):
         self.ensure_one()
         allowed_form_model_ids = self.map_id.allowed_form_model_mids
         allowed_place_category_ids = self.map_id.allowed_place_category_mids
         allowed_presenter_model_ids = self.map_id.allowed_presenter_model_mids
-        allowed_filter_group_mids = self.map_id.allowed_filter_group_mids
+        allowed_filter_group_mids_map =  \
+            self.map_id.allowed_filter_group_mids.mapped(
+                lambda r: r.filter_ids.mapped('id'))
+        allowed_filter_group_mids = []
+        for filter_group in allowed_filter_group_mids_map:
+            allowed_filter_group_mids += filter_group
         return_dict = {
             'domain': {
-                'form_model_id': [('id', 'in', allowed_form_model_ids.mapped('id'))],
-                'place_category_id': [('id', 'in', allowed_place_category_ids.mapped('id'))],
-                'presenter_model_id': [('id', 'in', allowed_presenter_model_ids.mapped('id'))],
-                'filter_mids': [('id', 'in', allowed_filter_group_mids.filter_ids.mapped('id'))]
+                'form_model_id': [
+                    ('id', 'in', allowed_form_model_ids.mapped('id'))
+                ],
+                'place_category_id': [
+                    ('id', 'in', allowed_place_category_ids.mapped('id'))
+                ],
+                'presenter_model_id': [
+                    ('id', 'in', allowed_presenter_model_ids.mapped('id'))
+                ],
+                'filter_mids': [
+                    (
+                        'id',
+                        'in',
+                        allowed_filter_group_mids
+                    )
+                ]
             }
         }
         if allowed_form_model_ids:
             self.form_model_id = allowed_form_model_ids[0].id
         if allowed_place_category_ids:
             self.place_category_id = allowed_place_category_ids[0].id
         if allowed_presenter_model_ids:
             self.presenter_model_id = allowed_presenter_model_ids[0].id
         return return_dict
 
     # PRESENTER
-    def _get_create_place_meta(self, key, type, format, sort_order, place_id, dataschema, uischema):
+    def _get_create_place_meta(
+        self,
+        key,
+        type,
+        format,
+        sort_order,
+        place_id,
+        dataschema,
+        uischema
+    ):
         return self._get_create_place_meta_dmodel(
             'cm.place.presenter.metadata',
             key, type, format, sort_order, place_id, dataschema, uischema)
 
-    def _get_create_place_meta_dmodel(self, model, key, type, format, sort_order, place_id, dataschema, uischema):
+    def _get_create_place_meta_dmodel(
+        self,
+        model,
+        key,
+        type,
+        format,
+        sort_order,
+        place_id,
+        dataschema,
+        uischema
+    ):
         creation_data = {
             'type': type,
             'key': key,
             'format': format,
             'sort_order': sort_order,
             'place_id': place_id
         }
@@ -308,44 +362,55 @@
             self.env[model],
             query,
             creation_data
         )
 
     def _get_schema_meta_label_from_key(self, element, key):
         meta_key = key.replace('.label', '')
-        if element['scope'] == '#/properties/'+meta_key and "label" in element.keys():
+        if (
+            element['scope'] == '#/properties/'+meta_key and
+            "label" in element.keys()
+        ):
             return element['label']
         return False
 
     # public method to be called from erppeek after import
     def build_presenter_metadata_ids(self):
         self._build_presenter_metadata_ids()
         return True
 
     @api.onchange('presenter_model_id')
-    def _build_presenter_metadata_ids(self, presenter_model_relation='presenter_model_id', metas_relation='place_presenter_metadata_ids'):
+    def _build_presenter_metadata_ids(
+        self,
+        presenter_model_relation='presenter_model_id',
+        metas_relation='place_presenter_metadata_ids'
+    ):
         self.ensure_one()
         try:
             place_id = self._origin.id
-        except:
+        except Exception:
             place_id = self.id
         place_presenter_metadata_ids = []
         presenter_model_id = getattr(self, presenter_model_relation)
         if presenter_model_id:
             presenter_json_schema = json.loads(presenter_model_id.json_schema)
             presenter_json_dataschema = json.loads(
                 presenter_model_id.json_dataschema)
             presenter_json_uischema = json.loads(
                 presenter_model_id.json_uischema)
             current_meta_ids = []
             sort_order = 0
             for meta_key in presenter_json_schema['properties'].keys():
                 meta_format = ''
-                if 'format' in presenter_json_schema['properties'][meta_key].keys():
-                    meta_format = presenter_json_schema['properties'][meta_key]['format']
+                if (
+                    'format' in
+                    presenter_json_schema['properties'][meta_key].keys()
+                ):
+                    meta_format = \
+                        presenter_json_schema['properties'][meta_key]['format']
                 if meta_format in self._labeled_meta_formats:
                     place_meta = self._get_create_place_meta(
                         meta_key+'.label',
                         'string',
                         meta_format+'.label',
                         sort_order,
                         place_id,
@@ -383,15 +448,15 @@
     def _build_base_datamodel(self):
         place_dict = {
             'name': self.name,
             'slug': self.slug_id,
             'map_slug': self.map_id.slug_id,
             'category_slug': self.place_category_id.slug_id,
             'category_data': self._get_category_data_datamodel_dict(),
-            'category_': self.place_category_id.name,
+            'category': self.place_category_id.name,
             'interaction_method': self.interaction_method,
             'form_slug': None,
             'external_link_url': None,
             'external_link_target': None,
             'external_link_cta_txt': None,
             'filters': self._get_filters_datamodel_dict(),
             'filters_data': self._get_filters_data_datamodel_dict(),
@@ -411,77 +476,98 @@
                 completed_percentage_return = self.completed_percentage
             place_dict['goalProgress'] = completed_percentage_return
         if self.interaction_method == 'form' and self.form_model_id:
             place_dict['form_slug'] = self.form_model_id.slug_id
         elif self.interaction_method == 'external_link':
             place_dict['external_link_url'] = self.external_link_url
             place_dict['external_link_target'] = self.external_link_target
-            place_dict['external_link_cta_txt'] = self.map_id.external_link_cta_txt
+            place_dict['external_link_cta_txt'] = \
+                self.map_id.external_link_cta_txt
         return place_dict
 
     def _get_filters_datamodel_dict(self):
         filters = []
         for filter in self.filter_mids:
             filters.append(filter.slug_id)
-        if not filters:
-            return False
         return filters
 
     def _get_filters_data_datamodel_dict(self):
         filters = []
         for filter in self.filter_mids:
             filters.append({
                 'title': filter.name,
+                'group': filter.filter_group_id.slug_id,
                 'icon_class': filter.icon.replace('_', '-'),
-                'color': self._color_schema[filter.color]
+                'color': self._color_schema[filter.color],
+                "markerColor": {
+                    "markerText": filter.marker_text_color,
+                    "markerColor": filter.marker_color,
+                    "markerBg": filter.marker_bg_color,
+                    "markerBorder": filter.marker_border_color
+                }
             })
-        if not filters:
-            return False
         return filters
 
     def _get_category_data_datamodel_dict(self):
         return {
             'title': self.place_category_id.name,
             'icon_class': self.place_category_id.icon.replace('_', '-'),
-            'color': self._color_schema[self.place_category_id.color]
+            'color': self._color_schema[self.place_category_id.color],
+            "markerColor": {
+                "markerText": self.place_category_id.marker_text_color,
+                "markerColor": self.place_category_id.marker_color,
+                "markerBg": self.place_category_id.marker_bg_color,
+                "markerBorder": self.place_category_id.marker_border_color
+            }
         }
 
     def _build_presenter_schemadata_json(self, presenter_model_relation='presenter_model_id', metas_relation='place_presenter_metadata_ids'):
         presenter_model_id = getattr(self, presenter_model_relation)
         if presenter_model_id:
             presenter_schemadata_dict = {}
             presenter_json_schema = json.loads(presenter_model_id.json_schema)
             for meta_key in presenter_json_schema['properties'].keys():
-                if presenter_json_schema['properties'][meta_key]['format'] == 'progress':
+                if (
+                    presenter_json_schema['properties'][meta_key]['format'] ==
+                    'progress'
+                ):
                     if self.completed_percentage > 100:
                         completed_percentage_return = 100
                     else:
                         completed_percentage_return = self.completed_percentage
-                    presenter_schemadata_dict['progress'] = completed_percentage_return
+                    presenter_schemadata_dict['progress'] = \
+                        completed_percentage_return
                 else:
                     place_meta_ids = getattr(self, metas_relation)
                     place_meta = place_meta_ids.filtered(
                         lambda r: r.key == meta_key)
                     if place_meta:
                         if place_meta[0].value:
                             meta_val_template = Template(place_meta[0].value)
-                            presenter_schemadata_dict[meta_key] = meta_val_template.render(
-                                self._build_base_datamodel())
+                            presenter_schemadata_dict[meta_key] = \
+                                meta_val_template.render(
+                                    self._build_base_datamodel())
                         else:
                             presenter_schemadata_dict[meta_key] = None
             return presenter_schemadata_dict
         return False
 
-    def _build_presenter_schema_json(self, presenter_model_relation='presenter_model_id'):
+    def _build_presenter_schema_json(
+        self,
+        presenter_model_relation='presenter_model_id'
+    ):
         presenter_model_id = getattr(self, presenter_model_relation)
         if presenter_model_id:
             return json.loads(presenter_model_id.json_schema)
         return False
 
-    def _build_presenter_uischema_json(self, presenter_model_relation='presenter_model_id'):
+    def _build_presenter_uischema_json(
+        self,
+        presenter_model_relation='presenter_model_id'
+    ):
         presenter_model_id = getattr(self, presenter_model_relation)
         if presenter_model_id:
             presenter_json_schema = json.loads(presenter_model_id.json_schema)
             presenter_json_uischema = json.loads(
                 presenter_model_id.json_uischema)
             for element in presenter_json_uischema['elements']:
                 if element['type'] == 'Links':
@@ -521,15 +607,15 @@
             place_dict['uiSchema'] = self._build_presenter_uischema_json()
         return place_dict
 
     # UI actions
     def accept_place_proposal_workflow_action(self):
         # TODO: Do we mark the lead as won?!?
         for record in self:
-            record.write({'team_type': 'map_place'})
+            record.write({'type': 'place'})
 
     def publish_place_workflow_action(self):
         for record in self:
             record.write({'status': 'published'})
 
     def unpublish_place_workflow_action(self):
         for record in self:
@@ -537,29 +623,32 @@
 
     # Form Submission
     def submit_place_form(self, data, submission_fields_map=False):
         # Submission creation
         submission = self.env['crm.lead'].create({
             'name': self.name + " (Place Submission)",
             'submission_type': 'place_submission',
+            'place_id': self.id,
+            'team_id': self.map_id.crm_team_id.id,
+            'company_id': self.map_id.company_id.id
         })
         # Shareable_url
         first_overwrite = {}
         try:
             shareable_url_base = data['shareable_url_base']
-        except:
+        except Exception:
             shareable_url_base = False
         if shareable_url_base:
             first_overwrite['shareable_url_base'] = shareable_url_base
-        # Force team_id after everything happens on crm lead creation.
-        first_overwrite['team_id'] = self.id
+        # Force place_id after everything happens on crm lead creation.
+#         first_overwrite['place_id'] = self.id
         # First overwrite
         submission.write(first_overwrite)
         # Metadata creation
-        if(submission_fields_map):
+        if submission_fields_map:
             fields_map = submission_fields_map
         else:
             fields_map = self.form_model_id.json_submission_fields_map
         submission.create_submission_metadata(
             data=data,
             fields_map=fields_map
         )
@@ -580,44 +669,55 @@
             subtype_id=None
         )
         return submission
 
     def crowdfunding_notify_if_must(self):
         for request in self.map_id.crowdfunding_notification_request_ids:
             if self.completed_percentage >= request.percentage:
-                existing_notification = self.env['cm.crowdfunding.notification'].search([
-                    ('team_id', '=', self.id),
-                    ('percentage', '=', request.percentage)
-                ])
+                existing_notification = \
+                    self.env['cm.crowdfunding.notification'].search([
+                        ('place_id', '=', self.id),
+                        ('percentage', '=', request.percentage)
+                    ])
                 if existing_notification:
                     return False
                 else:
                     self.message_post(
                         subject=self.name+" notification",
                         body="Place reached percentage: %s" % self.completed_percentage,
                         message_type="comment",
                         subtype_id=None
                     )
-                    notification = self.env['cm.crowdfunding.notification'].create({
-                        'team_id': self.id,
+                    self.env['cm.crowdfunding.notification'].create({
+                        'place_id': self.id,
                         'percentage': request.percentage
                     })
                     return True
         return False
 
     @api.depends('form_model_id')
     def _get_submission_ok_message(self):
         for record in self:
             try:
                 ok_message = record.form_model_id.submission_ok_message
-            except:
+            except Exception:
                 ok_message = False
             record.submission_ok_message = ok_message
 
     @api.depends('form_model_id')
     def _get_submission_ok_email_template_id(self):
         for record in self:
             try:
-                email_template = record.form_model_id.submission_ok_email_template_id
-            except:
+                email_template = \
+                    record.form_model_id.submission_ok_email_template_id
+            except Exception:
                 email_template = False
             record.submission_ok_email_template_id = email_template.id
+
+    # ACTIONS
+    def archive_workflow_action(self):
+        for record in self:
+            record.write({'active': False})
+
+    def unarchive_workflow_action(self):
+        for record in self:
+            record.write({'active': True})
```

## odoo/addons/community_maps/models/cm_place_category.py

```diff
@@ -3,14 +3,17 @@
 
 
 class CmPlaceCategory(models.Model):
     _name = "cm.place.category"
 
     _inherit = ["cm.slug.id.mixin"]
 
+    company_id = fields.Many2one(
+        'res.company', required=True, default=lambda self: self.env.company
+    )
     name = fields.Char(string=_("Name"), translate=True)
     icon = fields.Char(string=_("Icon"))
     color = fields.Char(string=_("Color"))
     description = fields.Char(string=_("Description"), translate=True)
     proposal_form_model_id = fields.Many2one(
         "cm.form.model", string=_("Proposal submission form")
     )
@@ -28,22 +31,32 @@
     )
     submission_ok_email_template_id = fields.Many2one(
         "mail.template",
         compute="_get_submission_ok_email_template_id",
         string=_("Successful email template"),
         store=False,
     )
+    marker_color = fields.Char(string=_("Marker main color (hex)"))
+    marker_text_color = fields.Char(string=_("Marker text color (hex)"))
+    marker_bg_color = fields.Char(string=_("Marker background color (hex)"))
+    marker_border_color = fields.Char(string=_("Marker border color (hex)"))
 
     def get_datamodel_dict(self):
         datamodel = {
             "slug": self.slug_id,
             "name": self.name,
             "iconKey": self.icon,
             "iconColor": self.color,
             "description": None,
+            "markerColor": {
+                "markerText": self.marker_text_color,
+                "markerColor": self.marker_color,
+                "markerBg": self.marker_bg_color,
+                "markerBorder": self.marker_border_color
+            }
         }
         if self.description:
             datamodel["description"] = self.description
         return datamodel
 
     @api.depends("proposal_form_model_id")
     def _get_submission_ok_message(self):
```

## odoo/addons/community_maps/models/cm_place_presenter_metadata.py

```diff
@@ -1,10 +1,12 @@
 from odoo import models, api, fields
 from odoo.tools.translate import _
 
 
 class CmPlacePresenterMetadata(models.Model):
     _name = "cm.place.presenter.metadata"
-    _inherit = "cm.metadata"
+    _inherit = 'metadata.line'
 
     place_id = fields.Many2one(
-        "crm.team", string=_("Place"), ondelete="cascade")
+        "cm.place", string=_("Place"), ondelete="cascade")
+    type = fields.Char(string=_("Type"))
+    format = fields.Char(string=_("Format"))
```

## odoo/addons/community_maps/models/cm_presenter_model.py

```diff
@@ -1,16 +1,18 @@
 from odoo import models, api, fields
 from odoo.tools.translate import _
 
 
 class CmPresenterModel(models.Model):
     _name = "cm.presenter.model"
 
+    company_id = fields.Many2one(
+        'res.company', required=True, default=lambda self: self.env.company
+    )
     name = fields.Char(string=_("Name"))
-
     allowed_in_map_mids = fields.Many2many(
         "cm.map",
         "cm_maps_presenter_models",
         "presenter_model_id",
         "map_id",
         string=_("Allowed in maps"),
     )
```

## odoo/addons/community_maps/models/cm_slug_id_mixin.py

```diff
@@ -1,15 +1,15 @@
 from slugify import slugify
 from odoo import api, fields, models
 from odoo.tools.translate import _
 from odoo.exceptions import ValidationError
 
 
 class CmSlugIdMixin(models.AbstractModel):
-    _slug_models = ["cm.form.model", "cm.place.category", "crm.team", "cm.map"]
+    _slug_models = ["cm.form.model", "cm.place.category", "cm.place", "cm.map"]
 
     _name = "cm.slug.id.mixin"
     _description = "Slug ID Mixin"
 
     # do not access directly, always use get_api_external_id method
     slug_id = fields.Char(string="External slug ID")
```

## odoo/addons/community_maps/security/ir.model.access.csv

```diff
@@ -1,13 +1,13 @@
 id,name,model_id:id,group_id:id,perm_read,perm_write,perm_create,perm_unlink
 access_cm_map,cm.map,model_cm_map,,1,1,1,1
 access_cm_map_colorschema,cm.map.colorschema,model_cm_map_colorschema,,1,1,1,1
-access_cm_place,cm.place,model_crm_team,,1,1,1,1
+access_cm_place,cm.place,model_cm_place,,1,1,1,1
 access_cm_place_category,cm.place.category,model_cm_place_category,,1,1,1,1
 access_cm_form_model,cm.form.model,model_cm_form_model,,1,1,1,1
 access_cm_place_presenter_metadata,cm.place.presenter.metadata,model_cm_place_presenter_metadata,,1,1,1,1
 access_cm_form_submission_metadata,cm.form.submission.metadata,model_cm_form_submission_metadata,,1,1,1,1
 access_cm_presenter_model,cm.presenter.model,model_cm_presenter_model,,1,1,1,1
 access_cm_crowdfunding_notification_request,cm.crowdfunding.notification.request,model_cm_crowdfunding_notification_request,,1,1,1,1
 access_cm_crowdfunding_notification,cm.crowdfunding.notification,model_cm_crowdfunding_notification,,1,1,1,1
 access_cm_filter_group,cm.filter.group,model_cm_filter_group,,1,1,1,1
-access_cm_filter,cm.filter,model_cm_filter,,1,1,1,1
+access_cm_filter,cm.filter,model_cm_filter,,1,1,1,1
```

## odoo/addons/community_maps/services/cm_map_service.py

```diff
@@ -89,18 +89,18 @@
 
     def _forms_submission(
         self,
         place_slug,
         params,
         submission_fields_map=False
     ):
-        place_records = self.env["crm.team"].search(
+        place_records = self.env["cm.place"].search(
             [
                 ("slug_id", "=", place_slug),
-                ("team_type", "in", ["map_place", "map_place_proposal"]),
+                ("type", "in", ["place", "place_proposal"]),
             ]
         )
         if place_records:
             place_record = place_records[0]
             # shareable
             if "mapUrl" in params.keys():
                 params["data"]["shareable_url_base"] = params["mapUrl"]
@@ -171,18 +171,18 @@
                         {"message": _(
                             "More than one map found for %s") % _map_slug}
                     ),
                     status=404,
                     content_type="application/json",
                 )
             if _place_slug:
-                place_record = self.env["crm.team"].search(
+                place_record = self.env["cm.place"].search(
                     [
                         ("slug_id", "=", _place_slug),
-                        ("team_type", "=", "map_place"),
+                        ("type", "=", "place"),
                         ("status", "=", "published"),
                     ]
                 )
                 if place_record:
                     try:
                         place_record.ensure_one()
                     except (Exception):
```

## odoo/addons/community_maps/views/cm_filter_group.xml

### odoo/addons/community_maps/views/cm_filter_group.xml

```diff
@@ -22,30 +22,35 @@
       <field name="type">form</field>
       <field name="arch" type="xml">
         <form>
           <sheet>
             <notebook>
               <page string="General">
                 <group>
+                  <field name="company_id" groups="base.group_multi_company"/>
                   <field name="name" attrs="{'required': True}"/>
                   <field name="slug_id" attrs="{'required': True}"/>
                   <field name="filter_ids" widget="one2many_list">
                     <tree>
                       <field name="name"/>
                       <field name="slug_id"/>
                       <field name="icon"/>
                       <field name="color"/>
                       <field name="description"/>
                     </tree>
                     <form>
                       <group>
                         <field name="name" required="True"/>
                         <field name="slug_id" required="True"/>
-                        <field name="icon"/>
-                        <field name="color"/>
+                        <field name="icon" required="True"/>
+                        <field name="color" required="True"/>
+                        <field name="marker_color" required="True"/>
+                        <field name="marker_text_color" required="True"/>
+                        <field name="marker_bg_color" required="True"/>
+                        <field name="marker_border_color" required="True"/>
                         <field name="description"/>
                       </group>
                     </form>
                   </field>
                   <field name="allowed_in_map_mids" readonly="True"/>
                 </group>
               </page>
```

## odoo/addons/community_maps/views/cm_form_model.xml

### odoo/addons/community_maps/views/cm_form_model.xml

```diff
@@ -22,14 +22,15 @@
       <field name="type">form</field>
       <field name="arch" type="xml">
         <form>
           <sheet>
             <notebook>
               <page string="General">
                 <group>
+                  <field name="company_id" groups="base.group_multi_company"/>
                   <field name="name" attrs="{'required': True}"/>
                   <field name="description"/>
                   <field name="slug_id" attrs="{'required': True}"/>
                   <field name="cta_label" attrs="{'required': True}"/>
                   <field name="button_label" attrs="{'required': True}"/>
                   <field name="generate_submission_in_proposal"/>
                   <field name="submission_ok_message" attrs="{'required': True}"/>
```

## odoo/addons/community_maps/views/cm_form_submission.xml

### odoo/addons/community_maps/views/cm_form_submission.xml

```diff
@@ -2,33 +2,48 @@
 <odoo>
   <data>
     <record id="view_cm_place_submission_window" model="ir.actions.act_window">
       <field name="name">Place Submissions</field>
       <field name="res_model">crm.lead</field>
       <field name="view_mode">tree,form</field>
       <field name="domain">[('submission_type','=','place_submission')]</field>
+      <field name="context">{
+        'submission_type':'place_submission'
+      }</field>
     </record>
     <record id="view_cm_place_proposal_submission_window" model="ir.actions.act_window">
       <field name="name">Place Proposals Submissions</field>
       <field name="res_model">crm.lead</field>
       <field name="view_mode">tree,form</field>
       <field name="domain">[('submission_type','=','place_proposal_submission')]</field>
+      <field name="context">{
+        'submission_type':'place_proposal_submission'
+      }</field>
     </record>
     <record id="view_cm_form_submission_tree" model="ir.ui.view">
       <field name="name">cm.form_submission.tree</field>
       <field name="model">crm.lead</field>
       <field name="inherit_id" ref="crm.crm_case_tree_view_oppor"/>
       <field name="arch" type="xml">
         <xpath expr="//field[@name='country_id']" position="attributes">
           <attribute name="invisible">True</attribute>
         </xpath>
-      </field>
-      <field name="arch" type="xml">
+        <xpath expr="//field[@name='company_id']" position="attributes">
+          <attribute name="invisible">True</attribute>
+        </xpath>
+        <xpath expr="//field[@name='activity_ids']" position="attributes">
+          <attribute name="invisible">True</attribute>
+        </xpath>
+        <xpath expr="//field[@name='team_id']" position="attributes">
+          <attribute name="invisible">True</attribute>
+        </xpath>
+        <xpath expr="//field[@name='activity_date_deadline_my']" position="attributes">
+          <attribute name="invisible">True</attribute>
+        </xpath>
         <xpath expr="//field[@name='team_id']" position="after">
-          <field name="team_type"/>
           <field name="submission_type"/>
         </xpath>
       </field>
     </record>
     <record id="view_cm_form_submission_form" model="ir.ui.view">
       <field name="name">cm.form.submission.form</field>
       <field name="model">crm.lead</field>
@@ -41,36 +56,35 @@
           <attribute name='invisible'>[('submission_type','=','map_proposal')]</attribute>
         </xpath> -->
         <xpath expr="//field[@name='name']" position="before">
           <h4 attrs="{'invisible': [('submission_type', '!=', 'place_submission')]}">Place Submission</h4>
           <h4 attrs="{'invisible': [('submission_type', '!=', 'place_proposal_submission')]}">Place Proposal</h4>
         </xpath>
         <xpath expr="//field[@name='team_id']" position="replace">
+          <field name="type"/>
           <field name="team_id"/>
-          <field name="shareable_url_base" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}"/>
-          <field name="shareable_url" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}"/>
-        </xpath>
-        <xpath expr="//field[@name='team_id']" position="after">
-          <field name="team_type" attrs="{'invisible': [('team_id', '=', False)]}"/>
-          <field name="submission_type" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}"/>
-          <field name="crowdfunding_type" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}"/>
+          <field name="submission_type" required="True"/>
+          <field name="place_id" attrs="{               'required': [('submission_type', 'in', ['place_submission','place_proposal_submission'])],               'invisible': [('submission_type', 'not in', ['place_submission','place_proposal_submission'])]             }"/>
+          <field name="crowdfunding_type" attrs="{'invisible': [('submission_type', 'not in', ['place_submission','place_proposal_submission'])]}"/>
+          <field name="shareable_url_base" attrs="{'invisible': [('submission_type', 'not in', ['place_submission','place_proposal_submission'])]}"/>
+          <field name="shareable_url" attrs="{'invisible': [('submission_type', 'not in', ['place_submission','place_proposal_submission'])]}"/>
         </xpath>
         <xpath expr="//notebook" position="inside">
-          <page name="submission_metadata" string="Submission metadata" attrs="{'invisible': [('submission_type', '=', False)]}">
+          <page name="submission_metadata" string="Submission metadata" attrs="{'invisible': [('submission_type', '=', 'none')]}">
             <group>
               <field name="form_submission_metadata_ids" widget="one2many_list">
                 <tree create="false" edit="true" delete="false" open="false" editable="top">
                   <field name="key" readonly="True"/>
                   <field name="value" readonly="True"/>
                   <field name="mapped_to" readonly="True"/>
                 </tree>
               </field>
             </group>
           </page>
         </xpath>
       </field>
     </record>
-    <menuitem name="Submissions" id="community_maps.form_submission_menu_root" parent="community_maps.menu_root" sequence="4"/>
-    <menuitem name="Place Submissions" id="community_maps.place_submission" parent="form_submission_menu_root" action="view_cm_place_submission_window" sequence="1"/>
-    <menuitem name="Place Proposals" id="community_maps.place_proposal_submission" parent="form_submission_menu_root" action="view_cm_place_proposal_submission_window" sequence="2"/>
+    <menuitem name="Submissions" id="community_maps.form_submission_menu_root" parent="community_maps.menu_root"/>
+    <menuitem name="Place Submissions" id="community_maps.place_submission" parent="form_submission_menu_root" action="view_cm_place_submission_window"/>
+    <menuitem name="Place Proposals" id="community_maps.place_proposal_submission" parent="form_submission_menu_root" action="view_cm_place_proposal_submission_window"/>
   </data>
 </odoo>
```

## odoo/addons/community_maps/views/cm_map.xml

### odoo/addons/community_maps/views/cm_map.xml

```diff
@@ -21,18 +21,26 @@
     </record>
     <record id="view_map_form" model="ir.ui.view">
       <field name="name">cm.map.form</field>
       <field name="model">cm.map</field>
       <field name="type">form</field>
       <field name="arch" type="xml">
         <form>
+          <field name="active" invisible="True"/>
+          <header>
+            <button name="archive_workflow_action" type="object" string="Archive" attrs="{'invisible': [('active','=',False)]}"/>
+            <button name="unarchive_workflow_action" type="object" string="Unarchive" attrs="{'invisible': [('active','=',True)]}"/>
+          </header>
           <sheet>
+            <widget name="web_ribbon" title="Archived" bg_color="bg-danger" attrs="{'invisible': [('active', '=', True)]}"/>
             <notebook>
               <page string="General">
                 <group>
+                  <field name="company_id" groups="base.group_multi_company"/>
+                  <field name="crm_team_id" attrs="{'required': True}"/>
                   <field name="name" attrs="{'required': True}"/>
                   <field name="slug_id" attrs="{'required': True}"/>
                   <field name="crowdfunding_type" attrs="{'required': True}"/>
                   <field name="colorschema_id" attrs="{'required': True}"/>
                   <field name="tile_style" attrs="{'required': True}"/>
                 </group>
                 <group>
@@ -116,10 +124,10 @@
                 </group>
               </page>
             </notebook>
           </sheet>
         </form>
       </field>
     </record>
-    <menuitem name="Maps" id="community_maps.map" parent="community_maps.menu_root" action="view_map_window" sequence="1"/>
+    <menuitem name="Maps" id="community_maps.map" parent="community_maps.menu_root" action="view_map_window"/>
   </data>
 </odoo>
```

## odoo/addons/community_maps/views/cm_map_colorschema.xml

### odoo/addons/community_maps/views/cm_map_colorschema.xml

```diff
@@ -21,14 +21,15 @@
       <field name="type">form</field>
       <field name="arch" type="xml">
         <form>
           <sheet>
             <notebook>
               <page string="General">
                 <group string="Main">
+                  <field name="company_id" groups="base.group_multi_company"/>
                   <field name="name" attrs="{'required': True}"/>
                 </group>
                 <group string="Color Schema">
                   <field name="color_text_base" attrs="{'required': True}"/>
                   <field name="color_fill" attrs="{'required': True}"/>
                   <field name="color_border" attrs="{'required': True}"/>
                   <field name="color_button" attrs="{'required': True}"/>
@@ -40,10 +41,10 @@
                 </group>
               </page>
             </notebook>
           </sheet>
         </form>
       </field>
     </record>
-    <menuitem name="Map color schemas" id="community_maps.map_colorschema" parent="community_maps.config_menu_root" action="view_map_colorschema_window" sequence="1"/>
+    <menuitem name="Map color schemas" id="community_maps.map_colorschema" parent="community_maps.config_menu_root" action="view_map_colorschema_window"/>
   </data>
 </odoo>
```

## odoo/addons/community_maps/views/cm_menu_root_config.xml

### odoo/addons/community_maps/views/cm_menu_root_config.xml

```diff
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="utf-8"?>
 <odoo>
   <data>
-    <menuitem name="Config" id="community_maps.config_menu_root" parent="community_maps.menu_root" sequence="5"/>
+    <menuitem name="Config" id="community_maps.config_menu_root" parent="community_maps.menu_root"/>
   </data>
 </odoo>
```

## odoo/addons/community_maps/views/cm_place.xml

### odoo/addons/community_maps/views/cm_place.xml

```diff
@@ -1,149 +1,147 @@
 <?xml version="1.0" encoding="utf-8"?>
 <odoo>
   <data>
     <record id="view_place_window" model="ir.actions.act_window">
       <field name="name">Places</field>
-      <field name="res_model">crm.team</field>
+      <field name="res_model">cm.place</field>
       <field name="view_mode">tree,form</field>
       <field name="context">{
-        'default_team_type':'map_place'
+        'type':'place'
       }</field>
-      <field name="domain">[('team_type','=','map_place')]</field>
+      <field name="domain">[('type','=','place')]</field>
     </record>
     <record id="view_place_proposal_window" model="ir.actions.act_window">
       <field name="name">Place proposals</field>
-      <field name="res_model">crm.team</field>
+      <field name="res_model">cm.place</field>
       <field name="view_mode">tree,form</field>
       <field name="context">{
-        'default_team_type':'map_place_proposal'
+        'type':'place_proposal'
       }</field>
-      <field name="domain">[('team_type','=','map_place_proposal')]</field>
+      <field name="domain">[('type','=','place_proposal')]</field>
     </record>
     <!-- TODO: Tree and Form view. invisible attr is always true. Why?! -->
-    <record id="view_place_tree" model="ir.ui.view">
-      <field name="name">cm.place.tree</field>
-      <field name="model">crm.team</field>
-      <field name="inherit_id" ref="sales_team.crm_team_view_tree"/>
+    <record id="view_places_tree" model="ir.ui.view">
+      <field name="name">cm.places.tree</field>
+      <field name="model">cm.place</field>
       <field name="arch" type="xml">
-        <xpath expr="//tree" position="replace">
-          <tree>
-            <field name="active" invisible="1"/>
-            <field name="team_type"/>
-            <field name="name"/>
-            <field name="status" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}"/>
-            <field name="map_id" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}"/>
-            <field name="slug_id" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}"/>
-            <field name="lat" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}"/>
-            <field name="lng" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}"/>
-            <field name="place_category_id" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}"/>
-            <field name="presenter_model_id" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}"/>
-            <field name="form_model_id" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}"/>
-            <field name="crowdfunding_type" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}"/>
-            <field name="completed_percentage" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}"/>
-            <field name="total_committed_invoicing" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}"/>
-            <field name="total_committed_submissions" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}"/>
-          </tree>
-        </xpath>
+        <tree>
+          <field name="active" invisible="1"/>
+          <field name="name"/>
+          <field name="status"/>
+          <field name="company_id" groups="base.group_multi_company"/>
+          <field name="map_id"/>
+          <field name="slug_id"/>
+          <field name="lat"/>
+          <field name="lng"/>
+          <field name="place_category_id"/>
+          <field name="presenter_model_id"/>
+          <field name="form_model_id"/>
+          <field name="crowdfunding_type"/>
+          <field name="completed_percentage"/>
+          <field name="total_committed_invoicing"/>
+          <field name="total_committed_submissions"/>
+        </tree>
       </field>
     </record>
-    <record id="view_place_form" model="ir.ui.view">
-      <field name="name">cm.place.form</field>
-      <field name="model">crm.team</field>
+    <record id="view_places_form" model="ir.ui.view">
+      <field name="name">cm.places.form</field>
+      <field name="model">cm.place</field>
       <field name="type">form</field>
-      <field name="inherit_id" ref="sales_team.crm_team_view_form"/>
       <field name="arch" type="xml">
-        <xpath expr="//field[@name='name']" position="before">
-          <h4 style="color:green;" attrs="{'invisible': ['|',('team_type', '!=', 'map_place'),('status','!=','published')]}">Published place</h4>
-          <h4 style="color:orange;" attrs="{'invisible': ['|',('team_type', '!=', 'map_place'),('status','!=','draft')]}">Draft Place</h4>
-          <h4 style="color:red;" attrs="{'invisible': [('team_type', '!=', 'map_place_proposal')]}">Place Proposal</h4>
-          <field name="team_type" invisible="1"/>
-        </xpath>
-        <xpath expr="//label[@for='alias_name']" attrs="{'invisible': [('team_type','in',['map_place','map_place_proposal'])]}"/>
-        <xpath expr="//div[@name='alias_def']" attrs="{'invisible': [('team_type','in',['map_place','map_place_proposal'])]}"/>
-        <xpath expr="//field[@name='alias_contact']" attrs="{'invisible': [('team_type','in',['map_place','map_place_proposal'])]}"/>
-        <xpath expr="//page[@name='members']" attrs="{'invisible': [('team_type','in',['map_place','map_place_proposal'])]}"/>
-        <xpath expr="//sheet" position="before">
+        <form>
+          <field name="active" invisible="True"/>
+          <field name="type" invisible="True"/>
           <header>
-            <button name="accept_place_proposal_workflow_action" type="object" string="Convert to place" confirm="Are you sure?" attrs="{'invisible': [('team_type','!=','map_place_proposal')]}"/>
-            <button name="publish_place_workflow_action" type="object" string="Publish" attrs="{'invisible': ['|',('team_type','!=','map_place'),('status','!=','draft')]}"/>
-            <button name="unpublish_place_workflow_action" type="object" string="Unpublish" attrs="{'invisible': ['|',('team_type','!=','map_place'),('status','!=','published')]}"/>
-            <field name="status" widget="statusbar" attrs="{'invisible': [('team_type', '!=','map_place')]}"/>
+            <button name="accept_place_proposal_workflow_action" type="object" string="Convert to place" confirm="Are you sure?" attrs="{'invisible': [('type','!=','place_proposal')]}"/>
+            <button name="publish_place_workflow_action" type="object" string="Publish" attrs="{'invisible': ['|',('type','!=','place'),('status','!=','draft')]}"/>
+            <button name="unpublish_place_workflow_action" type="object" string="Unpublish" attrs="{'invisible': ['|',('type','!=','place'),('status','!=','published')]}"/>
+            <button name="archive_workflow_action" type="object" string="Archive" attrs="{'invisible': [('active','=',False)]}"/>
+            <button name="unarchive_workflow_action" type="object" string="Unarchive" attrs="{'invisible': [('active','=',True)]}"/>
+            <field name="status" widget="statusbar" attrs="{'invisible': [('type', '!=','place')]}"/>
           </header>
-        </xpath>
-        <xpath expr="//notebook" position="before">
-          <group string="Data" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}">
-            <field name="map_id" options="{'no_create': True, 'no_create_edit': True}" attrs="{'required': [('team_type', 'in', ['map_place','map_place_proposal'])]}"/>
-            <field name="slug_id" attrs="{'required': [('team_type', 'in', ['map_place','map_place_proposal'])]}"/>
-            <field name="allow_filter_by_status" invisible="True"/>
-            <field name="has_active_service" attrs="{'invisible': [('allow_filter_by_status', '=', False)]}"/>
-            <field name="address_txt"/>
-            <field name="lat" attrs="{'required': [('team_type', 'in', ['map_place','map_place_proposal'])]}"/>
-            <field name="lng" attrs="{'required': [('team_type', 'in', ['map_place','map_place_proposal'])]}"/>
-            <field name="place_category_id" options="{'no_create': True, 'no_create_edit': True}" attrs="{'invisible': [('map_id', '=', False)],'required': [('team_type', 'in', ['map_place','map_place_proposal'])]}"/>
-            <field name="filter_mids" widget="many2many_list" attrs="{'invisible': [('map_id', '=', False)],'required': [('team_type', 'in', ['map_place','map_place_proposal'])]}">
-              <tree create="true" edit="false" delete="true" open="false">
-                <field name="name"/>
-                <field name="slug_id"/>
-                <field name="filter_group_id"/>
-              </tree>
-            </field>
-            <field name="presenter_model_id" options="{'no_create': True, 'no_create_edit': True}" attrs="{'invisible': [('map_id', '=', False)],'required': [('team_type', 'in', ['map_place','map_place_proposal'])]}"/>
-            <field name="interaction_method" required="True" attrs="{'invisible': [('map_id', '=', False)]}"/>
-            <field name="external_link_url" attrs="{'invisible': [('interaction_method', '!=', 'external_link')], 'required': [('interaction_method', '=', 'link')]}"/>
-            <field name="external_link_target" attrs="{'invisible': [('interaction_method', '!=', 'external_link')], 'required': [('interaction_method', '=', 'link')]}"/>
-            <field name="form_model_id" attrs="{'invisible': [('interaction_method', '!=', 'form')]}"/>
-          </group>
-          <group string="Crowdfunding" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}">
-            <field name="crowdfunding_type"/>
-            <field name="completed_percentage" attrs="{'invisible': ['|',('team_type', 'not in', ['map_place','map_place_proposal']),('crowdfunding_type','=','none')]}"/>
-            <field name="invoiced_target" attrs="{'invisible': [('crowdfunding_type', '!=', 'invoicing_amount')],'required': True}"/>
-            <field name="submissions_target" attrs="{'invisible': [('crowdfunding_type', '!=', 'submission_amount')],'required': True}"/>
-            <field name="total_committed_invoicing" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}"/>
-            <field name="total_committed_submissions" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}"/>
-          </group>
-        </xpath>
-        <xpath expr="//page[@name='members']" position="after">
-          <page id="presenterMetas" string="Presenter" attrs="{'invisible': ['|',('presenter_model_id', '=', False),('team_type', 'not in', ['map_place','map_place_proposal'])]}">
+          <sheet>
+            <h4 style="color:green;" attrs="{'invisible': ['|',('type', '!=', 'place'),('status','!=','published')]}">Published place</h4>
+            <h4 style="color:orange;" attrs="{'invisible': ['|',('type', '!=', 'place'),('status','!=','draft')]}">Draft Place</h4>
+            <h4 style="color:red;" attrs="{'invisible': [('type', '!=', 'place_proposal')]}">Place Proposal</h4>
+            <widget name="web_ribbon" title="Archived" bg_color="bg-danger" attrs="{'invisible': [('active', '=', True)]}"/>
             <group>
-              <field name="place_presenter_metadata_ids" widget="one2many_list">
-                <tree create="false" edit="true" delete="false" open="false" editable="top">
-                  <field name="key" readonly="True"/>
-                  <field name="type" readonly="True"/>
-                  <field name="format" readonly="True"/>
-                  <field name="value"/>
-                </tree>
-              </field>
-            </group>
-          </page>
-          <page string="Form Submissions" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}">
-            <group>
-              <field name="form_submission_ids" widget="one2many_list">
-                <tree>
-                  <field name="create_date"/>
+              <field name="company_id" groups="base.group_multi_company"/>
+              <field name="name"/>
+              <field name="map_id" options="{'no_create': True, 'no_create_edit': True}" required="True"/>
+              <field name="slug_id" required="True"/>
+              <field name="allow_filter_by_status" invisible="True"/>
+              <field name="has_active_service" attrs="{'invisible': [('allow_filter_by_status', '=', False)]}"/>
+              <field name="address_txt"/>
+              <field name="lat" required="True"/>
+              <field name="lng" required="True"/>
+              <field name="place_category_id" options="{'no_create': True, 'no_create_edit': True}" attrs="{'invisible': [('map_id', '=', False)]}" required="True"/>
+              <field name="filter_mids" widget="many2many_list" attrs="{'invisible': [('map_id', '=', False)]}" required="True">
+                <tree create="true" edit="false" delete="true" open="false">
                   <field name="name"/>
-                  <field name="submission_type"/>
-                </tree>
-              </field>
-            </group>
-          </page>
-          <page string="Proposal Data" attrs="{'invisible': [('team_type', 'not in', ['map_place','map_place_proposal'])]}">
-            <group>
-              <field name="proposal_form_submission_id"/>
-            </group>
-          </page>
-          <page string="Admin notifications">
-            <group>
-              <field name="crowdfunding_notification_ids" widget="one2many_list" readonly="True">
-                <tree create="true" edit="true" delete="true" open="false" editable="top">
-                  <field name="percentage"/>
+                  <field name="slug_id"/>
+                  <field name="filter_group_id"/>
                 </tree>
               </field>
+              <field name="presenter_model_id" options="{'no_create': True, 'no_create_edit': True}" attrs="{'invisible': [('map_id', '=', False)]}" required="True"/>
+              <field name="interaction_method" required="True" attrs="{'invisible': [('map_id', '=', False)]}"/>
+              <field name="external_link_url" attrs="{'invisible': [('interaction_method', '!=', 'external_link')], 'required': [('interaction_method', '=', 'link')]}"/>
+              <field name="external_link_target" attrs="{'invisible': [('interaction_method', '!=', 'external_link')], 'required': [('interaction_method', '=', 'link')]}"/>
+              <field name="form_model_id" attrs="{'invisible': [('interaction_method', '!=', 'form')]}"/>
             </group>
-          </page>
-        </xpath>
+            <notebook>
+              <page string="Crowdfunding">
+                <group>
+                  <field name="crowdfunding_type"/>
+                  <field name="completed_percentage" attrs="{'invisible': [('crowdfunding_type','=','none')]}"/>
+                  <field name="invoiced_target" attrs="{'invisible': [('crowdfunding_type', '!=', 'invoicing_amount')]}" required="True"/>
+                  <field name="submissions_target" attrs="{'invisible': [('crowdfunding_type', '!=', 'submission_amount')]}" required="True"/>
+                  <field name="total_committed_invoicing"/>
+                  <field name="total_committed_submissions"/>
+                </group>
+              </page>
+              <page id="presenterMetas" string="Presenter" attrs="{'invisible': [('presenter_model_id', '=', False)]}">
+                <group>
+                  <field name="place_presenter_metadata_ids" widget="one2many_list">
+                    <tree create="false" edit="true" delete="false" open="false" editable="top">
+                      <field name="key" readonly="True"/>
+                      <field name="type" readonly="True"/>
+                      <field name="format" readonly="True"/>
+                      <field name="value"/>
+                    </tree>
+                  </field>
+                </group>
+              </page>
+              <page string="Form Submissions" attrs="{'invisible': [('interaction_method', '=','none')]}">
+                <group>
+                  <field name="form_submission_ids" widget="one2many_list">
+                    <tree create="false" edit="false" delete="false" open="true">
+                      <field name="create_date"/>
+                      <field name="name"/>
+                      <field name="submission_type"/>
+                    </tree>
+                  </field>
+                </group>
+              </page>
+              <page string="Admin notifications">
+                <group>
+                  <field name="crowdfunding_notification_ids" widget="one2many_list" readonly="True">
+                    <tree create="true" edit="true" delete="true" open="false" editable="top">
+                      <field name="percentage"/>
+                    </tree>
+                  </field>
+                </group>
+              </page>
+              <page string="Proposal Data">
+                <group>
+                  <field name="proposal_form_submission_id"/>
+                </group>
+              </page>
+            </notebook>
+          </sheet>
+        </form>
       </field>
     </record>
-    <menuitem name="Places" id="community_maps.place" parent="community_maps.menu_root" action="view_place_window" sequence="2"/>
-    <menuitem name="Place proposals" id="community_maps.place_proposal" parent="community_maps.menu_root" action="view_place_proposal_window" sequence="3"/>
+    <menuitem name="Places" id="community_maps.place" parent="community_maps.menu_root" action="view_place_window"/>
+    <menuitem name="Place proposals" id="community_maps.place_proposal" parent="community_maps.menu_root" action="view_place_proposal_window"/>
   </data>
 </odoo>
```

## odoo/addons/community_maps/views/cm_place_category.xml

### odoo/addons/community_maps/views/cm_place_category.xml

```diff
@@ -25,18 +25,23 @@
       <field name="type">form</field>
       <field name="arch" type="xml">
         <form>
           <sheet>
             <notebook>
               <page string="General">
                 <group>
+                  <field name="company_id" groups="base.group_multi_company"/>
                   <field name="name" attrs="{'required': True}"/>
                   <field name="slug_id" attrs="{'required': True}"/>
                   <field name="icon" attrs="{'required': True}"/>
                   <field name="color" attrs="{'required': True}"/>
+                  <field name="marker_color" attrs="{'required': True}"/>
+                  <field name="marker_text_color" attrs="{'required': True}"/>
+                  <field name="marker_bg_color" attrs="{'required': True}"/>
+                  <field name="marker_border_color" attrs="{'required': True}"/>
                   <field name="description"/>
                   <field name="proposal_form_model_id"/>
                   <field name="allowed_in_map_mids" readonly="True"/>
                 </group>
               </page>
             </notebook>
           </sheet>
```

## odoo/addons/community_maps/views/cm_presenter_model.xml

### odoo/addons/community_maps/views/cm_presenter_model.xml

```diff
@@ -21,14 +21,15 @@
       <field name="type">form</field>
       <field name="arch" type="xml">
         <form>
           <sheet>
             <notebook>
               <page string="General">
                 <group>
+                  <field name="company_id" groups="base.group_multi_company"/>
                   <field name="name" attrs="{'required': True}"/>
                   <field name="allowed_in_map_mids" readonly="True"/>
                 </group>
               </page>
               <page string="Form Json Schema">
                 <group>
                   <field name="json_dataschema" attrs="{'required': True}"/>
```

## Comparing `odoo14_addon_community_maps-14.0.0.0.2.dist-info/METADATA` & `odoo14_addon_community_maps-14.0.0.1.0.dist-info/METADATA`

 * *Files 14% similar despite different names*

```diff
@@ -1,19 +1,19 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-community-maps
-Version: 14.0.0.0.2
+Version: 14.0.0.1.0
 Summary: Module to create and manage your map visualizations into a website
 Home-page: https://gitlab.com/coopdevs/community-maps-builder-backend
 Author: Coopdevs Treball SCCL
 License: UNKNOWN
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
 Classifier: Framework :: Odoo
 Classifier: Framework :: Odoo :: 14.0
 Requires-Python: >=3.6
 Requires-Dist: odoo14-addon-base-rest
 Requires-Dist: odoo14-addon-base-rest-base-structure
+Requires-Dist: odoo14-addon-metadata
 Requires-Dist: odoo (<14.1dev,>=14.0a)
 
 UNKNOWN
 
-
```

## Comparing `odoo14_addon_community_maps-14.0.0.0.2.dist-info/RECORD` & `odoo14_addon_community_maps-14.0.0.1.0.dist-info/RECORD`

 * *Files 12% similar despite different names*

```diff
@@ -1,41 +1,43 @@
 odoo/addons/community_maps/__init__.py,sha256=3nGI3V9zOH6q-rWD_R9VOZFLyXJ6KebRFVv5L4svmPY,93
-odoo/addons/community_maps/__manifest__.py,sha256=gYbVPqJ4wLvjAf0Z-zPq6L_7O-LTH6RU8rIax5FDjG8,1195
+odoo/addons/community_maps/__manifest__.py,sha256=Yj7dx7qIhzq0x1mWFat1Ro-_PR1nNlqLsjZDoATXuQI,1245
 odoo/addons/community_maps/controllers/__init__.py,sha256=EgzGpIyBpj4QL8npS96b6ChvC6RDsG8reHawYSBpoCc,31
 odoo/addons/community_maps/controllers/cm_map_controller.py,sha256=33gpY-Ja7iKrwHN0H1zi3lnUPzfV0NlLeE2ThP1ukbc,921
-odoo/addons/community_maps/models/__init__.py,sha256=dZmJnY0eDoxelIphtDXAIpRqTuUkHdATuVO0T-jWFF8,540
-odoo/addons/community_maps/models/cm_crowdfunding_notification.py,sha256=rf2GmUCxFsUIccx69DqTbq1UPbBDOre0XKCsCItF5r8,356
+odoo/addons/community_maps/models/__init__.py,sha256=OFjoyUH6p7v7vSuCCi9yCinQCOJkR9KMe7YdE9cWd-c,515
+odoo/addons/community_maps/models/cm_crowdfunding_notification.py,sha256=bMWy3tZj0EZ2fV3rEDLDJ2HfbeQ6LT8bQ-J4OwSSZm0,357
 odoo/addons/community_maps/models/cm_crowdfunding_notification_request.py,sha256=W7k3MwfUUEzpwUBjSMWq_m_gqsAAZiUgMT8f2kt2Z2Q,351
-odoo/addons/community_maps/models/cm_filter.py,sha256=xr1OyxMj3nV4rnzZNfHn6Tnps49lJ2ZOgCLclZ0HF60,1099
-odoo/addons/community_maps/models/cm_filter_group.py,sha256=imI_XlENmesvM63xk0ycVtW6__yGDwYOotXhZkIPiMY,949
-odoo/addons/community_maps/models/cm_form_model.py,sha256=DoLRqXqpxaGN2A5yi8moM_egf8p7XXa1bZnKbEFIWCE,2226
-odoo/addons/community_maps/models/cm_form_submission.py,sha256=5k4RGXyS-mFphXxgSxZe9zppRK6Yg1VDHiXYv7WPT6g,5898
-odoo/addons/community_maps/models/cm_form_submission_metadata.py,sha256=p9sABynhiRKreB6ZGiew4WzV5sTLTXpBeGUaadeeL_A,349
-odoo/addons/community_maps/models/cm_map.py,sha256=haFWFOaug1IHri3L97NjScQgMuUQ9yZ2mVM5vA436qE,15160
-odoo/addons/community_maps/models/cm_map_colorschema.py,sha256=XlhruoCvg5iPoXiI307N-3qu02Q2uW0DD0-pAu-ttqY,1444
-odoo/addons/community_maps/models/cm_metadata.py,sha256=-AvSmO9IkTlSQlPUxJOUxMWQrnsZ9BYm6zqeOpYyF64,403
+odoo/addons/community_maps/models/cm_filter.py,sha256=sqvd9igmQiuieZfxWvGpCoD65FrW6CyGqMGqAKlx1jo,1649
+odoo/addons/community_maps/models/cm_filter_group.py,sha256=e7HyuJhh7EDNV0g_0xQ-F1FiZcjg9kKxUT4UVP832ic,1074
+odoo/addons/community_maps/models/cm_form_model.py,sha256=Y3cUN3rWwvPPfE1zaS2aZfJhjCRMW8HEKl0SXdYqKs0,2342
+odoo/addons/community_maps/models/cm_form_submission.py,sha256=t8_Hydx4Z2M5efbKQVFPECiLB0p5OUm8Iz-g6euzix4,5644
+odoo/addons/community_maps/models/cm_form_submission_metadata.py,sha256=XiPDdwsTAFRhVM675XcP_7vLpp0efPy6j8YNMb2XmNU,351
+odoo/addons/community_maps/models/cm_map.py,sha256=d3quFBZWlaPwHgdT9IaNNed0sMb3sVKmoaDogtKUx0M,15824
+odoo/addons/community_maps/models/cm_map_colorschema.py,sha256=O1BCj8P5CujIeUzagRspARVG9MQuH_f1n8vKdPEhJK0,1560
+odoo/addons/community_maps/models/cm_metadata.py,sha256=Xe4mOq1Zl2ru8_4Cpss0BKk1wvAy99MYThi8n0kX5L8,386
 odoo/addons/community_maps/models/cm_partner.py,sha256=o8GJgQoYr0Gvnftepkyor3vhGJCBCfzYg7rNYLAyGf4,272
-odoo/addons/community_maps/models/cm_place.py,sha256=yt2FpXjSxkUMp61Q7rLAMaz4QVq8y5OIE3LpN-8mhAQ,26051
-odoo/addons/community_maps/models/cm_place_category.py,sha256=PFCESGwr41tKt9Grd1heiQAV079tqGmqL6Te32unznU,2129
-odoo/addons/community_maps/models/cm_place_presenter_metadata.py,sha256=nPp9lLbsuMt-153BxmjJ2x_Pe57u1Glok1CDgxgR7lI,283
-odoo/addons/community_maps/models/cm_presenter_model.py,sha256=m2Jps_R6k7BPsHQrd1THNKkAvoxYBukbf-qmzj14YVc,613
-odoo/addons/community_maps/models/cm_slug_id_mixin.py,sha256=-KLXJwVZgVKtoEeSzDx9Gk5Y3pmY13Xyr39Ev24ICYU,1909
+odoo/addons/community_maps/models/cm_place.py,sha256=KylHdfQZWWuT5IZPEtowFtosIKJLQFgc2HBYlYi5Yd4,28034
+odoo/addons/community_maps/models/cm_place_category.py,sha256=xUHCzvArSQ6q8Xth0KtATO6HpmNwvsvUon3-TqcAsxk,2794
+odoo/addons/community_maps/models/cm_place_presenter_metadata.py,sha256=QpRppeTafEZYTU24rPIVHzBlOGsOQ8lvY1DSuVibcPA,371
+odoo/addons/community_maps/models/cm_presenter_model.py,sha256=U5ZEXwHFMNtOOE2ELoHOe9GmV5kFHWYdXQhcG_kTlJY,728
+odoo/addons/community_maps/models/cm_slug_id_mixin.py,sha256=Zxt2QlTKaxu-9YC2ywboU64LhPA90kTF84T9DLgJseE,1909
 odoo/addons/community_maps/models/cm_utils.py,sha256=rnuQd4YqJJjvvsoh8o1axZck8tEOJrAhVayBJiZqcs0,663
-odoo/addons/community_maps/security/ir.model.access.csv,sha256=ynWka_UvZPJQG48OctxRXaSDq1YG5xJN8cNpvuiyvcE,1042
+odoo/addons/community_maps/security/ir.model.access.csv,sha256=fmcjrIGc70FfjBqXm3motliBgeF3pf3hYSTSmhaPZis,1043
+odoo/addons/community_maps/security/rules.xml,sha256=JCgklus-zkNOotOvH8RBrDsE4xBv2izEzWEi3o_MZTE,2638
 odoo/addons/community_maps/services/__init__.py,sha256=TiJjr_nNPl6lDLXRvcB1P67YQwTQRBLpQOv2ifJDtnM,29
-odoo/addons/community_maps/services/cm_map_service.py,sha256=1Eeej8xoVHDQuj8_qj4rSFmXGWG8JngJi56GSn0qx4g,8361
+odoo/addons/community_maps/services/cm_map_service.py,sha256=Dj8oMpJRpEZ2_fBDtuHDfnvdJOZG0AX2NXfe5bVn7lA,8339
+odoo/addons/community_maps/services/cm_ping_service.py,sha256=paTEEzuhoWw_zx9NQvEi2M08xZP86R_adHgB8IvD2n4,865
 odoo/addons/community_maps/static/src/img/community_maps_odoo_icon.png,sha256=PUF0Dgj46wbuYpfMZWS1GqbxiEVdvRYZiBo5joXHl4E,21929
-odoo/addons/community_maps/views/cm_filter_group.xml,sha256=cLkTgO9mY7VyCinhDphl_d131Ao8FnipM8-i5qwVXfY,2206
-odoo/addons/community_maps/views/cm_form_model.xml,sha256=GRNZiNY5RJDKzDxqxdQ8OCuJCmJA8gdTMEWwr4qHC9g,2657
-odoo/addons/community_maps/views/cm_form_submission.xml,sha256=lZtCWVzr4ZyAjHKuKJtpLOiB1Or4-0opbt_1aQCGSIQ,4255
-odoo/addons/community_maps/views/cm_map.xml,sha256=AsY-FAQYyu3lA8jVWz_c2jCuuVIVrRAavdwPNKTtIVs,5306
-odoo/addons/community_maps/views/cm_map_colorschema.xml,sha256=lL0r3eTzoek4Dn3RkfVUM0J3Vg42Ho3UWzwLo6rFtmM,2122
+odoo/addons/community_maps/views/cm_filter_group.xml,sha256=bUrzapoveAuvaFnpSYTbVGIx68C_IyIEsJP_Bg_G-5I,2609
+odoo/addons/community_maps/views/cm_form_model.xml,sha256=5qQCoN_bPwpSZc296w4J2AYxFgYHJfTgJggIlJuJ5AY,2737
+odoo/addons/community_maps/views/cm_form_submission.xml,sha256=jBP8s0yuiEEQe37H9W9WGmd--mY6FunH0rFL9efrRCU,5063
+odoo/addons/community_maps/views/cm_map.xml,sha256=6m93Sb9a7CpvWVvVUqLrrhnln95J7_NxhT8DN8cmtGA,5922
+odoo/addons/community_maps/views/cm_map_colorschema.xml,sha256=Q-tzuSkBBsWHrt7G527CqjVcQlJGpkzJiixiFnOTpg0,2189
 odoo/addons/community_maps/views/cm_menu_root.xml,sha256=0GyEsDU__nRXMFDTmPE9dRFYm0OnEtgR5RyOKDzYzfQ,171
-odoo/addons/community_maps/views/cm_menu_root_config.xml,sha256=O3Qqutscv55bPpnhr8cnGlwcjpvdkjm4aN3QX4YfnSw,147
-odoo/addons/community_maps/views/cm_place.xml,sha256=WRiW3rDq7Hsu1-WcH_CA5JKuLc0zoVqUaAFgTNNYfro,10563
-odoo/addons/community_maps/views/cm_place_category.xml,sha256=Pp_KrWdUu3jcgctpapUVYJ9FkjzE5FkmOUpm1rZIF6c,1806
+odoo/addons/community_maps/views/cm_menu_root_config.xml,sha256=WSVjKyCIU_EL6Z3cPvNFNP5ZiUkBLF8An5qcibpImD8,135
+odoo/addons/community_maps/views/cm_place.xml,sha256=r26iNbyNA6x6jRdaviMEwfZs7mWC3djYwDTrRKZ5XZI,8370
+odoo/addons/community_maps/views/cm_place_category.xml,sha256=FDjR69wwdZL-apce_f5r8NhMQR4uJwj_LsfPAbr5YB8,2197
 odoo/addons/community_maps/views/cm_place_presenter_metadata.xml,sha256=onk8Re4GGkPwITJoqZhPS6WcWEFXqAUYi9zE1kadoV8,770
-odoo/addons/community_maps/views/cm_presenter_model.xml,sha256=IAHY0VtH_py-tda9KBFllzLPnuFnyo4BJ0pqV1K7ZdY,1718
-odoo14_addon_community_maps-14.0.0.0.2.dist-info/METADATA,sha256=EuWGIiTHfx1t8X7ADMJZC9S2JJ7y2xahDYcgETQt1Us,562
-odoo14_addon_community_maps-14.0.0.0.2.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-odoo14_addon_community_maps-14.0.0.0.2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_community_maps-14.0.0.0.2.dist-info/RECORD,,
+odoo/addons/community_maps/views/cm_presenter_model.xml,sha256=lCjOtom262AS2ud0k72JMPgsHow3NuIbddPbwSMlypA,1798
+odoo14_addon_community_maps-14.0.0.1.0.dist-info/METADATA,sha256=S3DNMwYxCgZJteRaOo2qCYmgWKX0LYNC38EoD-u5nXc,598
+odoo14_addon_community_maps-14.0.0.1.0.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
+odoo14_addon_community_maps-14.0.0.1.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_community_maps-14.0.0.1.0.dist-info/RECORD,,
```


# Comparing `tmp/odoo_addon_account_banking_mandate-16.0.1.0.1-py3-none-any.whl.zip` & `tmp/odoo_addon_account_banking_mandate-16.0.1.0.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,71 +1,71 @@
-Zip file size: 168936 bytes, number of entries: 69
--rw-r--r--  2.0 unx     3730 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/README.rst
--rw-r--r--  2.0 unx       21 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/__init__.py
--rw-r--r--  2.0 unx     1199 b- defN 23-Apr-29 00:05 odoo/addons/account_banking_mandate/__manifest__.py
--rw-r--r--  2.0 unx      332 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/data/mandate_reference_sequence.xml
--rw-r--r--  2.0 unx    22572 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/account_banking_mandate.pot
--rw-r--r--  2.0 unx    25975 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/am.po
--rw-r--r--  2.0 unx    25991 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/ar.po
--rw-r--r--  2.0 unx    31940 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/ca.po
--rw-r--r--  2.0 unx    25928 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/cs.po
--rw-r--r--  2.0 unx    25843 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/da_DK.po
--rw-r--r--  2.0 unx    26972 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/de.po
--rw-r--r--  2.0 unx    26085 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/el_GR.po
--rw-r--r--  2.0 unx    31354 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/es.po
--rw-r--r--  2.0 unx    31286 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/es_AR.po
--rw-r--r--  2.0 unx    25926 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/es_CR.po
--rw-r--r--  2.0 unx    25923 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/es_EC.po
--rw-r--r--  2.0 unx    25993 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/es_ES.po
--rw-r--r--  2.0 unx    25922 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/es_MX.po
--rw-r--r--  2.0 unx    25925 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/es_VE.po
--rw-r--r--  2.0 unx    25902 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/et.po
--rw-r--r--  2.0 unx    26061 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/fi.po
--rw-r--r--  2.0 unx    30966 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/fr.po
--rw-r--r--  2.0 unx    28629 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/fr_FR.po
--rw-r--r--  2.0 unx    25977 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/gl.po
--rw-r--r--  2.0 unx    26040 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/hr.po
--rw-r--r--  2.0 unx    31048 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/it.po
--rw-r--r--  2.0 unx    25974 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/lt.po
--rw-r--r--  2.0 unx    26151 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/nb_NO.po
--rw-r--r--  2.0 unx    30711 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/nl.po
--rw-r--r--  2.0 unx    25922 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/nl_BE.po
--rw-r--r--  2.0 unx    25962 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/pl.po
--rw-r--r--  2.0 unx    25989 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/pt.po
--rw-r--r--  2.0 unx    26536 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/pt_BR.po
--rw-r--r--  2.0 unx    26085 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/pt_PT.po
--rw-r--r--  2.0 unx    25949 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/ro.po
--rw-r--r--  2.0 unx    26056 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/ru.po
--rw-r--r--  2.0 unx    27172 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/sl.po
--rw-r--r--  2.0 unx    25904 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/th.po
--rw-r--r--  2.0 unx    25957 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/tr.po
--rw-r--r--  2.0 unx    25902 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/i18n/vi.po
--rw-r--r--  2.0 unx      226 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/models/__init__.py
--rw-r--r--  2.0 unx     7789 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/models/account_banking_mandate.py
--rw-r--r--  2.0 unx     2130 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/models/account_move.py
--rw-r--r--  2.0 unx     1214 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/models/account_move_line.py
--rw-r--r--  2.0 unx     2724 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/models/account_payment_line.py
--rw-r--r--  2.0 unx      458 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/models/account_payment_method.py
--rw-r--r--  2.0 unx     1913 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/models/res_partner.py
--rw-r--r--  2.0 unx     1463 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/models/res_partner_bank.py
--rw-r--r--  2.0 unx      468 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      398 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx       95 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/readme/INSTALL.rst
--rw-r--r--  2.0 unx       79 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/readme/USAGE.rst
--rw-r--r--  2.0 unx      358 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/security/ir.model.access.csv
--rw-r--r--  2.0 unx      762 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/security/mandate_security.xml
--rw-r--r--  2.0 unx     9455 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/static/description/icon.png
--rw-r--r--  2.0 unx    14068 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/static/description/index.html
--rw-r--r--  2.0 unx       62 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/tests/__init__.py
--rw-r--r--  2.0 unx    10641 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/tests/test_invoice_mandate.py
--rw-r--r--  2.0 unx     6670 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/tests/test_mandate.py
--rw-r--r--  2.0 unx     9964 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/views/account_banking_mandate_view.xml
--rw-r--r--  2.0 unx     1103 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/views/account_move_view.xml
--rw-r--r--  2.0 unx     1762 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/views/account_payment_line.xml
--rw-r--r--  2.0 unx      711 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/views/account_payment_method.xml
--rw-r--r--  2.0 unx     1087 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/views/res_partner.xml
--rw-r--r--  2.0 unx     1364 b- defN 23-Apr-29 00:04 odoo/addons/account_banking_mandate/views/res_partner_bank_view.xml
--rw-r--r--  2.0 unx     4428 b- defN 23-Apr-29 00:05 odoo_addon_account_banking_mandate-16.0.1.0.1.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Apr-29 00:05 odoo_addon_account_banking_mandate-16.0.1.0.1.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Apr-29 00:05 odoo_addon_account_banking_mandate-16.0.1.0.1.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     7631 b- defN 23-Apr-29 00:05 odoo_addon_account_banking_mandate-16.0.1.0.1.dist-info/RECORD
-69 files, 1062930 bytes uncompressed, 156200 bytes compressed:  85.3%
+Zip file size: 168572 bytes, number of entries: 69
+-rw-r--r--  2.0 unx     3730 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/README.rst
+-rw-r--r--  2.0 unx       21 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/__init__.py
+-rw-r--r--  2.0 unx     1199 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/__manifest__.py
+-rw-r--r--  2.0 unx      332 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/data/mandate_reference_sequence.xml
+-rw-r--r--  2.0 unx    22572 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/account_banking_mandate.pot
+-rw-r--r--  2.0 unx    25975 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/am.po
+-rw-r--r--  2.0 unx    25991 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/ar.po
+-rw-r--r--  2.0 unx    31940 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/ca.po
+-rw-r--r--  2.0 unx    25928 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/cs.po
+-rw-r--r--  2.0 unx    25843 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/da_DK.po
+-rw-r--r--  2.0 unx    26972 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/de.po
+-rw-r--r--  2.0 unx    26085 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/el_GR.po
+-rw-r--r--  2.0 unx    31354 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/es.po
+-rw-r--r--  2.0 unx    31286 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/es_AR.po
+-rw-r--r--  2.0 unx    25926 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/es_CR.po
+-rw-r--r--  2.0 unx    25923 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/es_EC.po
+-rw-r--r--  2.0 unx    25993 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/es_ES.po
+-rw-r--r--  2.0 unx    25922 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/es_MX.po
+-rw-r--r--  2.0 unx    25925 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/es_VE.po
+-rw-r--r--  2.0 unx    25902 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/et.po
+-rw-r--r--  2.0 unx    26061 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/fi.po
+-rw-r--r--  2.0 unx    30966 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/fr.po
+-rw-r--r--  2.0 unx    28629 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/fr_FR.po
+-rw-r--r--  2.0 unx    25977 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/gl.po
+-rw-r--r--  2.0 unx    26040 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/hr.po
+-rw-r--r--  2.0 unx    31048 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/it.po
+-rw-r--r--  2.0 unx    25974 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/lt.po
+-rw-r--r--  2.0 unx    26151 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/nb_NO.po
+-rw-r--r--  2.0 unx    30711 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/nl.po
+-rw-r--r--  2.0 unx    25922 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/nl_BE.po
+-rw-r--r--  2.0 unx    25962 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/pl.po
+-rw-r--r--  2.0 unx    25989 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/pt.po
+-rw-r--r--  2.0 unx    26536 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/pt_BR.po
+-rw-r--r--  2.0 unx    26085 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/pt_PT.po
+-rw-r--r--  2.0 unx    25949 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/ro.po
+-rw-r--r--  2.0 unx    26056 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/ru.po
+-rw-r--r--  2.0 unx    27172 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/sl.po
+-rw-r--r--  2.0 unx    25904 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/th.po
+-rw-r--r--  2.0 unx    25957 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/tr.po
+-rw-r--r--  2.0 unx    25902 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/i18n/vi.po
+-rw-r--r--  2.0 unx      226 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/models/__init__.py
+-rw-r--r--  2.0 unx     7789 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/models/account_banking_mandate.py
+-rw-r--r--  2.0 unx      973 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/models/account_move.py
+-rw-r--r--  2.0 unx     1214 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/models/account_move_line.py
+-rw-r--r--  2.0 unx     2724 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/models/account_payment_line.py
+-rw-r--r--  2.0 unx      458 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/models/account_payment_method.py
+-rw-r--r--  2.0 unx     1913 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/models/res_partner.py
+-rw-r--r--  2.0 unx     1463 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/models/res_partner_bank.py
+-rw-r--r--  2.0 unx      468 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      398 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx       95 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/readme/INSTALL.rst
+-rw-r--r--  2.0 unx       79 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/readme/USAGE.rst
+-rw-r--r--  2.0 unx      358 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/security/ir.model.access.csv
+-rw-r--r--  2.0 unx      762 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/security/mandate_security.xml
+-rw-r--r--  2.0 unx     9455 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/static/description/icon.png
+-rw-r--r--  2.0 unx    14068 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/static/description/index.html
+-rw-r--r--  2.0 unx       62 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/tests/__init__.py
+-rw-r--r--  2.0 unx    10386 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/tests/test_invoice_mandate.py
+-rw-r--r--  2.0 unx     6670 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/tests/test_mandate.py
+-rw-r--r--  2.0 unx     9964 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/views/account_banking_mandate_view.xml
+-rw-r--r--  2.0 unx     1103 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/views/account_move_view.xml
+-rw-r--r--  2.0 unx     1762 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/views/account_payment_line.xml
+-rw-r--r--  2.0 unx      711 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/views/account_payment_method.xml
+-rw-r--r--  2.0 unx     1087 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/views/res_partner.xml
+-rw-r--r--  2.0 unx     1364 b- defN 23-May-05 07:52 odoo/addons/account_banking_mandate/views/res_partner_bank_view.xml
+-rw-r--r--  2.0 unx     4428 b- defN 23-May-05 07:52 odoo_addon_account_banking_mandate-16.0.1.0.2.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-May-05 07:52 odoo_addon_account_banking_mandate-16.0.1.0.2.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-May-05 07:52 odoo_addon_account_banking_mandate-16.0.1.0.2.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     7630 b- defN 23-May-05 07:52 odoo_addon_account_banking_mandate-16.0.1.0.2.dist-info/RECORD
+69 files, 1061517 bytes uncompressed, 155836 bytes compressed:  85.3%
```

## zipnote {}

```diff
@@ -189,20 +189,20 @@
 
 Filename: odoo/addons/account_banking_mandate/views/res_partner.xml
 Comment: 
 
 Filename: odoo/addons/account_banking_mandate/views/res_partner_bank_view.xml
 Comment: 
 
-Filename: odoo_addon_account_banking_mandate-16.0.1.0.1.dist-info/METADATA
+Filename: odoo_addon_account_banking_mandate-16.0.1.0.2.dist-info/METADATA
 Comment: 
 
-Filename: odoo_addon_account_banking_mandate-16.0.1.0.1.dist-info/WHEEL
+Filename: odoo_addon_account_banking_mandate-16.0.1.0.2.dist-info/WHEEL
 Comment: 
 
-Filename: odoo_addon_account_banking_mandate-16.0.1.0.1.dist-info/top_level.txt
+Filename: odoo_addon_account_banking_mandate-16.0.1.0.2.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo_addon_account_banking_mandate-16.0.1.0.1.dist-info/RECORD
+Filename: odoo_addon_account_banking_mandate-16.0.1.0.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/account_banking_mandate/__manifest__.py

```diff
@@ -3,15 +3,15 @@
 # Copyright 2015-2020 Akretion - Alexis de Lattre <alexis.delattre@akretion.com>
 # Copyright 2017 Tecnativa - Carlos Dauden <carlos.dauden@tecnativa.com>
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
 
 {
     "name": "Account Banking Mandate",
     "summary": "Banking mandates",
-    "version": "16.0.1.0.1",
+    "version": "16.0.1.0.2",
     "development_status": "Production/Stable",
     "license": "AGPL-3",
     "author": "Compassion CH, "
     "Tecnativa, "
     "Akretion, "
     "Therp B.V., "
     "Odoo Community Association (OCA)",
```

## odoo/addons/account_banking_mandate/models/account_move.py

```diff
@@ -8,52 +8,24 @@
 class AccountMove(models.Model):
     _inherit = "account.move"
 
     mandate_id = fields.Many2one(
         "account.banking.mandate",
         string="Direct Debit Mandate",
         ondelete="restrict",
-        readonly=True,
+        readonly=False,
         check_company=True,
         states={"draft": [("readonly", False)]},
+        compute="_compute_mandate_id",
+        store="True",
     )
     mandate_required = fields.Boolean(
         related="payment_mode_id.payment_method_id.mandate_required", readonly=True
     )
 
-    @api.model_create_multi
-    def create(self, vals_list):
-        """Fill the mandate_id from the partner if none is provided on
-        creation, using same method as upstream."""
-        onchanges = {
-            "_onchange_partner_id": ["mandate_id"],
-            "_onchange_payment_mode_id": ["mandate_id"],
-        }
-        for onchange_method, changed_fields in list(onchanges.items()):
-            for vals in vals_list:
-                if any(f not in vals for f in changed_fields):
-                    move = self.new(vals)
-                    move = move.with_company(move.company_id.id)
-                    getattr(move, onchange_method)()
-                    for field in changed_fields:
-                        if field not in vals and move[field]:
-                            vals[field] = move._fields[field].convert_to_write(
-                                move[field], move
-                            )
-        return super().create(vals_list)
-
-    def set_mandate(self):
-        if self.payment_mode_id.payment_method_id.mandate_required:
-            self.mandate_id = self.partner_id.valid_mandate_id
-        else:
-            self.mandate_id = False
-
-    @api.onchange("partner_id", "company_id")
-    def _onchange_partner_id(self):
-        """Select by default the first valid mandate of the partner"""
-        res = super()._onchange_partner_id()
-        self.set_mandate()
-        return res
-
-    @api.onchange("payment_mode_id")
-    def _onchange_payment_mode_id(self):
-        self.set_mandate()
+    @api.depends("payment_mode_id", "partner_id")
+    def _compute_mandate_id(self):
+        for move in self:
+            if move.payment_mode_id.payment_method_id.mandate_required:
+                move.mandate_id = move.partner_id.valid_mandate_id
+            else:
+                move.mandate_id = False
```

## odoo/addons/account_banking_mandate/tests/test_invoice_mandate.py

```diff
@@ -8,16 +8,14 @@
 from odoo.tests.common import TransactionCase
 
 from odoo.addons.account.models.account_payment_method import AccountPaymentMethod
 
 
 class TestInvoiceMandate(TransactionCase):
     def test_post_invoice_01(self):
-        self.invoice._onchange_partner_id()
-
         self.assertEqual(self.invoice.mandate_id, self.mandate)
 
         self.invoice.action_post()
 
         payable_move_lines = self.invoice.line_ids.filtered(
             lambda s: s.account_id == self.invoice_account
         )
@@ -53,27 +51,25 @@
                 "partner_bank_id": bank_account.id,
                 "signature_date": "2015-01-01",
                 "company_id": self.company_2.id,
             }
         )
         mandate_2.validate()
 
-        self.invoice._onchange_partner_id()
         self.assertEqual(self.invoice.mandate_id, self.mandate)
         self.invoice.action_post()
 
         payable_move_lines = self.invoice.line_ids.filtered(
             lambda s: s.account_id == self.invoice_account
         )
         if payable_move_lines:
             with self.assertRaises(UserError):
                 payable_move_lines[0].move_id.mandate_id = mandate_2
 
     def test_post_invoice_and_refund_02(self):
-        self.invoice._onchange_partner_id()
         self.invoice.action_post()
         self.assertEqual(self.invoice.mandate_id, self.mandate)
         move_reversal = (
             self.env["account.move.reversal"]
             .with_context(active_model="account.move", active_ids=self.invoice.ids)
             .create(
                 {
@@ -114,15 +110,14 @@
                 "partner_id": self.partner.id,
                 "move_type": "out_invoice",
                 "company_id": self.company.id,
             }
         )
 
         invoice.partner_id = partner_2
-        invoice._onchange_partner_id()
         self.assertEqual(invoice.mandate_id, mandate_2)
 
     def test_onchange_payment_mode(self):
 
         Method_get_payment_method_information = (
             AccountPaymentMethod._get_payment_method_information
         )
@@ -135,15 +130,14 @@
         invoice = self.env["account.move"].new(
             {
                 "partner_id": self.partner.id,
                 "move_type": "out_invoice",
                 "company_id": self.company.id,
             }
         )
-        invoice._onchange_partner_id()
 
         with patch.object(
             AccountPaymentMethod,
             "_get_payment_method_information",
             _get_payment_method_information,
         ):
             pay_method_test = self.env["account.payment.method"].create(
@@ -160,15 +154,14 @@
                 "company_id": self.company.id,
                 "bank_account_link": "variable",
                 "payment_method_id": pay_method_test.id,
             }
         )
 
         invoice.payment_mode_id = mode_inbound_acme_2
-        invoice._onchange_payment_mode_id()
         self.assertEqual(invoice.mandate_id, self.env["account.banking.mandate"])
 
     def test_invoice_constrains(self):
         partner_2 = self._create_res_partner("Jane with ACME Bank")
         partner_2.customer_payment_mode_id = self.mode_inbound_acme
         bank_account = self.env["res.partner.bank"].create(
             {
```

## Comparing `odoo_addon_account_banking_mandate-16.0.1.0.1.dist-info/METADATA` & `odoo_addon_account_banking_mandate-16.0.1.0.2.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo-addon-account-banking-mandate
-Version: 16.0.1.0.1
+Version: 16.0.1.0.2
 Summary: Banking mandates
 Home-page: https://github.com/OCA/bank-payment
 Author: Compassion CH, Tecnativa, Akretion, Therp B.V., Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo_addon_account_banking_mandate-16.0.1.0.1.dist-info/RECORD` & `odoo_addon_account_banking_mandate-16.0.1.0.2.dist-info/RECORD`

 * *Files 5% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 odoo/addons/account_banking_mandate/README.rst,sha256=xSWAd9UY8ZodVF5JCwOzmH6VXrcJLVBGZ9eMEekn_40,3730
 odoo/addons/account_banking_mandate/__init__.py,sha256=X9EJGOE2GtZbS0G82PtSXmWSZ_R8jEM0rlJTDliQjp4,21
-odoo/addons/account_banking_mandate/__manifest__.py,sha256=4wDpTcbLVjcuqJXl2g1UqOFkRi_6J__QkTnGdWur6rY,1199
+odoo/addons/account_banking_mandate/__manifest__.py,sha256=EXBX0pxfabVf7g6JuypEfkquWwCe_RwaEHJAdjils70,1199
 odoo/addons/account_banking_mandate/data/mandate_reference_sequence.xml,sha256=Utvydu2_pMDD39NFGl3jhrLcNCMSi9o4pVWD9oqtV7Y,332
 odoo/addons/account_banking_mandate/i18n/account_banking_mandate.pot,sha256=o0cUhjgYql00fcr8fgmLeWdpLx3LQH1axZIcT7EHDus,22572
 odoo/addons/account_banking_mandate/i18n/am.po,sha256=iRDQC60ac-YvWgbXOSCSLnYouSmuPO2-bDsybu6t2Ow,25975
 odoo/addons/account_banking_mandate/i18n/ar.po,sha256=-iMAw5a-XF4PYZKr9mm4sQfoRF1eIL7VIVS9rTSRxHc,25991
 odoo/addons/account_banking_mandate/i18n/ca.po,sha256=fc2rHnVdgj7mUkRIklxFX5osOKzj0YTzGyixe6HgJ9g,31940
 odoo/addons/account_banking_mandate/i18n/cs.po,sha256=Twcltv7bO7_XpNLQeU77k9z8omxfMswNjYDfqsg2Q3c,25928
 odoo/addons/account_banking_mandate/i18n/da_DK.po,sha256=5Qkc7dgZn8-gDU97E9aU1D2TUJ3bENh__Ij41P_KT2Q,25843
@@ -36,34 +36,34 @@
 odoo/addons/account_banking_mandate/i18n/ru.po,sha256=e4X5Ay_Yvd35v2Q6YHODc7S-s6JRH-dEGl7IdxITu60,26056
 odoo/addons/account_banking_mandate/i18n/sl.po,sha256=Z2SsSKtZ0d0nVOl-qsaKgTgQUbhvOerLfOZaFujtObE,27172
 odoo/addons/account_banking_mandate/i18n/th.po,sha256=Z2kwnH7mQlgTyL3SE_AJ8JAldEf2J4GGyGIZ25hIETw,25904
 odoo/addons/account_banking_mandate/i18n/tr.po,sha256=mZao4kIq3qsaRlvEXB1gHzM9eGegj9npjft-8e0EJtk,25957
 odoo/addons/account_banking_mandate/i18n/vi.po,sha256=xQRL-fQVludLBAoYCOwlzU-apcmxGQbIIC3uXRWu5mc,25902
 odoo/addons/account_banking_mandate/models/__init__.py,sha256=h7Yg6QxhBEd_GVy6HfsDLkYks22cRkdZo9xvLwhuwFU,226
 odoo/addons/account_banking_mandate/models/account_banking_mandate.py,sha256=cSIEVH1fAztYxiXeNQwUX-Cy3UjoGYSYiaDg4xKyHiA,7789
-odoo/addons/account_banking_mandate/models/account_move.py,sha256=NOrARea2bk_Ng-FYITMOPdCjEbA51d6RFYsym7oXyMk,2130
+odoo/addons/account_banking_mandate/models/account_move.py,sha256=hPnHQobnV6hAlPwF8Hro1DqcHQXE7iXt16w9k4kLNZk,973
 odoo/addons/account_banking_mandate/models/account_move_line.py,sha256=7-IIKtt2-6xTerBapvGXria5lxWIpm31yIoibfQiADo,1214
 odoo/addons/account_banking_mandate/models/account_payment_line.py,sha256=0q6nHZht--Il3U3ryjdAJD6WHloA1VYupJelD6sLf6M,2724
 odoo/addons/account_banking_mandate/models/account_payment_method.py,sha256=Ffp7g6a6tQs4UrxSJb7lvVz4e8fP98kDngPEQm0GsSQ,458
 odoo/addons/account_banking_mandate/models/res_partner.py,sha256=wiS2oEtFrpefMIKXg_n-DRHkJUeZc6o0YB2wh3nwqEs,1913
 odoo/addons/account_banking_mandate/models/res_partner_bank.py,sha256=Q_8avXS2DAygvlHoJ70jPNftRX2OMsF2XWp-QkmdNmw,1463
 odoo/addons/account_banking_mandate/readme/CONTRIBUTORS.rst,sha256=rFZxhuJ36x8aVuNuUhlhPq4ntwMqJrmoqSu3oUK7K2s,468
 odoo/addons/account_banking_mandate/readme/DESCRIPTION.rst,sha256=1QaD4xN64D3NNgDRkjzBLETrWURlh5wPm6DZNec39rk,398
 odoo/addons/account_banking_mandate/readme/INSTALL.rst,sha256=ppQP7H_JX6TrJVPo5nb5GWY0IIa5qY2jKD1nMrO4PG8,95
 odoo/addons/account_banking_mandate/readme/USAGE.rst,sha256=bGf8r-kiaS29WfWjwEZLsuGcIkoSxEPRIiQOqWzq3zw,79
 odoo/addons/account_banking_mandate/security/ir.model.access.csv,sha256=66g45xnkyv9SFcqo06-lhF_ffqxLVDfTSiChc_MSxNQ,358
 odoo/addons/account_banking_mandate/security/mandate_security.xml,sha256=WbewZ27MzIpwIwNm22uZSxgDPejYQ7fkCtAdaJJqIwc,762
 odoo/addons/account_banking_mandate/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
 odoo/addons/account_banking_mandate/static/description/index.html,sha256=b610CRzNB0zJuk9zM6HKgSh_RIVB6KPF4eJCnSME3Qs,14068
 odoo/addons/account_banking_mandate/tests/__init__.py,sha256=VYtfoW8h3bB01yKyMfXK9lLWooWPaxF2lTd40c5xwUo,62
-odoo/addons/account_banking_mandate/tests/test_invoice_mandate.py,sha256=mBWYr2f6EQxJxItk1DRK02G-7rnc687kM6Fdkn4RsTs,10641
+odoo/addons/account_banking_mandate/tests/test_invoice_mandate.py,sha256=C_QUQFjaqfqElwK0ZB5DHVpNTpdAEx6REM-IbYFDGOc,10386
 odoo/addons/account_banking_mandate/tests/test_mandate.py,sha256=Zc639cZKxiUYwFci0lBwZGBPtWP_9AteaEW6DEcmu8U,6670
 odoo/addons/account_banking_mandate/views/account_banking_mandate_view.xml,sha256=mi0d9OZtq3XPSH0vQogr3QfonfnjuIxWmx1WQeC-VAo,9964
 odoo/addons/account_banking_mandate/views/account_move_view.xml,sha256=9MLc5hLMk1BLxBWoduB_0PeWPErkza6CkjThqqlSGeU,1103
 odoo/addons/account_banking_mandate/views/account_payment_line.xml,sha256=gQp4ZCTGpmAaalfRpBsOKK5XklPzc8V4xyCL0LX32Tk,1762
 odoo/addons/account_banking_mandate/views/account_payment_method.xml,sha256=xjrdpvlyMtnAWsUz34EkTqqlferFW-kDKb9y653hncQ,711
 odoo/addons/account_banking_mandate/views/res_partner.xml,sha256=GpZpEIPSBQhYNhKlGIthnkYABy4rNMF1z2keGRq0nH4,1087
 odoo/addons/account_banking_mandate/views/res_partner_bank_view.xml,sha256=-OG2FYOgvx8quFVoJSuVkK7aHd9BMNsfdBFociW0zZk,1364
-odoo_addon_account_banking_mandate-16.0.1.0.1.dist-info/METADATA,sha256=ibvDiRhaXM0c6Wp3bdPPuFVRgIcxwNXmBK2FpuM0TqE,4428
-odoo_addon_account_banking_mandate-16.0.1.0.1.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-odoo_addon_account_banking_mandate-16.0.1.0.1.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo_addon_account_banking_mandate-16.0.1.0.1.dist-info/RECORD,,
+odoo_addon_account_banking_mandate-16.0.1.0.2.dist-info/METADATA,sha256=Fm-O1MJZ9oLcVkiQ_A02TuMXVSjEJ3SZCqLeB-MEA1Q,4428
+odoo_addon_account_banking_mandate-16.0.1.0.2.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo_addon_account_banking_mandate-16.0.1.0.2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo_addon_account_banking_mandate-16.0.1.0.2.dist-info/RECORD,,
```

